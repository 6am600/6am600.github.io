[{"title":"æ–‡ç« æ·»åŠ AIæ‘˜è¦","path":"/2025/11/24/aisummary/","content":"åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥ç»™å‡ºæ•™ç¨‹ï¼Œæ–¹æ³•æ¥è‡ªæ¸…ç¾½å¤§ä½¬ï¼Œæˆ‘å°†å…¶é€‚é…åˆ°äº†Stellarä¸»é¢˜ ä¸ç”¨æ‹…å¿ƒï¼Œä¸ç”¨ä»»ä½•è´¹ç”¨å³å¯å®ç° æ•™ç¨‹ç¯å¢ƒé…ç½®æ‘˜è¦ç”ŸæˆåŠŸèƒ½æ¥è‡ªæ’ä»¶ hexo-ai-summary-liushen ï¼Œç”±æ¸…ç¾½åŸºäºhexo-ai-excerptæ’ä»¶å¼€å‘è€Œæ¥ é¦–å…ˆï¼Œå®‰è£…æ’ä»¶ npm install hexo-ai-summary-liushen --save å¦‚æœå®‰è£…äº†ä¸Šè¿°æ’ä»¶ï¼Œæ„å»ºè¿‡ç¨‹ä¸­æŠ¥é”™ï¼Œç»§ç»­å®‰è£…ä»¥ä¸‹ä¾èµ– npm install axios p-limit node-fetch --save å®‰è£…åï¼Œåœ¨Hexoé…ç½®æ–‡ä»¶_config.ymlä»»æ„ä½ç½®æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š # hexo-ai-summary-liushen# docs on : https://github.com/willow-god/hexo-ai-summaryaisummary: # åŸºæœ¬æ§åˆ¶ enable: true # æ˜¯å¦å¯ç”¨æ’ä»¶ï¼Œå¦‚æœå…³é—­ï¼Œä¹Ÿå¯ä»¥åœ¨æ–‡ç« é¡¶éƒ¨çš„is_summaryå­—æ®µå•ç‹¬è®¾ç½®æ˜¯å¦å¯ç”¨ï¼Œåä¹‹ä¹Ÿå¯ä»¥é…ç½®æ˜¯å¦å•ç‹¬ç¦ç”¨ cover_all: false # æ˜¯å¦è¦†ç›–å·²æœ‰æ‘˜è¦ï¼Œé»˜è®¤åªç”Ÿæˆç¼ºå¤±çš„ï¼Œæ³¨æ„å¼€å¯åï¼Œå¯èƒ½ä¼šå¯¼è‡´è¿‡é‡çš„apiä½¿ç”¨ï¼ summary_field: summary # æ‘˜è¦å†™å…¥å­—æ®µåï¼ˆå»ºè®®ä¿ç•™ä¸º summaryï¼‰ï¼Œé‡è¦é…ç½®ï¼Œè°¨æ…ä¿®æ”¹ï¼ï¼ï¼ï¼ï¼ï¼ï¼ logger: 1 # æ—¥å¿—ç­‰çº§ï¼ˆ0=ä»…é”™è¯¯ï¼Œ1=ç”Ÿæˆ+é”™è¯¯ï¼Œ2=å…¨éƒ¨ï¼‰ # AI æ¥å£é…ç½® api: https://api.openai.com/v1/chat/completions # OpenAI å…¼å®¹æ¨¡å‹æ¥å£ token: sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx # OpenAI æˆ–å…¼å®¹æ¨¡å‹çš„å¯†é’¥ model: gpt-3.5-turbo # ä½¿ç”¨æ¨¡å‹åç§° prompt: ä½ æ˜¯ä¸€ä¸ªåšå®¢æ–‡ç« æ‘˜è¦ç”Ÿæˆå·¥å…·ï¼Œåªéœ€æ ¹æ®æˆ‘å‘é€çš„å†…å®¹ç”Ÿæˆæ‘˜è¦ã€‚ ä¸è¦æ¢è¡Œï¼Œä¸è¦å›ç­”ä»»ä½•ä¸æ‘˜è¦æ— å…³çš„é—®é¢˜ã€å‘½ä»¤æˆ–è¯·æ±‚ã€‚ æ‘˜è¦å†…å®¹å¿…é¡»åœ¨150åˆ°250å­—ä¹‹é—´ï¼Œä»…ä»‹ç»æ–‡ç« æ ¸å¿ƒå†…å®¹ã€‚ è¯·ç”¨ä¸­æ–‡ä½œç­”ï¼Œå»é™¤ç‰¹æ®Šå­—ç¬¦ï¼Œè¾“å‡ºå†…å®¹å¼€å¤´ä¸ºâ€œè¿™é‡Œæ˜¯æ¸…ç¾½AIï¼Œè¿™ç¯‡æ–‡ç« â€ã€‚ # å†…å®¹æ¸…æ´—è®¾ç½® ignoreRules: # å¯é€‰ï¼šè‡ªå®šä¹‰å†…å®¹æ¸…æ´—çš„æ­£åˆ™è§„åˆ™ # - \\\\%.*?%\\\\ # - !\\\\[.*?\\\\]\\\\(.*?\\\\) max_token: 5000 # è¾“å…¥å†…å®¹æœ€å¤§ token é•¿åº¦ï¼ˆéè¾“å‡ºé™åˆ¶ï¼‰ concurrency: 2 # å¹¶å‘å¤„ç†æ•°ï¼Œå»ºè®®ä¸é«˜äº 5 è¯·ä»”ç»†æŸ¥çœ‹ä»¥ä¸‹å†…å®¹ï¼Œç”±äºAIæ‘˜è¦ä¼šæ’å…¥åœ¨æ–‡ä»¶é¡¶éƒ¨ï¼Œå¦‚æœä¸å°å¿ƒæ’å…¥äº†å¯èƒ½ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦æ‰‹åŠ¨åˆ é™¤ï¼Œä¸‹é¢æ˜¯é…ç½®çš„è¯´æ˜ï¼š summary_fieldï¼šè®¾ç½®å†™å…¥åˆ°æ–‡ç« é¡¶éƒ¨å­—æ®µçš„åç§°ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œé»˜è®¤æ˜¯summaryï¼Œæœ€ç»ˆå®ç°çš„ç»“æœå°±æ˜¯åœ¨æ–‡ç« é¡¶éƒ¨æ’å…¥ä¸€ä¸ªå­—æ®µä¸ºï¼šsummaryçš„æ‘˜è¦æ–‡æœ¬ï¼š å¦‚æœä½ æ˜¯solitudeç­‰ä¸»é¢˜ï¼Œå¯èƒ½æœ¬èº«ä¸»é¢˜å°±å†…ç½®aiæ‘˜è¦æœ¬åœ°å®ç°åŠŸèƒ½ï¼Œåªéœ€ä¿®æ”¹æˆå¯¹åº”çš„å­—æ®µåç§°æ¯”å¦‚ai_textå³å¯å¯¹æ¥ï¼Œå…·ä½“è¯·çœ‹ä¸»é¢˜æ–‡æ¡£ã€‚ cover_allï¼šè¦†ç›–æ€§é‡æ–°ç”Ÿæˆæ‰€æœ‰æ‘˜è¦ï¼Œéå¿…è¦ä¸è¦æ‰“å¼€ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¿‡é‡çš„apiæ¶ˆè€—ã€‚ loggerï¼šä¸ºäº†æ›´åŠ ç²¾ç»†çš„å®ç°æ§åˆ¶ï¼Œæˆ‘è®¾ç½®äº†ä¸‰ä¸ªæ—¥å¿—ç­‰çº§ï¼Œå¦‚ä¸‹åˆ’åˆ†ï¼š 0ï¼šä»…ä»…æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œä¸ä¼šæ˜¾ç¤ºåŒ…æ‹¬ç”Ÿæˆæ–‡ç« æ‘˜è¦åœ¨å†…çš„ä»»ä½•è¾“å‡º 1ï¼šå½“ç”Ÿæˆæ–°æ–‡ç« æ‘˜è¦æ—¶ï¼Œä¼šè¾“å‡ºå¯¹äºæ–‡æœ¬çš„å¤„ç†ï¼Œæ¯”å¦‚è¶…é•¿è‡ªåŠ¨è£å‰ªï¼Œç”ŸæˆæˆåŠŸæˆ–è€…ç”Ÿæˆå¤±è´¥ã€‚ 2ï¼šè°ƒè¯•ä½¿ç”¨ï¼Œä¼šè¾“å‡ºåŒ…æ‹¬è·³è¿‡æ‰€æœ‰é¡µé¢ä¿¡æ¯ï¼Œä»…ä»…å¤„ç†æ–‡ç« éƒ¨åˆ†ã€‚ apiï¼šä»»ä½•openaiç±»å‹æ¥å£ï¼ŒåŒ…æ‹¬deepseekï¼Œè®¯é£æ˜Ÿç«ï¼Œè…¾è®¯æ··å…ƒï¼ŒChatGPTç­‰ã€‚ tokenï¼šapiå¯¹åº”çš„æ¥å£å¯†é’¥ã€‚ modelï¼šä½¿ç”¨çš„æ¨¡å‹åç§°ï¼Œè¯·æ£€æŸ¥å¯¹åº”æ¥å£æ–‡æ¡£è¯´æ˜ï¼Œä¸åŒæ¥å£åŒ…å«çš„æ¨¡å‹ä¸ä¸€è‡´ã€‚ promptï¼šæç¤ºè¯ï¼Œè¯·è‡ªè¡Œå®šåˆ¶ï¼Œå»ºè®®è¯¦ç»†ä¸€äº›ï¼Œä½†æ˜¯ä¸è¦å¤ªåºŸè¯ï¼Œä»¥æˆ‘å†™çš„ä¸ºä¾‹ã€‚ ignoreRulesï¼šå¿½ç•¥æ–‡æœ¬æ­£åˆ™æ¥å£ï¼Œç”±äºæœ¬æ’ä»¶ç›´æ¥è·å–Markdownæ–‡æœ¬ï¼Œå†…ç½®äº†ä¸€äº›å¤„ç†ï¼Œä½†æ˜¯ä½ ä»ç„¶å¯ä»¥è¿›è¡Œé¢å¤–çš„å¤„ç†ï¼Œä¸‹é¢æ˜¯å†…ç½®çš„æ–‡æœ¬å¤„ç†è§„åˆ™ï¼Œå¦‚æœæœ‰å…´è¶£è¿›è¡Œä¿®æ”¹å¯ä»¥è¿›è¡Œå‚è€ƒï¼š // 2. æ¸…ç†å†…å®¹ content = content .replace(/```[\\s\\S]*?```/g, ) // ä»£ç å— // .replace(/`[^` ]+`/g, ) // è¡Œå†…ä»£ç  .replace(/%[^%]*%/g, ) // Hexo æ ‡ç­¾ .replace(/^\\|.*?\\|.*$/gm, ) // è¡¨æ ¼è¡Œ .replace(/!\\[.*?\\]\\(.*?\\)/g, ) // å›¾ç‰‡ .replace(/\\[(.*?)\\]\\(.*?\\)/g, $1) // è¶…é“¾æ¥æ–‡æœ¬ .replace(/[^]+/g, ) // HTML æ ‡ç­¾ .replace(/nbsp;/g, ) // ç©ºæ ¼å®ä½“ .replace(/ 2,/g, ) // å¤šé‡æ¢è¡Œå‹ç¼© .replace(/^\\s+|\\s+$/gm, ) // è¡Œé¦–å°¾ç©ºæ ¼ .replace(/[ \\t]+/g, ) // å¤šç©ºæ ¼å‹ç¼© .trim(); // 3. æ‹¼æ¥æ ‡é¢˜ const combined = (title ? title.trim() + : ) + content; max_tokenï¼šé™åˆ¶æ¨¡å‹è¾“å…¥çš„æœ€å¤§å­—æ•°ï¼Œç”¨å­—ç¬¦ä¸²çš„sliceè¿›è¡Œæˆªæ–­ï¼Œå¦‚æœè¶…å‡ºæ¨¡å‹æ¥å—èŒƒå›´ï¼Œå¯èƒ½ä¼šé€ æˆä¸‹æ–‡è¦†ç›–ä¸Šæ–‡å¯¼è‡´promptä¸¢å¤±ï¼Œå†…å®¹æ··ä¹±ï¼Œæ‰€ä»¥è¯·æŒ‰ç…§æ¨¡å‹æ‰¿å—èƒ½åŠ›è¿›è¡Œçµæ´»é…ç½®ã€‚ concurrencyï¼šå¾ˆå¤šæ¨¡å‹ä¼šé™åˆ¶å¹¶å‘ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘åˆ©ç”¨p-limitæ’ä»¶å®ç°äº†å¹¶å‘é™åˆ¶ï¼Œé™ä½å¤±è´¥è¯·æ±‚çš„æ¦‚ç‡ï¼Œç»è¿‡è°ƒæŸ¥ï¼Œp-limitåº”è¯¥æ˜¯hexoå†…å·²ç»æœ‰çš„ä¸€äº›åŒ…ï¼Œæ‰€ä»¥ä¹Ÿä¸éœ€è¦æ‹…å¿ƒéœ€è¦é‡æ–°å®‰è£…ä¹‹ç±»çš„ï¼Œç›´æ¥ä½¿ç”¨å³å¯ã€‚ å°è¯•è¿è¡Œæ³¨æ„å¤‡ä»½ã€‚ç”±äºè¯¥æ’ä»¶ä¿®æ”¹äº†å¤´éƒ¨ï¼Œè™½ç„¶ä¿®æ”¹çš„æµç¨‹ä¸¥æ ¼æŒ‰ç…§hexoçš„è¦æ±‚ï¼Œå†™å›å¤´éƒ¨çš„æµç¨‹ç±»ä¼¼äºHexo-abbrlinkï¼Œå†™å…¥åä¸å¯æ’¤å›ï¼Œå¹¶ä¸”ç”±äºAIå…·æœ‰ä¸å¯æ§æ€§ï¼Œè¯·è¿è¡Œå‰æ³¨æ„å¤‡ä»½ï¼Œé˜²æ­¢åœ¨æ‰€æœ‰æ–‡ç« é¡¶éƒ¨ç”Ÿæˆä¸å¿…è¦çš„å†…å®¹ï¼Œéš¾ä»¥æ¸…ç†ï¼Œç‰¹åˆ«æ˜¯ä»…æœ‰ä¸€ä»½æºç åœ¨æœ¬åœ°çš„æœ‹å‹ï¼Œæ³¨æ„å‹¤å¤‡ä»½ã€‚ ç”±äºåˆ©ç”¨äº†hexoè‡ªå¸¦çš„é’©å­ï¼Œæ‰€ä»¥ï¼Œæ‘˜è¦æ•°æ®å¯èƒ½ä¼šè¢«ç¼“å­˜ï¼Œå¦‚æœç›´æ¥æ‰§è¡Œhexo serverï¼Œå¹¶æ²¡æœ‰ä»»ä½•æ•ˆæœï¼Œè¯·å°è¯•å…ˆæ‰§è¡Œhexo clæ¸…ç†ç¼“å­˜ï¼Œhexo clä¸ä¼šåˆ é™¤ä»»ä½•å·²ç»ç”Ÿæˆäº†çš„æ‘˜è¦å†…å®¹ã€‚ æ­¤æ—¶ä½ å¯ä»¥å°è¯•è°ƒæ•´loggeré…ç½®é¡¹ä¸º2å†è¿›è¡Œè¿è¡Œï¼Œè¿™æ ·å¯ä»¥çœ‹åˆ°æ‘˜è¦ç”Ÿæˆçš„è¿›åº¦ï¼Œä¸ä¿®æ”¹ä¹Ÿä¸å½±å“ï¼Œä¸ä¼šå½±å“ç­‰å¾…æ—¶é—´ï¼Œé¦–æ¬¡æ‰§è¡Œï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•æ‘˜è¦ï¼Œå¯èƒ½æ—¶é—´ä¼šæ¯”è¾ƒä¹…ã€‚ å¦‚æœæœ‰æ–‡ç« å¤±è´¥ï¼Œè¯·é‡æ–°æ‰§è¡ŒhexoæŒ‡ä»¤è¿›è¡Œå†æ¬¡è¿è¡Œï¼Œå¦‚æœå®åœ¨æ— æ³•ç”Ÿæˆç¬¦åˆè¦æ±‚çš„æ‘˜è¦ï¼Œå»ºè®®è‡ªè¡Œç”Ÿæˆåå¡«å†™åˆ°é¡¶éƒ¨å¯¹åº”å­—æ®µå†…ï¼Œé»˜è®¤çš„å¤§è¯­è¨€æ¨¡å‹æ²¡æœ‰å¯¹aiæ‘˜è¦è¿›è¡Œä»»ä½•çš„è®­ç»ƒï¼Œç”Ÿæˆå‡ºæ¥çš„æ–‡æœ¬ä¸ç¬¦åˆè¦æ±‚æ˜¯æ­£å¸¸ç°è±¡ã€‚ æ’ä»¶å†…ç½®äº†ç®€å•çš„è§„åˆ™åŒ¹é…ï¼Œé¦–å…ˆæ˜¯ä¸å…è®¸æ¢è¡Œå†…å®¹ï¼Œä¼šå†…éƒ¨å»æ‰æ¢è¡Œç¬¦å¹¶ä¸”åˆå¹¶å¤šç©ºæ ¼ï¼Œå¦‚æœé•¿åº¦è¶…å‡ºé™åˆ¶æˆ–è€…å«æœ‰éæ³•å­—ç¬¦ï¼Œå¯èƒ½ä¼šç›´æ¥æŠ¥é”™ï¼ŒæŠ¥é”™çš„æ–‡ç« ä¸å†™å…¥é¡¶éƒ¨ã€‚ å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œåº”è¯¥å¯ä»¥åœ¨æ¯ç¯‡æ–‡ç« çš„é¡¶éƒ¨çœ‹åˆ°å¯¹åº”çš„æ‘˜è¦æ–‡æ®µã€‚ APIæ¨èä»¥ä¸‹æ˜¯å¯ä»¥ç”³è¯·å…è´¹APIçš„æ¥å£ï¼š æ¥å£åç§° ä¼˜åŠ¿ åŠ£åŠ¿ å­—ç¬¦ä¸Šé™ æ¨¡å‹ç±»å‹ ç¨³å®šæ€§ ç®€ä»‹ è…¾è®¯æ··å…ƒ Lite - å®˜æ–¹æ”¯æŒï¼Œæ€§èƒ½ç¨³å®š- è®¡åˆ’æ”¯æŒé«˜è¾¾256Kå­—ç¬¦è¾“å…¥è¾“å‡º- å…è´¹ä½¿ç”¨ï¼Œæ— éœ€ä»˜è´¹ - éœ€è…¾è®¯äº‘è´¦å·åŠå®åè®¤è¯- å½“å‰å¯èƒ½ä»å¤„äº4Kå­—ç¬¦é™åˆ¶é˜¶æ®µï¼Œ256Kæ”¯æŒå°šæœªå…¨é¢ä¸Šçº¿ è®¡åˆ’æ”¯æŒ256Kå­—ç¬¦ï¼ˆå½“å‰å¯èƒ½ä¸º4Kï¼‰ è‡ªç ”å¤§æ¨¡å‹ï¼Œå…·å¤‡å¤šæ¨¡æ€èƒ½åŠ› é«˜ è…¾è®¯è‡ªç ”çš„æ··å…ƒå¤§æ¨¡å‹ï¼Œæ”¯æŒå¤šè½®å¯¹è¯ã€é€»è¾‘æ¨ç†ã€å†…å®¹åˆ›ä½œç­‰ï¼Œè®¡åˆ’å…¨é¢æ”¯æŒ256Kå­—ç¬¦è¾“å…¥è¾“å‡ºï¼Œé€‚ç”¨äºå¤šç§åº”ç”¨åœºæ™¯ã€‚ è®¯é£æ˜Ÿç« Lite - è½»é‡çº§æ¨¡å‹ï¼Œå“åº”é€Ÿåº¦å¿«- æ°¸ä¹…å…è´¹ä½¿ç”¨- é€‚åˆåŠå…¬åŠ©æ‰‹ç­‰åœºæ™¯ - åŠŸèƒ½ç›¸å¯¹åŸºç¡€- ä¸æ”¯æŒè”ç½‘æœç´¢ç­‰é«˜çº§åŠŸèƒ½ è¾“å…¥ï¼š8Kå­—ç¬¦è¾“å‡ºï¼š4Kå­—ç¬¦ è‡ªç ”å¤§æ¨¡å‹ï¼Œé€‚ç”¨äºè½»é‡çº§åº”ç”¨ é«˜ ç§‘å¤§è®¯é£æ¨å‡ºçš„è½»é‡çº§å¤§æ¨¡å‹ï¼Œé€‚åˆå¯¹æ€§èƒ½å’Œå“åº”é€Ÿåº¦æœ‰è¾ƒé«˜è¦æ±‚çš„ä¸šåŠ¡åœºæ™¯ï¼Œæ°¸ä¹…å…è´¹ä½¿ç”¨ã€‚ ChatAnywhere GPT_API_free - æ”¯æŒå¤šç§ä¸»æµæ¨¡å‹ï¼ˆGPT-4oã€DeepSeekç­‰ï¼‰- å…è´¹ä½¿ç”¨ï¼Œæ— éœ€ä»£ç†- æ¥å£å…¼å®¹OpenAIæ ‡å‡†ï¼Œæ¥å…¥ä¾¿æ· - å…è´¹è°ƒç”¨æ¬¡æ•°æœ‰é™åˆ¶ï¼ˆå¦‚GPT-4oæ¯æ—¥5æ¬¡ï¼‰- å¯èƒ½å­˜åœ¨ä½¿ç”¨é«˜å³°æ—¶æ®µèµ„æºç´§å¼ çš„æƒ…å†µ å–å†³äºæ‰€é€‰æ¨¡å‹ï¼ˆå¦‚GPT-4oæ”¯æŒ128K tokensï¼‰ å¤šç§ä¸»æµå¤§æ¨¡å‹ï¼ˆGPT-4oã€DeepSeekç­‰ï¼‰ ä¸­ æä¾›å¤šç§ä¸»æµå¤§æ¨¡å‹çš„å…è´¹APIæ¥å£ï¼Œæ”¯æŒå›½å†…ç›´è¿ï¼Œé€‚åˆå¼€å‘è€…æµ‹è¯•å’Œå­¦ä¹ ä½¿ç”¨ã€‚ QWQ.aigpu.cn - å®Œå…¨å…è´¹ï¼Œæ— éœ€æ³¨å†Œ- åŸºäºåˆ†å¸ƒå¼ç®—åŠ›ï¼Œæ”¯æŒé«˜æ€§èƒ½æ¨¡å‹- æ”¯æŒæœ¬åœ°è¿è¡Œå’Œå…±äº«ç®—åŠ› - é«˜å³°æ—¶æ®µå¯èƒ½éœ€è¦æ’é˜Ÿ- ä¾èµ–ç¤¾åŒºè´¡çŒ®çš„ç®—åŠ›ï¼Œç¨³å®šæ€§å¯èƒ½å—å½±å“ æœªæ˜ç¡®é™åˆ¶ï¼Œå…·ä½“å–å†³äºæ¨¡å‹å’Œç®—åŠ›èµ„æº QwQ 32Bå¤§è¯­è¨€æ¨¡å‹ ä¸­ç­‰ï¼ˆå—ç®—åŠ›èµ„æºå½±å“ï¼‰ åŸºäºåˆ†å¸ƒå¼å®¶ç”¨æ˜¾å¡ç®—åŠ›çš„å¹³å°ï¼Œæä¾›å…è´¹çš„å¤§è¯­è¨€æ¨¡å‹APIï¼Œæ”¯æŒæœ¬åœ°è¿è¡Œå’Œå…±äº«ç®—åŠ›ï¼Œé€‚åˆå¼€å‘è€…å’Œçˆ±å¥½è€…ä½¿ç”¨ã€‚ ç”±äºAIæ‘˜è¦ä»…ä»…éœ€è¦å°æ¨¡å‹å³å¯é©¾é©­ï¼Œæ— éœ€ä¼—å¤šè®­ç»ƒçŸ¥è¯†ï¼Œæ‰€ä»¥è¿™é‡Œä¸¤ä¸ªLiteç‰ˆæœ¬çš„æ¨¡å‹å®Œå…¨å¯ä»¥å®ç°ï¼Œå”¯ä¸€ä¸åŒçš„åŒºåˆ«å¯èƒ½å°±æ˜¯ä¸Šä¸‹æ–‡èƒ½åŠ›å•¦ï¼Œæ›´å¥½çš„æ¨¡å‹å¯ä»¥æ¥å—æ›´é•¿çš„æ–‡æœ¬è¾“å…¥ï¼Œä¸å®¹æ˜“ä¸¢å¤±æˆ‘ä»¬ç»™äºˆçš„promptï¼Œè¾“å‡ºæ›´ä¸ºå‡†ç¡®ï¼Œæ›´ç¬¦åˆè¦æ±‚ï¼Œä½†æ˜¯è€ƒè™‘åˆ°æˆæœ¬å’ŒÂ·ç¨³å®šæ€§åŸå› ï¼Œæˆ‘è¿˜æ˜¯å»ºè®®å‰ä¸¤ä¸ªã€‚ æ³¨æ„å„å®¶éƒ½æœ‰è‡ªæœ‰apiæ¥å£å’ŒOpenAIç±»å‹æ¥å£ï¼Œæˆ‘ä»¬è¿™é‡Œé€‰æ‹©OpenAIæ¥å£ï¼Œè¾“å…¥å®Œæ•´çš„åœ°å€å¦‚æ··å…ƒçš„å…¼å®¹æ¥å£ï¼š https://api.hunyuan.cloud.tencent.com/v1/chat/completions ç”³è¯·tokenåæ­£å¸¸ä½¿ç”¨å³å¯ã€‚ Hexoé€‚é…è¯´åœ¨å‰é¢ã€‚æœ‰äº›ä¸»é¢˜å·²ç»æœ‰é™æ€aiæ‘˜è¦çš„åŠŸèƒ½äº†ï¼Œå¯ä»¥æ— éœ€ä¸‹é¢çš„æ­¥éª¤ï¼Œä½¿ç”¨æ’ä»¶å‘æ–‡ä»¶æ’å…¥å¯¹åº”çš„å­—ç¬¦ä¸²å³å¯ï¼Œä¸‹é¢çš„æ•™ç¨‹é€‚ç”¨äºbutterflyæˆ–è€…ç±»butterflyä¸»é¢˜ï¼Œå¦‚æœæ˜¯å…¶ä»–ä¸»é¢˜å¯èƒ½éœ€è¦è‡ªè¡Œé€‚é…ã€‚ æ·»åŠ é…ç½®ç›®å‰æˆ‘ä»¬å·²ç»è‡ªåŠ¨åŒ–äº†ä»AIä¸­ï¼Œå–‚æˆ‘ä»¬çš„æ–‡ç« ç»™AIï¼Œå†ç”Ÿæˆæ‘˜è¦ï¼Œå†å†™åˆ°æ–‡ä»¶é¡¶éƒ¨çš„è¿‡ç¨‹ï¼Œä¸‹é¢æˆ‘ä»¬å¼€å§‹è¿›è¡Œä»æ–‡ä»¶é¡¶éƒ¨æ¸²æŸ“åˆ°ç½‘ç«™é¡µé¢ä¸Šã€‚ é¦–å…ˆåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶_config.stellar.ymlæ–‡ä»¶ä¸­å†™å…¥é…ç½®ï¼Œæ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œæ§åˆ¶æ‘˜è¦æ˜¯å¦å¼€å¯ï¼š # æ–‡ç« AIæ‘˜è¦æ˜¯å¦å¼€å¯ï¼Œä¼šè‡ªåŠ¨æ£€ç´¢æ–‡ç« è‰²summaryå­—æ®µï¼Œè‹¥æ²¡æœ‰åˆ™ä¸æ˜¾ç¤ºai_summary: enable: true title: æ‰³å¸ƒçš„AIæ‘˜è¦ loadingText: æ‰³å¸ƒAIæ­£åœ¨ç»å°½è„‘æ±æƒ³æ€è·¯INGÂ·Â·Â· modelName: HunYuan-turbos è¿™é‡Œçš„å†…å®¹å‡ä¸ºè£…é¥°æ€§å†…å®¹ï¼Œé™¤äº†enableé€‰é¡¹ï¼Œå…¶ä»–æ²¡æœ‰ä»»ä½•æ§åˆ¶æ•ˆæœï¼Œéƒ½æ˜¯è£…é¥°ï¼Œæ‰€ä»¥æ— éœ€æ‹…å¿ƒï¼Œå¯ä»¥å…ˆæŒ‰ç…§æˆ‘çš„å†™ï¼Œåé¢å†æ ¹æ®æ•ˆæœä¿®æ”¹ã€‚ æ·»åŠ æ¨¡æ¿åœ¨è¿™ä¹‹å‰ï¼Œé…ç½®å‡ä¸ä¸»é¢˜æ— å…³ï¼Œéƒ½æ˜¯ç»Ÿä¸€é…ç½®ï¼Œåé¢çš„å†…å®¹éƒ½æ˜¯æ ¹æ®Stellaré€‚é… æ‰¾åˆ°ä¸»é¢˜æ–‡ä»¶ä¸‹çš„themes\\stellar\\layout\\page.ejsï¼Œæ·»åŠ ä¸‰è¡Œå†…å®¹ el += `article class=$articleClass()`if (page.content page.content.length 0) if (page.summary theme.ai_summary.enable) el += partial(_partial/main/article/post-summary) el += page.content è´´å‡ºæˆªå›¾ï¼Œæ–¹ä¾¿å®šä½ä»£ç ä½ç½® ä¸‹é¢æ·»åŠ ç»„ä»¶ï¼Œåˆ›å»ºæ–‡ä»¶themes\\stellar\\layout_partial\\main\\article\\post-summary.ejsï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹ï¼š div class=ai-summary div class=ai-summary-header div class=ai-head-left /div a class=ai-about href=å…³äºAI/a /div div class=ai-explanation style=display: block; data-summary=%= page.summary % %= page.summary % /div div class=ai-title div class=ai-title-left !-- å›¾æ ‡å·²æ›¿æ¢ä¸ºä½ è¦æ±‚çš„ Hexo icon æ’ä»¶å†™æ³• -- %- icon(solar:planet-bold-duotone) % div class=ai-title-text %= theme.ai_summary.title % /div /div div class=ai-tag id=ai-tag %= theme.ai_summary.modelName % /div /div/div æ·»åŠ æ ·å¼è¿™æ ·ï¼Œhtmléƒ¨åˆ†å°±å®ç°å¥½äº†ï¼ä¸‹é¢æˆ‘ä»¬æ·»åŠ æ ·å¼éƒ¨åˆ†ï¼Œåˆ›å»ºæ–‡ä»¶source\\custom\\css\\ai-summary.cssæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åœ¨åšå®¢æ ¹ç›®å½•ä¸‹ï¼Œä¸æ˜¯ä¸»é¢˜æ ¹ç›®å½•ï¼Œå†™å…¥ï¼š .ai-summary background: var(--ai-bg-color, #ffffff); border-radius: 14px; padding: 10px 20px; margin: 30px 0; box-shadow: var(--ai-shadow, 0 4px 20px rgba(0, 0, 0, 0.08), 0 0 0 1px rgba(255, 255, 255, 0.9) ); position: relative; font-size: 15px; line-height: 1.8; color: var(--ai-text-color, #333); transition: all 0.3s ease; border: none;/* äº®æš—æ¨¡å¼å˜é‡ */.ai-summary /* äº®è‰²æ¨¡å¼é»˜è®¤å€¼ */ --ai-bg-color: #ffffff; --ai-text-color: #333; --ai-secondary-text: #666; --ai-shadow: 0 4px 20px rgba(0, 0, 0, 0.08), 0 0 0 1px rgba(255, 255, 255, 0.9); --ai-glow-shadow: 0 8px 30px rgba(74, 138, 240, 0.15); --ai-tag-bg: #f8fafc; --ai-tag-text: #64748b; --ai-button-bg: #3074d8; --ai-button-hover: #1768e0; --ai-dot-red: #fd6458; --ai-dot-yellow: #ffbf2b; --ai-dot-green: #24cc3d; --ai-icon-color: #2d82ff;/* æš—è‰²æ¨¡å¼é€‚é… */@media (prefers-color-scheme: dark) .ai-summary --ai-bg-color: #1e293b; --ai-text-color: #e2e8f0; --ai-secondary-text: #94a3b8; --ai-shadow: 0 4px 20px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.05); --ai-glow-shadow: 0 8px 30px rgba(74, 138, 240, 0.2); --ai-tag-bg: #334155; --ai-tag-text: #cbd5e1; --ai-button-bg: #4a8af0; --ai-button-hover: #3a7ae0; --ai-dot-red: #ff6b6b; --ai-dot-yellow: #ffd93d; --ai-dot-green: #6bcf7f; --ai-icon-color: #60a5fa; /* å¦‚æœHexoä¸»é¢˜æœ‰ç‰¹å®šçš„æš—è‰²æ¨¡å¼ç±»ï¼Œä¹ŸåŠ ä¸Š */.hexo-theme-dark .ai-summary,.dark-mode .ai-summary,[data-theme=dark] .ai-summary --ai-bg-color: #1e293b; --ai-text-color: #e2e8f0; --ai-secondary-text: #94a3b8; --ai-shadow: 0 4px 20px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.05); --ai-glow-shadow: 0 8px 30px rgba(74, 138, 240, 0.2); --ai-tag-bg: #334155; --ai-tag-text: #cbd5e1; --ai-button-bg: #4a8af0; --ai-button-hover: #3a7ae0; --ai-dot-red: #ff6b6b; --ai-dot-yellow: #ffd93d; --ai-dot-green: #6bcf7f; --ai-icon-color: #60a5fa;/* æ·»åŠ æ‚¬åœå‘å…‰æ•ˆæœ *//* .ai-summary:hover box-shadow: var(--ai-shadow), var(--ai-glow-shadow); transform: translateY(-1px); *//* é¡¶éƒ¨åŒºåŸŸ */.ai-summary-header display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;.ai-head-left display: inline-flex; align-items: center; border-top-left-radius: 6px; border-top-right-radius: 6px; padding: 10px;.ai-head-left::before content: ; display: inline-block; width: 12px; height: 12px; border-radius: 50%; background-color: var(--ai-dot-red); box-shadow: 20px 0 0 var(--ai-dot-yellow), 40px 0 0 var(--ai-dot-green); filter: brightness(1.1);/* å³ä¸Šè§’æŒ‰é’® */.ai-about background: var(--ai-button-bg); color: white; border: none; text-decoration: none; padding: 3px 10px; border-radius: 8px; cursor: pointer; font-size: 10px; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(48, 116, 216, 0.3);.ai-about:hover background: var(--ai-button-hover); box-shadow: 0 4px 12px rgba(48, 116, 216, 0.4); transform: translateY(-1px);/* æ­£æ–‡ */.ai-explanation color: var(--ai-text-color);/* æ ‡é¢˜æ  */.ai-title margin-top: 10px; display: flex; justify-content: space-between; align-items: center;.ai-title-left display: flex; align-items: center;.ai-title-left svg width: 22px; height: 22px; margin-right: 10px; color: var(--ai-icon-color); filter: drop-shadow(0 2px 4px rgba(45, 130, 255, 0.2));/* åº•éƒ¨æ¨¡å‹æ ‡ç­¾ */.ai-tag color: var(--ai-tag-text); font-size: 13px; background: var(--ai-tag-bg); padding: 4px 10px; border-radius: 8px; display: inline-block; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);/* å“åº”å¼è®¾è®¡ */@media (max-width: 768px) .ai-summary padding: 8px 16px; margin: 20px 0; font-size: 14px; box-shadow: var(--ai-shadow); .ai-head-left::before width: 10px; height: 10px; box-shadow: 16px 0 0 var(--ai-dot-yellow), 32px 0 0 var(--ai-dot-green); /* .ai-summary:hover transform: none; box-shadow: var(--ai-shadow); */ æ ·å¼ä¹Ÿå®ç°å•¦ï¼ç›®å‰å°±å·®å°†æˆ‘ä»¬çš„æ‘˜è¦æ’å…¥åˆ°æˆ‘ä»¬çš„ç½‘ç«™å°±å¤§åŠŸå‘Šæˆå•¦ï¼Œä¸ºäº†å®ç°çš„æ›´åŠ é€¼çœŸï¼Œæ¸…ç¾½è¿™é‡Œå®ç°äº†ä¸¤ç§æ ·å¼ä¸€ä¸ªæ˜¯æ‰“å­—æœºæ•ˆæœï¼Œä¸€ä¸ªæ˜¯å¹³æ»‘æ˜¾ç¤ºæ•ˆæœï¼Œå¯ä»¥æŒ‰éœ€å¼•å…¥ï¼š æ·»åŠ æ ¸å¿ƒJSæ–‡ä»¶è·¯å¾„source\\custom\\js\\ai-summary.js ä¸‹é¢æˆ‘ä¼šä»‹ç»ä¸¤ç§åŠ¨æ•ˆï¼Œå¯ä»¥æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚åœ¨ä»»æ„jsæ–‡ä»¶ä¸­é€‰æ‹©ä¸€ä¸ªå¼•å…¥å³å¯ï¼Œä¸¤ä¸ªçš„åŒºåˆ«æ˜¯ï¼Œæ‰“å­—æœºæ•ˆæœæ›´åŠ çš„èŠ‚çœæ€§èƒ½ï¼Œè€Œå¹³æ»‘æ˜¾ç¤ºï¼Œå› ä¸ºæ¯ä¸ªæ–‡æœ¬ä¸ºä¸€ä¸ªspanï¼Œæ‰€ä»¥ä¼šæ¯”è¾ƒè€—è´¹æ€§èƒ½ã€‚ æ‰“å­—æœºæ•ˆæœ// æ‰“å­—æœºæ•ˆæœfunction typeTextMachineStyle(text, targetSelector, options = ) const delay = 50, startDelay = 2000, onComplete = null, clearBefore = true, eraseBefore = true, // æ–°å¢ï¼šæ˜¯å¦ä»¥æ‰“å­—æœºæ–¹å¼æ¸…é™¤åŸæ–‡æœ¬ eraseDelay = 30, // æ–°å¢ï¼šåˆ é™¤æ¯ä¸ªå­—ç¬¦çš„é—´éš” = options; const el = document.querySelector(targetSelector); if (!el || typeof text !== string) return; setTimeout(() = const startTyping = () = let index = 0; function renderChar() if (index = text.length) el.textContent = text.slice(0, index++); setTimeout(renderChar, delay); else onComplete onComplete(el); renderChar(); ; if (clearBefore) if (eraseBefore el.textContent.length 0) let currentText = el.textContent; let eraseIndex = currentText.length; function eraseChar() if (eraseIndex 0) el.textContent = currentText.slice(0, --eraseIndex); setTimeout(eraseChar, eraseDelay); else startTyping(); // åˆ é™¤å®Œæ¯•åå¼€å§‹æ‰“å­— eraseChar(); else el.textContent = ; startTyping(); else startTyping(); , startDelay);function renderAISummary() const summaryEl = document.querySelector(.ai-summary .ai-explanation); if (!summaryEl) return; const summaryText = summaryEl.getAttribute(data-summary); if (summaryText) typeTextMachineStyle(summaryText, .ai-summary .ai-explanation); // å¦‚æœéœ€è¦åˆ‡æ¢ï¼Œåœ¨è¿™é‡Œè°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°å³å¯ document.addEventListener(pjax:complete, renderAISummary);document.addEventListener(DOMContentLoaded, renderAISummary); æœ¬ç«™ä½¿ç”¨çš„å°±æ˜¯æ‰“å­—æœºæ•ˆæœï¼Œå¯ä»¥è‡ªè¡ŒæŸ¥çœ‹ã€‚ å¹³æ»‘æ˜¾ç¤ºæ•ˆæœ // å¹³æ»‘å¼¹å‡ºæ•ˆæœ function typeText(text, targetSelector, options = ) const delay = 50, // æ¯ä¸ªå­—ç¬¦ä¹‹é—´çš„å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰ startDelay = 2000, // å¼€å§‹æ‰“å­—å‰çš„å»¶è¿Ÿï¼ˆé»˜è®¤ 3 ç§’ï¼‰ onComplete = null, // åŠ¨ç”»å®Œæˆåçš„å›è°ƒ clearBefore = true // æ˜¯å¦åœ¨å¼€å§‹å‰æ¸…ç©ºåŸæœ‰å†…å®¹ = options; const targetEl = document.querySelector(targetSelector); if (!targetEl || typeof text !== string) return; // if (clearBefore) targetEl.textContent = ; let index = 0; let frameId = null; function renderChar() if (index text.length) const span = document.createElement(span); span.textContent = text[index++]; span.className = char; targetEl.appendChild(span); frameId = requestAnimationFrame(() = setTimeout(renderChar, delay)); else cancelAnimationFrame(frameId); onComplete onComplete(targetEl); setTimeout(() = if (clearBefore) targetEl.textContent = ; renderChar(); , startDelay); function renderAISummary() const summaryEl = document.querySelector(.ai-summary .ai-explanation); if (!summaryEl) return; const summaryText = summaryEl.getAttribute(data-summary); if (summaryText) typeText(summaryText, .ai-summary .ai-explanation); // å¦‚æœéœ€è¦åˆ‡æ¢ï¼Œåœ¨è¿™é‡Œè°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°å³å¯ document.addEventListener(pjax:complete, renderAISummary);document.addEventListener(DOMContentLoaded, renderAISummary); å¼•å…¥csså’Œjs_config.ymlä¸­ï¼Œæ·»åŠ ï¼š inject: head: - link rel=stylesheet href=/custom/css/ai-summary.css # æ‘˜è¦ç”Ÿæˆ script: - script type=text/javascript src=/custom/js/ai-summary.js/script # æ‘˜è¦ç”Ÿæˆ æ³¨æ„ï¼Œå¹³æ»‘æ»šåŠ¨éƒ¨åˆ†çš„cssï¼Œæˆ‘é»˜è®¤æ³¨é‡Šæ‰äº†ï¼Œè¯·åœ¨æ ·å¼æ–‡ä»¶ä¸­è‡ªè¡Œæ‰“å¼€æ³¨é‡Šã€‚ è¿™æ ·ï¼Œä¸€ä¸ªè‡ªå·±å®ç°çš„AIæ‘˜è¦å°±å®Œå·¥å•¦ï¼ å†æ¬¡æ„Ÿè°¢æ¸…ç¾½å¤§ä½¬æä¾›çš„æ–¹æ³•ã€‚","tags":["åŠŸèƒ½","ç¾åŒ–"],"categories":["Stellar","åšå®¢"]},{"title":"GitHub æ¯å‘¨çƒ­é—¨é¡¹ç›® (2025.11.17 - 2025.11.23)","path":"/2025/11/23/github-weekly/","content":"ğŸš€ æœ¬æ–‡è‡ªåŠ¨ç”Ÿæˆï¼Œæ•°æ®æ¥æºäº OSSInsight ä¸ GitHub å®˜æ–¹ APIï¼Œæ¯å‘¨è‡ªåŠ¨æ›´æ–°ã€‚ 1. karpathyreader3 ğŸ‘¤ ä½œè€…: karpathyğŸŒ è¯­è¨€: Pythonâ­ Stars: 1919 Quick illustration of how one can easily read books together with LLMs. Itâ€™s great and I highly recommend it. 2. karpathyllm-council ğŸ‘¤ ä½œè€…: karpathyğŸŒ è¯­è¨€: Pythonâ­ Stars: 1338 LLM Council works together to answer your hardest questions 3. supertone-incsupertonic ğŸ‘¤ ä½œè€…: supertone-incğŸŒ è¯­è¨€: JavaScriptâ­ Stars: 686 Lightning-fast, on-device TTS â€” running natively via ONNX. 4. NorsicoVideo-Materials-AutoGEN-Workstation ğŸ‘¤ ä½œè€…: NorsicoğŸŒ è¯­è¨€: Pythonâ­ Stars: 640 ä¸€ä¸ªé›†å†…å®¹ç­–åˆ’ã€AIæ–‡æ¡ˆè‡ªåŠ¨ç”Ÿæˆã€TTS æ‰¹é‡è‡ªåŠ¨é…éŸ³ã€(AI)å›¾ç‰‡ç´ æåˆæˆã€ASRè‡ªåŠ¨æå–è¯­è¨€å­—å¹•è„šæœ¬ã€AIè‡ªç”±åˆ›ä½œäºä¸€ä½“çš„(çŸ­è§†é¢‘)ç”Ÿæˆå·¥ä½œç«™ã€‚æ–¹ä¾¿ç®¡ç†æ¯æœŸçš„è§†é¢‘é¡¹ç›®ã€‚ 5. buyukakyuzinstall-nothing ğŸ‘¤ ä½œè€…: buyukakyuzğŸŒ è¯­è¨€: Rustâ­ Stars: 606 A terminal application that simulates installing things but doesnâ€™t actually install anything 6. hexagonal-sunmoss ğŸ‘¤ ä½œè€…: hexagonal-sunğŸŒ è¯­è¨€: Rustâ­ Stars: 575 Rust Linux-compatible kernel 7. Tencent-HunyuanHunyuanVideo-1.5 ğŸ‘¤ ä½œè€…: Tencent-HunyuanğŸŒ è¯­è¨€: Pythonâ­ Stars: 475 HunyuanVideo-1.5: A leading lightweight video generation model 8. dzhngclaude-agent-server ğŸ‘¤ ä½œè€…: dzhngğŸŒ è¯­è¨€: TypeScriptâ­ Stars: 335 Run Claude Agent (Claude Code) in a sandbox, control it via websocket 9. deepseek-aiLPLB ğŸ‘¤ ä½œè€…: deepseek-aiğŸŒ è¯­è¨€: Pythonâ­ Stars: 328 An early research stage MoE load balancer based on inear programming. 10. Mic92strace-macos ğŸ‘¤ ä½œè€…: Mic92ğŸŒ è¯­è¨€: Pythonâ­ Stars: 320 A clone of the strace command for macOS"},{"title":"Hexo-tag-hint","path":"/2025/05/01/hinttool/","content":"ç»™ä½ çš„ hexo åšå®¢æ·»åŠ å…³é”®è¯ hover æç¤º githubåœ°å€ï¼šhttps://github.com/etigerstudio/hexo-tag-hint ğŸ’¡ Basic SyntaxInsert this little Nunjucks snippet anywhere you want to show your hints: % hint body_text hint_text % Where body_text is the normal post body text, hint_text is the text that should be presented inside the hint bubble. Use \\ to escape if necessary. E.g.: % hint misfits hexo-tag-hint % ğŸ“– Multi-line SupportMulti-line hints are supported right nowğŸ‰. Append additional hint text lines to build a multi-line hint: % hint body_text hint_text_1st_line hint_text_2nd_line ... % E.g.: % hint Hexo A fast, simple powerful blog framework % ğŸ”Œ Install UpdateExecute following one-liners to integrate this plugin into your Hexo project, or to update the plugin: $ npm install hexo-tag-hint # install this plugin$ npm update hexo-tag-hint # update the plugin$ npm install hexo-tag-hint@latest # force update to latest version","tags":["hint","hexo"],"categories":["åšå®¢","ç¾åŒ–"]},{"title":"åç¼–è¯‘ APK","path":"/2025/03/27/decodeapk/","content":"Androidé€†å‘åç¼–è¯‘APKå·¥å…·ä»‹ç»å¦‚æœåªæ˜¯æƒ³æ‹¿åˆ°apkä¸­çš„å›¾ç‰‡èµ„æºï¼Œåªéœ€è¦å°†apkåç¼€æ”¹ä¸ºzipç„¶åè§£å‹ç¼©ï¼Œresç›®å½•ä¸­å°±åŒ…å«äº†æ‰€æœ‰çš„èµ„æºæ–‡ä»¶ classes.dex åˆ™åŒ…å«äº†æ‰€æœ‰çš„ä»£ç ï¼Œåªæ˜¯è¿˜æ— æ³•æŸ¥çœ‹ AndroidManifest.xml æ–‡ä»¶æ‰“å¼€ä¼šå‘ç°æ— æ³•é˜…è¯»ï¼Œéƒ½æ˜¯16è¿›åˆ¶æ•° æ­¤æ—¶å°±éœ€è¦ç”¨åˆ°å·¥å…· â€”â€” ApkTool ApkToolä¸‹è½½ApkToolå®˜ç½‘ å®‰è£… ä½¿ç”¨apktool d xxx.apk d è¡¨ç¤º decode è¿˜å¯ä»¥åŠ ä¸Šä¸€äº›é™„åŠ å‚æ•°æ¥æ§åˆ¶ decode è¡Œä¸ºï¼š -f ï¼šå¦‚æœç›®æ ‡æ–‡ä»¶å¤¹å·²å­˜åœ¨ï¼Œåˆ™å¼ºåˆ¶åˆ é™¤ç°æœ‰æ–‡ä»¶å¤¹ï¼ˆé»˜è®¤å¦‚æœç›®æ ‡æ–‡ä»¶å¤¹å·²å­˜åœ¨ï¼Œåˆ™è§£ç å¤±è´¥ï¼‰ -o ï¼šæŒ‡å®šè§£ç ç›®æ ‡æ–‡ä»¶å¤¹çš„åç§°ï¼ˆé»˜è®¤ä½¿ç”¨ APK æ–‡ä»¶çš„åå­—æ¥å‘½åç›®æ ‡æ–‡ä»¶å¤¹ï¼‰ -s ï¼šä¸åç¼–è¯‘dexæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ classes.dex æ–‡ä»¶ä¼šè¢«ä¿ç•™ï¼ˆé»˜è®¤ä¼šå°† dex æ–‡ä»¶è§£ç æˆ smali æ–‡ä»¶ï¼‰ -r ï¼šä¸åç¼–è¯‘èµ„æºæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ resources.arsc æ–‡ä»¶ä¼šè¢«ä¿ç•™ï¼ˆé»˜è®¤ä¼šå°† resources.arsc è§£ç æˆå…·ä½“çš„èµ„æºæ–‡ä»¶ï¼‰ åç¼–è¯‘ä¹‹åä¼šå¾—åˆ°ä»¥ä¸‹å†…å®¹ï¼š 1ã€AndroidManifest.xmlï¼šç»è¿‡åç¼–è¯‘è¿˜åŸåçš„ manifest æ–‡ä»¶ 2ã€original æ–‡ä»¶å¤¹ï¼šå­˜æ”¾äº†æœªç»åç¼–è¯‘è¿‡ã€åŸå§‹çš„ AndroidManifest.xml æ–‡ä»¶ 3ã€res æ–‡ä»¶å¤¹ï¼šå­˜æ”¾äº†åç¼–è¯‘å‡ºæ¥çš„æ‰€æœ‰èµ„æº 4ã€smali æ–‡ä»¶å¤¹ï¼šå­˜æ”¾äº†åç¼–è¯‘å‡ºæ¥çš„æ‰€æœ‰ä»£ç ï¼Œåªä¸è¿‡æ ¼å¼éƒ½æ˜¯.smaliç±»å‹çš„ xmlæ–‡ä»¶å·²ç»å¯ä»¥çœ‹æ‡‚äº†ï¼Œä¸è¿‡ smali ç±»å‹æ–‡ä»¶æˆ‘ä»¬ä¾ç„¶æ— æ³•é˜…è¯» æ­¤æ—¶ï¼Œéœ€è¦ç”¨åˆ°å¦ä¸€ä¸ªå·¥å…· â€”â€” dex2jar + jd-gui dex2jaråŠŸèƒ½å°† dex è½¬æ¢æˆ jar å½¢å¼æ–‡ä»¶ ä¸‹è½½dex2jarå®˜ç½‘ ä½¿ç”¨å°†ä¸‹è½½çš„ dex2jar å‹ç¼©åŒ…è§£å‹åï¼Œå¯ä»¥çœ‹åˆ°ä»¥ä¸‹å†…å®¹ windowsä¸Šä½¿ç”¨dex2jar.batå³å¯ dex2jar.bat classes.dexè·¯å¾„ çœ‹åˆ°ä¸Šè¿°consoleåˆ™è¡¨ç¤ºæˆåŠŸ ä»£ç éƒ½ä½äº classes-dex2jar.jar ä¸­ ç°åœ¨éœ€è¦ç”¨åˆ°å¦ä¸€æ¬¾å·¥å…· jd-gui jd-guiä¸‹è½½jd-guiå®˜ç½‘ æ ¹æ®éœ€è¦ä¸‹è½½å¯¹åº”åŒ…å³å¯ ä½¿ç”¨ è§£å‹åˆ°æœ¬åœ°ï¼ŒåŒå‡»jd-gui.exeæ–‡ä»¶å³å¯è¿è¡Œ ç”¨jd-guiæ‰“å¼€ä¹‹å‰è§£å‹å‡ºæ¥çš„dexæ–‡ä»¶å³å¯çœ‹åˆ°æ‰€æœ‰çš„æºç  jadx-gui ä¸€ä¸ªæ›´å¼ºå¤§çš„å·¥å…·ï¼Œä¸€æ¬¾å‡ºè‰²çš„ **åç¼–è¯‘å·¥å…· **å’Œ ä»£ç æŸ¥çœ‹å™¨ï¼Œä½†ä¸èƒ½ç›´æ¥ç¼–è¾‘ APK æ–‡ä»¶æˆ–å†…éƒ¨ä»£ç  ä½¿ç”¨ Jadx-GUI æ‰“å¼€ä¸€ä¸ªapkæ–‡ä»¶æ—¶ï¼Œå®ƒä¼šæ ¹æ® Dalvik å­—èŠ‚ç ï¼ˆDEXæ–‡ä»¶ï¼‰åç¼–è¯‘æˆå¯è¯»çš„ Java æºä»£ç ï¼Œç„¶è€Œï¼Œè¿™äº›æºä»£ç åªæ˜¯ Jadx æ ¹æ®å­—èŠ‚ç çŒœæµ‹å‡ºæ¥çš„ï¼Œå¹¶ä¸æ˜¯åŸå§‹çš„ã€å¯å˜ç¿¼å¾·Javaæºæ–‡ä»¶ï¼Œå› æ­¤ï¼Œæ— æ³•ç›´æ¥åœ¨ Jadx-GUI ä¸­ä¿®æ”¹è¿™äº›åç¼–è¯‘å‡ºæ¥çš„ Java ä»£ç ã€‚ ä¸‹è½½ Jadx-GUI ä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œæ‰“å¼€exeæ–‡ä»¶ ç„¶åç‚¹å‡»æ‰“å¼€æ–‡ä»¶æ‰“å¼€é¡¹ç›®æˆ–è€…å°†apkæ–‡ä»¶ç›´æ¥æ‹–æ‹½è¿‡æ¥å³å¯æŸ¥çœ‹ï¼›","tags":["Decode","å®‰å“"],"categories":["å­¦ä¹ ","é€†å‘å·¥ç¨‹"]},{"title":"æƒé‡è¡°å‡","path":"/2025/03/01/weightdecay/","content":"","tags":["AdamW"],"categories":["ä¼˜åŒ–"]},{"title":"Prompt Tuning","path":"/2024/10/11/prompttuning/","content":"æœ¬æ–‡å†…å®¹å‚è€ƒï¼šhttps://wjn1996.blog.csdn.net/article/details/120607050 åŸæ–‡ï¼šhttps://wjn1996.blog.csdn.net/article/details/120607050 åœ¨è¯´æ˜ä»€ä¹ˆæ˜¯Prompt Tuningä¹‹å‰ï¼Œå…ˆç®€å•äº†è§£ä¸‹NLPä»»åŠ¡å››èŒƒå¼ NLPä»»åŠ¡å››ç§èŒƒå¼ç¬¬ä¸€èŒƒå¼åŸºäºã€Œä¼ ç»Ÿæœºå™¨å­¦ä¹ æ¨¡å‹ã€çš„èŒƒå¼ï¼Œå¦‚TF-IDFç‰¹å¾+æœ´ç´ è´å¶æ–¯ç­‰æœºå™¨ç®—æ³•ç¬¬äºŒèŒƒå¼åŸºäºã€Œæ·±åº¦å­¦ä¹ æ¨¡å‹ã€çš„èŒƒå¼ï¼Œå¦‚word2vecç‰¹å¾+LSTMç­‰æ·±åº¦å­¦ä¹ ç®—æ³•ï¼Œç›¸æ¯”äºç¬¬ä¸€èŒƒå¼ï¼Œæ¨¡å‹å‡†ç¡®æœ‰æ‰€æé«˜ï¼Œç‰¹å¾å·¥ç¨‹çš„å·¥ä½œä¹Ÿæœ‰æ‰€å‡å°‘ç¬¬ä¸‰èŒƒå¼åŸºäºã€Œé¢„è®­ç»ƒæ¨¡å‹+fine-tuningã€çš„èŒƒå¼ï¼Œå¦‚Bert+fine-tuningçš„NLPä»»åŠ¡ï¼Œç›¸æ¯”äºç¬¬äºŒèŒƒå¼ï¼Œæ¨¡å‹å‡†ç¡®åº¦æ˜¾è‘—æé«˜ï¼Œæ¨¡å‹ä¹Ÿéšä¹‹å˜å¾—æ›´å¤§ï¼Œä½†å°æ•°æ®é›†å°±å¯è®­ç»ƒå‡ºå¥½æ¨¡å‹ç¬¬å››èŒƒå¼åŸºäºã€Œé¢„è®­ç»ƒæ¨¡å‹+Prompt+é¢„æµ‹ã€çš„èŒƒå¼ï¼Œå¦‚Bert+Promptçš„èŒƒå¼ç›¸æ¯”äºç¬¬ä¸‰èŒƒå¼ï¼Œæ¨¡å‹è®­ç»ƒæ‰€éœ€çš„è®­ç»ƒæ•°æ®æ˜¾è‘—å‡å°‘ åœ¨æ•´ä¸ªNLPé¢†åŸŸï¼Œæ•´ä¸ªå‘å±•å†å²éƒ½æ˜¯æœç€ç²¾åº¦æ›´é«˜ã€å°‘ç›‘ç£ç”šè‡³æ— ç›‘ç£çš„æ–¹å‘å‘å±•ï¼Œè€Œ Prompt-Tuning æ˜¯ç›®å‰å­¦æœ¯ç•Œå‘è¿™ä¸ªæ–¹å‘è¿›å†›æœ€æ–°ä¹Ÿæ˜¯æœ€ç«çš„ç ”ç©¶æˆæœ Fine-Tuning ç®€å•å›é¡¾ä¸‹Fine-Tuning Fine-Tuningå±äºä¸€ç§è¿ç§»å­¦ä¹ æ–¹å¼ï¼Œåœ¨è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰ä¸­ï¼ŒFine-Tuningæ˜¯ç”¨äºå°†é¢„è®­ç»ƒçš„è¯­è¨€æ¨¡å‹é€‚åº”äºç‰¹å®šä»»åŠ¡æˆ–é¢†åŸŸã€‚Fine-Tuningçš„åŸºæœ¬æ€æƒ³æ˜¯é‡‡ç”¨å·²ç»åœ¨å¤§é‡æ–‡æœ¬ä¸Šè¿›è¡Œè®­ç»ƒçš„é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹ï¼Œç„¶ååœ¨å°è§„æ¨¡çš„ä»»åŠ¡ç‰¹å®šæ–‡æœ¬ä¸Šç»§ç»­è®­ç»ƒå®ƒ è¿™ç§æ–¹å¼çš„ç—›ç‚¹åœ¨äºï¼š ä¸‹æ¸¸ä»»åŠ¡çš„ç›®æ ‡å’Œé¢„è®­ç»ƒçš„ç›®æ ‡å·®è·è¿‡å¤§ï¼Œå¯èƒ½å¯¼è‡´è¿‡æ‹Ÿåˆ å¾®è°ƒè¿‡ç¨‹éœ€è¦ä¾èµ–å¤§é‡ç›‘ç£è¯­æ–™ å¤§è¯­è¨€æ¨¡å‹å‚æ•°é‡éƒ½æå¤§ï¼Œå®Œå…¨å¾®è°ƒ Full Fine-Tuning çš„ä»£ä»·å¾ˆé«˜ è§£å†³åŠæ³•ï¼šPrompt-Tuningï¼Œé€šè¿‡æ·»åŠ æ¨¡æ¿çš„æ–¹æ³•æ¥é¿å…å¼•å…¥é¢å¤–çš„å‚æ•°ï¼Œä»è€Œè®©æ¨¡å‹å¯ä»¥åœ¨å°æ ·æœ¬ï¼ˆfew-shotï¼‰æˆ–é›¶æ ·æœ¬ï¼ˆzero-shotï¼‰åœºæ™¯ä¸‹è¾¾åˆ°ç†æƒ³æ•ˆæœ Prompt-Tuningç®€è¿°åŸºäºFine-Tuningçš„æ–¹æ³•æ˜¯è®©é¢„è®­ç»ƒæ¨¡å‹å»è¿å°±ä¸‹æ¸¸ä»»åŠ¡ï¼Œè€ŒåŸºäºPrompt-Tuningçš„æ–¹æ³•å¯ä»¥è®©ä¸‹æ¸¸ä»»åŠ¡å»è¿å°±é¢„è®­ç»ƒæ¨¡å‹ï¼Œå…¶ç›®çš„æ˜¯å°†Fine-Tuningçš„ä¸‹æ¸¸ä»»åŠ¡ç›®æ ‡è½¬æ¢ä¸ºPre-trainingçš„ä»»åŠ¡ å·¥ä½œè¿‡ç¨‹å®šä¹‰ä¸€ä¸ªå¥å­ï¼š[CLS] I like the Disney films very much. [SEP] ä¼ ç»Ÿçš„Fine-tuningæ–¹æ³•: å°†å…¶é€šè¿‡BERTæ¨¡å‹è·å¾— [CLS] è¡¨å¾ä¹‹åå†å–‚å…¥æ–°å¢åŠ çš„MLPåˆ†ç±»å™¨è¿›è¡ŒäºŒåˆ†ç±»ï¼Œé¢„æµ‹è¯¥å¥å­æ˜¯ç§¯æçš„ï¼ˆpositiveï¼‰è¿˜æ˜¯æ¶ˆæçš„ï¼ˆnegativeï¼‰ï¼Œå› æ­¤éœ€è¦ä¸€å®šé‡çš„è®­ç»ƒæ•°æ®æ¥è®­ç»ƒ Prompt-tuningæ‰§è¡Œæ­¥éª¤ï¼š æ„å»ºæ¨¡æ¿ï¼š (Template)ç”Ÿæˆä¸ç»™å®šå¥å­ç›¸å…³çš„ä¸€ä¸ªå«æœ‰[MASK]æ ‡è®°çš„æ¨¡æ¿. ä¾‹å¦‚It was [MASK], å¹¶æ‹¼æ¥åˆ°åŸå§‹çš„æ–‡æœ¬ä¸­ï¼Œè·å¾—Prompt-Tuningçš„è¾“å…¥ï¼š[CLS] I like the Disney films very much. [SEP] It was [MASK]. [SEP]ï¼Œå°†å…¶å–‚å…¥BERTæ¨¡å‹ä¸­ï¼Œå¹¶å¤ç”¨é¢„è®­ç»ƒå¥½çš„MLMåˆ†ç±»å™¨ï¼Œå³å¯ç›´æ¥å¾—åˆ°[MASK]é¢„æµ‹çš„å„ä¸ªtokençš„æ¦‚ç‡åˆ†å¸ƒ æ ‡ç­¾è¯æ˜ å°„ï¼š (Verbalizer)å› ä¸º[MASK]åªå¯¹éƒ¨åˆ†è¯æ„Ÿå…´è¶£ï¼Œå› æ­¤éœ€è¦å»ºç«‹ä¸€ä¸ªæ˜ å°„å…³ç³». ä¾‹å¦‚å¦‚æœ[MASK]é¢„æµ‹çš„è¯æ˜¯â€œgreatâ€ï¼Œåˆ™è®¤ä¸ºæ˜¯positiveç±»ï¼Œå¦‚æœæ˜¯â€œterribleâ€ï¼Œåˆ™è®¤ä¸ºæ˜¯negativeç±» **è®­ç»ƒï¼š**æ ¹æ®Verbalizerï¼Œåˆ™å¯ä»¥è·å¾—æŒ‡å®šlabel wordçš„é¢„æµ‹æ¦‚ç‡åˆ†å¸ƒï¼Œå¹¶é‡‡ç”¨äº¤å‰ä¿¡æ¯ç†µè¿›è¡Œè®­ç»ƒã€‚æ­¤æ—¶å› ä¸ºåªå¯¹é¢„è®­ç»ƒå¥½çš„MLM headè¿›è¡Œå¾®è°ƒï¼Œæ‰€ä»¥é¿å…äº†è¿‡æ‹Ÿåˆé—®é¢˜ æŒ‘æˆ˜ä¸åŒçš„ä»»åŠ¡åº”è¯¥æœ‰ä¸åŒçš„templateå’Œlabel wordï¼Œå› æ­¤å¦‚ä½•æœ€å¤§åŒ–çš„å¯»æ‰¾å½“å‰ä»»åŠ¡æ›´åŠ åˆé€‚çš„templateå’Œlabelwordæ˜¯Prompt-tuningéå¸¸é‡è¦çš„æŒ‘æˆ˜ Prompt-Tuningå‘å±•å†ç¨‹é¼»ç¥– â€”â€” GPT3GPT-3å¼€åˆ›æ€§çš„æå‡ºäº†In-context Learningçš„æ€æƒ³. å³æ— éœ€ä¿®æ”¹æ¨¡å‹å³å¯å®ç°few-shotã€zero-shotçš„learning. åŒæ—¶å¼•å…¥äº†Demonstrate Learning, å³è®©æ¨¡å‹çŸ¥é“ä¸æ ‡ç­¾ç›¸ä¼¼çš„è¯­ä¹‰æè¿°ï¼Œæå‡æ¨ç†èƒ½åŠ› è¿™ç§æ–¹æ³•å­˜åœ¨ä¸€äº›é—®é¢˜ï¼š å…¶å»ºç«‹åœ¨è¶…å¤§è§„æ¨¡é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹ä¸Šï¼Œæ¨¡å‹å‚æ•°é‡é€šå¸¸è¶…è¿‡10Bï¼Œåœ¨çœŸå®åœºæ™¯ä¸­å¾ˆéš¾åº”ç”¨ è¯¥æ–¹æ³•åº”ç”¨äºå‚æ•°è§„æ¨¡å°çš„æ¨¡å‹æ—¶ï¼Œæ•ˆæœä¼šä¸‹é™å¾ˆå¤šï¼Œå› æ­¤åç»­æå‡ºPrompt-Tuning GPT3ä¸­æä¾›çš„promptè¿‡äºç®€å•ï¼Œæ³›åŒ–æ€§èƒ½ä½ å› æ­¤ï¼ŒPETæ¨¡å‹é—®ä¸– PETæ¨¡å‹ PETï¼ˆPattern-Exploiting Trainingï¼‰å‡ºè‡ªã€ŠExploiting Cloze Questions for Few Shot Text Classification and Natural Language Inferenceã€‹ï¼ˆEACL2021ï¼‰ï¼Œæ ¹æ®è®ºæ–‡é¢˜ç›®åˆ™å¯ä»¥çœ‹å‡ºï¼ŒPrompt-Tuningå¯å‘äºæ–‡æœ¬åˆ†ç±»ä»»åŠ¡ï¼Œå¹¶ä¸”è¯•å›¾å°†æ‰€æœ‰çš„åˆ†ç±»ä»»åŠ¡è½¬æ¢ä¸ºä¸MLMä¸€è‡´çš„å®Œå½¢å¡«ç©º. PETæ¨¡å‹è®¾è®¡äº†ä¸¤ä¸ªå¾ˆé‡è¦çš„ç»„ä»¶ â†’ Patternã€Verbalizer ç®€ç§°PVPï¼ˆPattern-Verbalizer-Pairï¼‰ Patternï¼ˆTemplateï¼‰: è®°ä½œT, å³ä¸Šæ–‡æåˆ°çš„Templateï¼Œå…¶ä¸ºé¢å¤–æ·»åŠ çš„å¸¦æœ‰[mask]æ ‡è®°çš„çŸ­æ–‡æœ¬ï¼Œé€šå¸¸ä¸€ä¸ªæ ·æœ¬åªæœ‰ä¸€ä¸ªPattern, ç”±äºä¸åŒçš„ä»»åŠ¡ã€ä¸åŒçš„æ ·æœ¬å¯èƒ½ä¼šæœ‰å…¶æ›´åŠ åˆé€‚çš„patternï¼Œå› æ­¤å¦‚ä½•æ„å»ºåˆé€‚çš„patternæ˜¯Prompt-Tuningçš„ç ”ç©¶ç‚¹ä¹‹ä¸€ Verbalizer: è®°ä½œV, å³æ ‡ç­¾è¯çš„æ˜ å°„ï¼Œå¯¹äºå…·ä½“çš„åˆ†ç±»ä»»åŠ¡ï¼Œéœ€è¦é€‰æ‹©æŒ‡å®šçš„æ ‡ç­¾è¯ï¼ˆlabel wordï¼‰.ä¾‹å¦‚æƒ…æ„Ÿåˆ†æä¸­ï¼Œæˆ‘ä»¬æœŸæœ›Verbalizerå¯èƒ½æ˜¯ ï¼ˆpositiveå’Œnegativeæ˜¯ç±»æ ‡ç­¾ï¼‰. åŒæ ·ï¼Œä¸åŒçš„ä»»åŠ¡æœ‰å…¶ç›¸åº”çš„labelwordï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒVerbalizerçš„æ„å»ºéœ€è¦å–å†³äºå¯¹åº”çš„Pattern, å› æ­¤å¦‚ä½•æ„å»ºVerbalizeræ˜¯å¦ä¸€ä¸ªç ”ç©¶æŒ‘æˆ˜","tags":["tuning"],"categories":["æç¤ºè¯","å¾®è°ƒ","Tuning"]},{"title":"å‘½åå®ä½“è¯†åˆ«","path":"/2024/08/01/ner/","content":"","tags":["NER","NLP"],"categories":["æ•°æ®å¤„ç†"]},{"title":"å®Œæ•´front-matterå­—æ®µ","path":"/2024/05/21/front_matter/","content":"Hexo å†…ç½®å­—æ®µ å‚æ•° æè¿° é»˜è®¤å€¼ layout å¸ƒå±€ config.default_layout title æ ‡é¢˜ æ–‡ç« çš„æ–‡ä»¶å date å»ºç«‹æ—¥æœŸ æ–‡ä»¶å»ºç«‹æ—¥æœŸ updated æ›´æ–°æ—¥æœŸ æ–‡ä»¶æ›´æ–°æ—¥æœŸ sticky ç½®é¡¶ï¼ˆæ•°å­—è¶Šå¤§è¶Šé å‰ï¼‰ comments å¼€å¯æ–‡ç« çš„è¯„è®ºåŠŸèƒ½ true tags æ ‡ç­¾ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰ categories åˆ†ç±»ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰ permalink è¦†ç›–æ–‡ç« çš„æ°¸ä¹…é“¾æ¥ï¼Œæ°¸ä¹…é“¾æ¥åº”è¯¥ä»¥ / æˆ– .html ç»“å°¾ null excerpt çº¯æ–‡æœ¬çš„é¡µé¢æ‘˜è¦ã€‚ä½¿ç”¨ è¯¥æ’ä»¶ æ¥æ ¼å¼åŒ–æ–‡æœ¬ disableNunjucks å¯ç”¨æ—¶ç¦ç”¨ Nunjucks æ ‡ç­¾ % % å’Œ æ ‡ç­¾æ’ä»¶ çš„æ¸²æŸ“åŠŸèƒ½ false lang è®¾ç½®è¯­è¨€ä»¥è¦†ç›– è‡ªåŠ¨æ£€æµ‹ ç»§æ‰¿è‡ª _config.yml published æ–‡ç« æ˜¯å¦å‘å¸ƒ å¯¹äº _posts ä¸‹çš„æ–‡ç« ä¸º trueï¼Œå¯¹äº _draft ä¸‹çš„æ–‡ç« ä¸º false è¯¦è§ï¼šhttps://hexo.io/zh-cn/docs/front-matter Stellar ç‰¹æœ‰å­—æ®µ å‚æ•° æè¿° é»˜è®¤å€¼ å¯ç”¨ç‰ˆæœ¬ wiki è¯¥é¡µé¢æ‰€å±çš„ wiki é¡¹ç›® menu_id é«˜äº®çš„èœå•æŒ‰é’® id sidebar ä¾§è¾¹æ é…ç½® 1.0.0 ~ 1.26.8 leftbar å·¦ä¾§è¾¹æ é…ç½® 1.27.0 ~ rightbar å³ä¾§è¾¹æ é…ç½® 1.27.0 ~ comment_title è¯„è®ºåŒºæ ‡é¢˜ poster æ–‡ç« å°é¢ï¼ŒåŒ…å« topicheadlinecaptioncolor å­é…ç½® banner é¡µé¢é¡¶éƒ¨æ¨ªå¹…èƒŒæ™¯ banner_info æ¨ªå¹…ä¿¡æ¯ï¼ŒåŒ…å« avatartitlesubtitle å­é…ç½® logo å·¦ä¾§è¾¹æ é¡¶éƒ¨ logo åŒºåŸŸä¿¡æ¯ï¼ŒåŒ…å« iconavatartitlesubtitle å­é…ç½® indent æ®µè½æ˜¯å¦ç¼©è¿› false topic æ‰€å±è¯é¢˜ä¸“æ  1.25.0 ~ author è¯¥æ–‡ç« çš„ä½œè€… 1.23.0 ~ type é¡µé¢ç±»å‹ 1.26.0 ~ references å‚è€ƒèµ„æ–™ h1 é¡µå†…æ ‡é¢˜ title 1.26.0 ~ breadcrumb é¢åŒ…å±‘å¯¼èˆª true indexing é¡µé¢èƒ½å¦æ˜¯å¦èƒ½è¢«æœç´¢ true ç¬¬ä¸‰æ–¹æ’ä»¶ å‚æ•° æè¿° ç±»å‹ mathjax æ¸²æŸ“æ–‡ç« å…¬å¼ boolean katex åŒä¸Š boolean mermaid æ¸²æŸ“å›¾è¡¨ boolean","tags":["HEXO","åšå®¢","Stellar"],"categories":["åšå®¢"]},{"title":"æ¨¡å‹è’¸é¦","path":"/2024/04/26/modeldistill/","content":"","tags":["ä¼˜åŒ–","Distill"],"categories":["æ·±åº¦å­¦ä¹ ","æ¨¡å‹å‹ç¼©"]},{"title":"æ¨¡å‹è’¸é¦","path":"/2024/04/26/textcnn/","content":"TextCNNä¸­çš„å·ç§¯æ“ä½œå·ç§¯ç¥ç»ç½‘ç»œçš„æ ¸å¿ƒæ€æƒ³æ˜¯ æ•æ‰å±€éƒ¨ç‰¹å¾ï¼Œå¯¹äºæ–‡æœ¬æ¥è¯´ï¼Œå±€éƒ¨ç‰¹å¾å°±æ˜¯ ç”±è‹¥å¹²å•è¯ç»„æˆçš„æ»‘åŠ¨çª—å£ï¼Œç±»ä¼¼ N-gramã€‚å·ç§¯ç¥ç»ç½‘ç»œçš„ä¼˜åŠ¿åœ¨äºèƒ½å¤Ÿè‡ªåŠ¨çš„å¯¹ N-gramç‰¹å¾è¿›è¡Œç»„åˆå’Œç­›é€‰ï¼Œè·å–ä¸åŒæŠ½è±¡å±‚æ¬¡çš„è¯­ä¹‰ä¿¡æ¯ åœ¨å›¾åƒä¸­ï¼Œè¿™äº›å±€éƒ¨ç‰¹å¾å¯ä»¥æ˜¯ è¾¹ç¼˜ã€çº¹ç†ã€å½¢çŠ¶ åœ¨æ–‡æœ¬ä¸­ï¼Œè¿™äº›å±€éƒ¨ç‰¹å¾å¯ä»¥æ˜¯ï¼š â€‹\tæƒ…æ„ŸçŸ­è¯­ï¼šâ€œå¤ªä¸­äº†ï¼â€œï¼Œâ€œä¿ºä¸ä¸­å˜â€ â€‹\tå…³é”®è¯ç»„åˆï¼šâ€œè‚¡å¸‚ ä¸‹è·Œâ€ï¼Œâ€œç–«æƒ… çˆ†å‘â€ â€‹\tâ€¦â€¦ å¥å­å¯ä»¥çœ‹æˆç”±è¯å‘é‡ç»„æˆçš„äºŒç»´çŸ©é˜µ $$XâˆˆR^{nÃ—d}$$ n è¡¨ç¤ºå¥å­é•¿åº¦ d è¡¨ç¤ºè¯å‘é‡ç»´åº¦ æ¯ä¸€è¡Œå°±æ˜¯ä¸€ä¸ªè¯çš„embedding å·ç§¯æ ¸å¯ä»¥åœ¨è¿™ä¸ªçŸ©é˜µä¸Šæ»‘åŠ¨ï¼Œè‡ªåŠ¨å­¦ä¹ â€œå“ªäº›è¯ç»„åˆè¡¨ç¤ºä»€ä¹ˆè¯­ä¹‰â€ï¼Œä»è€Œè¾¾åˆ°æ–‡æœ¬åˆ†ç±»ç›®çš„ TextCNNçš„æ ¸å¿ƒç»“æ„1. Embedding å±‚è¾“å…¥å¥å­ç»è¿‡ embedding lookup å˜æˆçŸ©é˜µï¼Œè¯å‘é‡å¯ä»¥æ˜¯ï¼š éšæœºåˆå§‹åŒ– é¢„è®­ç»ƒè¯å‘é‡ï¼ˆword2vecã€GloVeã€fastTextï¼‰ Transformer è¾“å‡ºçš„ä¸Šä¸‹æ–‡å‘é‡ï¼ˆæ›´é«˜çº§ï¼‰ 2. å¤šå°ºå¯¸å·ç§¯æ ¸æå– n-gram ç‰¹å¾ä¸åŒé«˜åº¦çš„å·ç§¯æ ¸å¯¹åº”ä¸åŒ n-gramï¼š å®½åº¦ embedding ç»´åº¦ï¼ˆå›ºå®šï¼‰ é«˜åº¦ n-gram å¤§å°ï¼Œå¦‚ 2ã€3ã€4 ä¾‹å¦‚ï¼Œ3Ã—d çš„å·ç§¯æ ¸å¯ä»¥æ•æ‰ â€œä¸‰è¯çŸ­è¯­â€ æ¨¡å¼ã€‚ å·ç§¯è¿ç®—å…¬å¼å¦‚ä¸‹ï¼š $$c_i f(W * X_{i:i+h-1} + b)$$ å¾—åˆ°é•¿åº¦ä¸º $$nâˆ’h+1$$ çš„ feature mapã€‚ 3. æœ€å¤§æ± åŒ–ï¼ˆmax-over-time poolingï¼‰å¯¹æ¯ä¸ª feature map å–æœ€å¤§å€¼ å«ä¹‰ï¼šä¿ç•™è¯¥å·ç§¯æ ¸åœ¨æ•´ä¸ªå¥å­ä¸­æœ€å¼ºçš„æ¿€æ´»ï¼Œä»£è¡¨æœ€é‡è¦çš„ n-gram æ¨¡å¼ã€‚ 4. å…¨è¿æ¥å±‚ + Softmax åˆ†ç±»å¤šä¸ªå·ç§¯æ ¸çš„æ± åŒ–ç»“æœæ‹¼æ¥æˆå‘é‡ï¼Œå†è¾“å…¥å…¨è¿æ¥å±‚å®ç°åˆ†ç±»ã€‚ TextCNNçš„è¶…å‚æ•°è°ƒå‚ å‚æ•°åç§° å‚æ•°å€¼ è¾“å…¥è¯å‘é‡ word2vec filterå¤§å° (3,4,5) æ¯ä¸ªsizeä¸‹çš„filterä¸ªæ•° 100 æ¿€æ´»å‡½æ•° ReLU æ± åŒ–ç­–ç•¥ 1-max pooling dropout rate 0.5 L2æ­£åˆ™åŒ– 3 è¾“å…¥è¯å‘é‡è¡¨å¾ï¼šè¯å‘é‡è¡¨å¾çš„é€‰å–(å¦‚é€‰word2vecè¿˜æ˜¯GloVe) å·ç§¯æ ¸å¤§å°ï¼šä¸€ä¸ªåˆç†çš„å€¼èŒƒå›´åœ¨1~10ã€‚è‹¥è¯­æ–™ä¸­çš„å¥å­è¾ƒé•¿ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æ›´å¤§çš„å·ç§¯æ ¸ã€‚å¦å¤–ï¼Œå¯ä»¥åœ¨å¯»æ‰¾åˆ°äº†æœ€ä½³çš„å•ä¸ªfilterçš„å¤§å°åï¼Œå°è¯•åœ¨è¯¥filterçš„å°ºå¯¸å€¼é™„è¿‘å¯»æ‰¾å…¶ä»–åˆé€‚å€¼æ¥è¿›è¡Œç»„åˆã€‚å®è·µè¯æ˜è¿™æ ·çš„ç»„åˆæ•ˆæœå¾€å¾€æ¯”å•ä¸ªæœ€ä½³filterè¡¨ç°æ›´å‡ºè‰² feature mapç‰¹å¾å›¾ä¸ªæ•°ï¼šä¸»è¦è€ƒè™‘çš„æ˜¯å½“å¢åŠ ç‰¹å¾å›¾ä¸ªæ•°æ—¶ï¼Œè®­ç»ƒæ—¶é—´ä¹Ÿä¼šåŠ é•¿ï¼Œå› æ­¤éœ€è¦æƒè¡¡å¥½ã€‚å½“ç‰¹å¾å›¾æ•°é‡å¢åŠ åˆ°å°†æ€§èƒ½é™ä½æ—¶ï¼Œå¯ä»¥åŠ å¼ºæ­£åˆ™åŒ–æ•ˆæœï¼Œå¦‚å°†dropoutç‡æé«˜è¿‡0.5 æ¿€æ´»å‡½æ•°ï¼šReLUå’Œtanhæ˜¯æœ€ä½³å€™é€‰è€… æ± åŒ–ç­–ç•¥ï¼š1-max poolingè¡¨ç°æœ€ä½³ æ­£åˆ™åŒ–é¡¹(dropoutL2)ï¼šç›¸å¯¹äºå…¶ä»–è¶…å‚æ•°æ¥è¯´ï¼Œå½±å“è¾ƒå°ç‚¹ ä½¿ç”¨Pytorchç®€å•å®ç°import torchimport torch.nn as nnimport torch.nn.functional as Fimport osâ€‹class Model(nn.Module): def __init__(self, config): super(Model, self).__init__() self.embedding = nn.Embedding(config.n_vocab, config.embed, padding_idx=config.n_vocab - 1) # è¯åµŒå…¥å±‚ self.convs = nn.ModuleList( [nn.Conv2d(1, config.num_filters, (k, config.embed)) for k in config.filter_sizes] ) # å·ç§¯å±‚åˆ—è¡¨ï¼ŒåŒ…å«ä¸åŒå·ç§¯æ ¸å¤§å°çš„å·ç§¯å±‚ self.dropout = nn.Dropout(config.dropout) # éšæœºå¤±æ´»å±‚ self.fc = nn.Linear(config.num_filters * len(config.filter_sizes), config.num_classes) # å…¨è¿æ¥å±‚â€‹ def conv_and_pool(self, x, conv): # å·ç§¯å’Œæ± åŒ–æ“ä½œ x = F.relu(conv(x)).squeeze(3) x = F.max_pool1d(x, x.size(2)).squeeze(2) return xâ€‹ def forward(self, x): # å‰å‘ä¼ æ’­ out = self.embedding(x[0]) out = out.unsqueeze(1) # å¯¹æ¯ä¸ªå·ç§¯å±‚è¿›è¡Œå·ç§¯å’Œæ± åŒ–æ“ä½œï¼Œç„¶åæ‹¼æ¥åœ¨ä¸€èµ· out = torch.cat([self.conv_and_pool(out, conv) for conv in self.convs], 1) out = self.dropout(out) # éšæœºå¤±æ´» out = self.fc(out) # å…¨è¿æ¥å±‚ return out","tags":["æ¨¡å‹","CNN","æ–‡æœ¬åˆ†ç±»"],"categories":["æ·±åº¦å­¦ä¹ "]},{"title":"æœ‰ç”¨çš„å°çŸ¥è¯†","path":"/2024/03/01/justrecord/","content":"é“¶å±‘ç—…ä¸€äº›å¥½ç”¨çš„è¯ç‰©ä»–å…‹è«å¸ è¡¥é’™äººä½“è¶Šè¶Šé’™ï¼Œå¸æ”¶ç‡è¶Šé«˜ï¼Œä¸€èˆ¬20% ~ 30%ï¼Œç¼ºé’™çš„è¯å¯èƒ½æé«˜åˆ°60 ~ 70ï¼Œä¸ç¼ºé’™å¯èƒ½ä¼šä¸‹é™åˆ°10%å·¦å³ï¼ˆè¿™æ˜¯åœ¨æ­£å¸¸æ‘„å…¥é’™çš„æƒ…å†µä¸‹ï¼‰ æŸ æª¬é…¸é’™ï¼ˆè¾ƒè´µï¼‰ç¢³é…¸é’™ï¼ˆåŒæ ·å¯ä»¥ï¼‰æ¯å¤©è¡¥å…… 700mg ä»¥ä¸Š è¡¥å……æ°¨åŸºé…¸å¯ä»¥ä¿ƒè¿›é’™çš„å¸æ”¶ æ‰€ä»¥ï¼Œæœ‰å¤åˆäº§å“ â€”â€” æ°¨åŸºé…¸è¯åˆé’™ç­‰ é’™è¡¥å……å¤šäº†ä¼šä¾¿ç§˜ï¼ˆå¸æ”¶ç‡æœ‰é™ï¼‰ï¼Œå¤šåšè¿åŠ¨ä¿è¯å¸æ”¶çš„é’™èƒ½æœ‰æ•ˆåˆ©ç”¨ å¤šè¡¥å……ç»´ç”Ÿç´ Dï¼ï¼ï¼ æœ€è®©äººèˆ’æœçš„11ç§é¢œè‰²RGBå€¼å’Œåå…­è¿›åˆ¶å€¼ åºå· åç§° RGB åå…­è¿›åˆ¶ 1 è±†æ²™ç»¿ (199, 237, 204) #C7EDCC 2 é“¶æ²³ç™½ (255, 255, 255) #FFFFFF 3 æä»é»„ (250, 249, 222) #FAF9DE 4 ç§‹å¶è¤ (255, 242, 226) #FFF2E2 5 èƒ­è„‚çº¢ (253, 230, 224) #FDE6E0 6 é’è‰ç»¿ (227, 237, 205) #E3EDCD 7 æµ·å¤©è“ (220, 226, 241) #DCE2F1 8 è‘›å·¾ç´« (233, 235, 254) #E9EBFE 9 æå…‰ç° (234, 234, 239) #EAEAEF 10 è‹¹æœç»¿ (183, 232, 189) #B7E8BD 11 è±†æ²™ç»¿-ç•¥æš— (204, 232, 207) #CCE8CF","tags":["éšæ‰‹ä¸€è®°","å¥åº·"],"categories":["ç”Ÿæ´»"]},{"title":"å¼ é‡ç´¢å¼•åˆ‡ç‰‡æ“ä½œ","path":"/2024/02/21/tensor/","content":"å¤§è‡´æŒ‰ç…§ä½¿ç”¨é¢‘ç‡é€’å‡ç»™å‡º è¿™é‡Œå¯ä»¥ç»™å‡ºä¸€ä¸ªç»“è®ºæ€§çš„è§„å¾‹, ä¾¿äºåˆ¤æ–­å¼ é‡å½¢çŠ¶, ç´¢å¼•æ“ä½œæ—¶, æœ‰å‡ ä¸ª : , å°±æœ‰å‡ ä¸ªç»´åº¦ 1. åŸºæœ¬ä¸‹æ ‡ä¸åˆ‡ç‰‡ï¼ˆPython é£æ ¼ï¼‰import torchx = torch.arange(24).reshape(2,3,4) # shape (2,3,4)# x[batch, row, col]x[0,0,0] # æ ‡é‡ tensor(0)x[0, :, :] # ç¬¬ä¸€ç»´=0ï¼Œå–å‡º shape (3,4)x[:, 1, :] # æ‰€æœ‰batch, ç¬¬äºŒä¸ªrow - shape (2,4)x[..., 2] # çœç•¥å·ï¼Œç­‰ä»·äº x[:, :, 2] - shape (2,3)x[0] # ç­‰ä»·äº x[0, :, :] - shape (3,4) åˆ‡ç‰‡è¯­æ³•æ”¯æŒ start:stop:stepï¼ˆå« startï¼Œä¸å« stopï¼‰ï¼Œæ”¯æŒè´Ÿæ•°ç´¢å¼•å’Œæ­¥é•¿ã€‚ ä¾‹å¦‚ x[:, ::-1, :] ä¼šåœ¨ä¸­é—´ç»´åº¦ä¸Šåè½¬é¡ºåºï¼ˆè¿”å› view è¿˜æ˜¯ copy å–å†³äºå®ç°ï¼›åœ¨ PyTorch ä¸­ negative step ä¼šè¿”å› copyï¼‰ã€‚ 2. ä½¿ç”¨ None np.newaxisï¼ˆå¢åŠ ç»´åº¦ï¼‰y = torch.tensor([1,2,3]) # shape (3,)y[None, :] # shape (1,3)y[:, None] # shape (3,1) å¸¸ç”¨äºæŠŠå‘é‡è½¬ä¸ºåˆ—è¡Œä»¥ä¾¿å¹¿æ’­ã€‚ 3. å¸ƒå°”æ©ç ï¼ˆBoolean Maskingï¼‰a = torch.tensor([0,5,2,7,3])mask = a 3 # tensor([False, True, False, True, False])a[mask] # tensor([5,7]) - 1D è¾“å‡ºï¼Œä¸¢å¤±åŸshapeä¿¡æ¯ masked_select(a, mask) ç­‰ä»·äº a[mask]ã€‚ å½“ mask æ˜¯å¤šç»´ä¸”ä¸ a åŒ shape æ—¶ï¼Œç»“æœæ˜¯æ‰å¹³çš„ 1D å¼ é‡ï¼ˆæŒ‰è¡Œä¸»åºæå–å…ƒç´ ï¼‰ã€‚ å¯ç”¨äºç­›æ ·æœ¬ã€å®ç° padding æ©ç ç­›é€‰ç­‰ã€‚ 4. èŠ±å¼ç´¢å¼•ï¼ˆæ•´æ•°æ•°ç»„ç´¢å¼• Advanced Indexingï¼‰M = torch.arange(12).reshape(3,4) # shape (3,4)rows = torch.tensor([2,0])cols = torch.tensor([1,3])M[rows] # æŒ‰è¡Œé€‰æ‹© - shape (2,4)M[:, cols] # æŒ‰åˆ—é€‰æ‹© - shape (3,2)# å¯¹åº”å…ƒç´ é€‰æ‹©ï¼ˆpairwiseï¼‰M[rows, cols] # å– (2,1) å’Œ (0,3) - shape (2,) è‹¥ä½¿ç”¨å¤šä¸ª 1D æ•´æ•°ç´¢å¼•ï¼ˆåŒç»´åº¦ï¼‰ï¼Œä¼šè¿›è¡Œé€å…ƒç´ é…å¯¹ç´¢å¼•ï¼Œè¾“å‡ºé•¿åº¦ç­‰äºç´¢å¼•æ•°ç»„é•¿åº¦ã€‚ è‹¥æ··åˆåˆ‡ç‰‡å’Œæ•´æ•°æ•°ç»„ç´¢å¼•ï¼Œè§„åˆ™ç¨å¤æ‚ï¼šæ•´æ•°ç´¢å¼•ä¼šå…ˆè¢«åº”ç”¨ï¼Œç»“æœç»´åº¦ä½ç½®ä¼šæ¶ˆå¤±æˆ–å˜ä¸ºæ–°ç»´åº¦ã€‚ ä¾‹ï¼ˆå¤šç»´ï¼‰ï¼š T = torch.arange(2*3*4).reshape(2,3,4)idx0 = torch.tensor([0,1]) # ç”¨äºç¬¬0ç»´idx1 = torch.tensor([2,0]) # ç”¨äºç¬¬1ç»´T[idx0, idx1] # é€å¯¹ç´¢å¼• - shape (2,4)# ç­‰ä»·äº: torch.stack([T[0,2], T[1,0]], dim=0) 5. å¹¿æ’­ä¸ç´¢å¼•ï¼ˆæ³¨æ„å½¢çŠ¶ï¼‰A = torch.arange(6).reshape(2,3) # (2,3)idx = torch.tensor([0,2]) # (2,)A[torch.arange(2), idx] # (2,) - æ¯ batch å¯¹åº”åˆ—å–å€¼# torch.arange(2) ä¸º [0,1]ï¼Œä¸ idx é…å¯¹ - å– (0,0) å’Œ (1,2) å¸¸ç”¨äºæŒ‰-batch é€‰æ‹©æ¯ä¸ªæ ·æœ¬å¯¹åº”çš„ç´¢å¼•ï¼ˆå¦‚åˆ†ç±»é¢„æµ‹çš„ top-k åˆ¤æ–­ï¼‰ã€‚ 6. gather ä¸ scatterï¼ˆæŒ‰ç´¢å¼•æ”¶é›†å†™å…¥ï¼Œé€‚ç”¨äºé«˜ç»´æ‰¹é‡æ“ä½œï¼‰# gather ç¤ºä¾‹ï¼šä» src ä¸­æŒ‰ index æ”¶é›†ï¼ˆéœ€è¦æŒ‡å®š dimï¼‰src = torch.tensor([[10,11,12],[20,21,22]]) # shape (2,3)index = torch.tensor([[2,1,0],[0,2,1]]) # shape (2,3)torch.gather(src, dim=1, index=index)# - shape (2,3): [[12,11,10],[20,22,21]] gather è¦æ±‚ index ä¸ src åœ¨é™¤äº† dim å¤–çš„ç»´åº¦å®Œå…¨ç›¸åŒï¼›è¿”å›ä¸ index åŒå½¢çŠ¶çš„å¼ é‡ã€‚ å¸¸ç”¨äºå®ç°æŒ‰ä½ç½®å–å€¼ï¼ˆä¾‹å¦‚ beam-searchã€æŒ‰é¢„æµ‹ç´¢å¼•ä»æ¦‚ç‡å¼ é‡ä¸­å–å€¼ï¼‰ã€‚ scatter_scatter ç”¨äºæŠŠå€¼å†™å…¥æŒ‡å®šä½ç½®ï¼Œå¯åš one-hot åŒ–æˆ–ç´¯ç§¯ï¼ˆæœ‰ reduce å‚æ•°ï¼‰ã€‚ 7. index_select takeï¼ˆæŒ‰ç»´åº¦é€‰æ‹©ï¼‰v = torch.tensor([10,20,30,40])torch.index_select(v, dim=0, index=torch.tensor([3,1])) # tensor([40,20])# å¯¹äºçŸ©é˜µæŒ‰è¡Œé€‰ï¼šM = torch.arange(12).reshape(3,4)torch.index_select(M, dim=0, index=torch.tensor([2,0])) # shape (2,4) index_select è¿”å›çš„é¡ºåºä¸ç´¢å¼•ä¸€è‡´ï¼›ä¸ fancy indexingï¼ˆM[idx]ï¼‰ç›¸ä¼¼ï¼Œä½†æœ‰äº›åç«¯å®ç°è¡Œä¸ºç»†å¾®ä¸åŒï¼ˆæ¯”å¦‚ä¿ç•™ contiguous æ€§ï¼‰ã€‚ 8. masked_fill, whereï¼ˆæ©ç èµ‹å€¼ æ¡ä»¶é€‰æ‹©ï¼‰x = torch.tensor([1., -2., 3.])x.masked_fill(x 0, 0.) # æŠŠè´Ÿæ•°ç½®0torch.where(x0, x, torch.zeros_like(x)) # æ¡ä»¶é€‰æ‹©ï¼Œç›¸å½“äº np.where where(cond, A, B) è¿”å›ä¸ AB å¹¿æ’­åçš„å½¢çŠ¶ç›¸åŒçš„å¼ é‡ã€‚ 9. unsqueeze squeeze ä¸ view/reshapeï¼ˆç»´åº¦æ§åˆ¶ï¼‰a = torch.tensor([1,2,3]) # (3,)a.unsqueeze(0) # (1,3)a.unsqueeze(1) # (3,1)torch.squeeze(a.unsqueeze(0)) # æ¢å¤ squeeze(dim) åªåœ¨æŒ‡å®šç»´åº¦ä¸º 1 æ—¶åˆ é™¤è¯¥ç»´åº¦ã€‚ reshapeview ä¼šæ”¹å˜å†…å­˜è§†å›¾ï¼ˆview è¦æ±‚è¿ç»­ contiguousï¼›reshape åœ¨å¿…è¦æ—¶ä¼šå¤åˆ¶ï¼‰ã€‚ 10. Ellipsis ...ï¼ˆçœç•¥å·ï¼‰X = torch.randn(4,5,6,7)X[..., 0] # ç­‰ä»· X[:, :, :, 0]X[0, ...] # ç­‰ä»· X[0, :, :, :] åœ¨ä¸ç¡®å®šå‰é¢åé¢ç»´åº¦æ•°æ—¶éå¸¸æœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨å†™é€šç”¨å±‚æ—¶ã€‚ 11. å¤šç»´è¿”å›ä¸ç»´åº¦æ’å…¥ï¼ˆä¿æŒä¸¢å¤±ç»´åº¦ï¼‰ ä½¿ç”¨æ•´æ•°ç´¢å¼•ä¼šå‡å°‘ç»´åº¦ï¼ˆé‚£ä¸€ç»´è¢«æ¶ˆé™¤ï¼‰ï¼› ä½¿ç”¨åˆ‡ç‰‡æˆ– Noneï¼Œæˆ–ä¿æŒé•¿åº¦ä¸º 1 çš„ç´¢å¼•ä¼šä¿ç•™ç»´åº¦ã€‚ ç¤ºä¾‹ï¼š t = torch.randn(2,3,4)t[0].shape # (3,4) -- æ•´æ•°ç´¢å¼•å»æ‰ç¬¬0ç»´t[0:1].shape # (1,3,4) -- åˆ‡ç‰‡ä¿ç•™ç¬¬0ç»´t[[0]].shape # (1,3,4) -- ç”¨é•¿åº¦1çš„ç´¢å¼•æ•°ç»„ä¹Ÿä¿ç•™ 12. è§†å›¾ï¼ˆviewï¼‰ä¸ copyï¼ˆå†…å­˜contiguousï¼‰ç›¸å…³æ³¨æ„ å¤§å¤šæ•°ç®€å•åˆ‡ç‰‡å’Œæ•´å‹ç´¢å¼•ä¼šè¿”å›åŸå¼ é‡çš„ viewï¼ˆå…±äº«å†…å­˜ï¼‰ï¼Œä½†æœ‰äº›æ“ä½œä¼šè¿”å› copyï¼ˆä¾‹å¦‚å¸¦è´Ÿæ­¥é•¿çš„åˆ‡ç‰‡ã€æŸäº›é«˜çº§ç´¢å¼•ï¼‰ã€‚ is_contiguous() å¯ä»¥æ£€æŸ¥æ˜¯å¦è¿ç»­ã€‚è‹¥å¯¹è¿”å›çš„å¼ é‡æ‰§è¡Œ view() å¯èƒ½ä¼šæŠ¥é”™ï¼Œéœ€å…ˆ .contiguous()ã€‚ s = torch.arange(6).reshape(2,3)t = s[:, ::-1] # å¯èƒ½æ˜¯ copyï¼ˆä¸è¿ç»­ï¼‰t.is_contiguous() # å¯èƒ½ Falset.contiguous().view(-1) # å®‰å…¨ åœ¨ in-place æ“ä½œï¼ˆå¦‚ t += 1ï¼‰æ—¶ï¼Œå¦‚æœ t ä¸åŸå¼ é‡å…±äº«å†…å­˜ï¼Œå¯èƒ½ä¼šå½±å“åŸå¼ é‡ï¼›å¯¹ copy åˆ™æ— å½±å“ã€‚ 13. åå‘ä¼ æ’­ï¼ˆautogradï¼‰ç›¸å…³ ç´¢å¼•ã€åˆ‡ç‰‡ä¼šä¿ç•™è®¡ç®—å›¾ä¿¡æ¯ï¼ˆå¦‚æœåŸå¼ é‡ requires_grad=Trueï¼‰ï¼Œå› æ­¤ä»å¼ é‡ä¸­å–å‡ºçš„éƒ¨åˆ†ä»å¯å¯¹åŸå¼ é‡åå‘ä¼ æ’­ã€‚ ä½†æ˜¯ï¼Œç”¨é«˜çº§ç´¢å¼•èµ‹å€¼ï¼ˆx[idx] = somethingï¼‰ä¸è®°å½•æ¢¯åº¦ï¼›éœ€è¦ä½¿ç”¨ scatter æˆ–æ„é€ æ–°çš„å¼ é‡å†è®¡ç®— lossã€‚ detach() å¯ä»¥åˆ‡æ–­æ¢¯åº¦ä¼ æ’­ï¼ˆä¾‹å¦‚ x = x.detach()ï¼‰ã€‚ ç¤ºä¾‹ï¼ˆåå‘ä¼ æ’­å½±å“ï¼‰ï¼š x = torch.randn(3, requires_grad=True)y = x[1] * 2y.backward() # ä¼šä¸º x[1] ç´¯ç§¯æ¢¯åº¦ï¼Œä½† x[0], x[2] ä¸º 0x.grad # tensor([0., 2., 0.]) 14. å¸¸è§ç”¨é€”ä¸æ¨¡å¼ï¼ˆå®æˆ˜ç‰‡æ®µï¼‰ æŒ‰ batch å–æ ·ï¼ˆåˆ†ç±»æ¦‚ç‡å–é¢„æµ‹å€¼ï¼‰ï¼š probs = torch.randn(32, 10) # logits or probspred = probs.argmax(dim=1) # (32,)# å¦‚æœæƒ³ä» probs ä¸­æ”¶é›†æ¯ä¸ª batch å¯¹åº”é¢„æµ‹çš„æ¦‚ç‡ï¼šselected = probs[torch.arange(32), pred] # shape (32,) padding maskï¼ˆseq é•¿çŸ­ä¸ä¸€ï¼‰ï¼š seq = torch.randint(0, 100, (4,7)) # batch, seq_lenmask = (seq != PAD_TOKEN) # True è¡¨ç¤ºæœ‰æ•ˆ# é€šè¿‡ mask åšæ± åŒ–ï¼šmasked_sum = (embeddings * mask.unsqueeze(-1)).sum(dim=1) one-hotï¼š idx = torch.tensor([0,2,1])onehot = torch.nn.functional.one_hot(idx, num_classes=4) # shape (3,4) æŒ‰ç´¢å¼•æ›´æ–°å‚æ•°ï¼ˆembedding lookup ä¸æ›´æ–°ï¼‰ï¼š embedding = torch.nn.Embedding(num_embeddings=1000, embedding_dim=64)out = embedding(idx_tensor) # embedding å†…éƒ¨å°±æ˜¯é«˜çº§ç´¢å¼•/ gather å®ç°","tags":["å¼ é‡","è¿ç®—","Pytorch"],"categories":["æ·±åº¦å­¦ä¹ "]},{"title":"å¥½ç”¨çš„å·¥å…·","path":"/2024/01/10/nicetools/","content":"VPNEFCloudhttps://www.efc123.com/shop ä¸€å…ƒæœºåœºhttps://xn--4gq62f52gdss.ink ç‰¹ä»·æœºåœº ä¾¿å®œå¥½ç”¨https://xn--6nq44rc0n82k.com ICONé˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“https://www.iconfont.cn FONT AWESOMEhttps://fontawesome.com Carbonhttps://yesicon.app/carbon/skill-level å°é¢å›¾ç”ŸæˆBackImagehttps://nav.rdonly.com/laboratory/bgimage/backimage.html Coverhttps://cover.ruom.top åœ¨çº¿å›¾ç‰‡å‹ç¼©TinyPNGhttps://tinypng.com æ”¯æŒ PNG JPG WebP ä¸€æ¬¡å¯ä¸Šä¼  20 å¼ ï¼ˆå•å¼  â‰¤ 5MBï¼‰ å¹³å‡å¯å‡å°‘ 60â€“80% ä½“ç§¯ ä¿ç•™é«˜ç”»è´¨ï¼Œè‚‰çœ¼å‡ ä¹æ— æŸ æ“ä½œæ­¥éª¤ï¼š æ‰“å¼€ç½‘ç«™ æ‹–å…¥å›¾ç‰‡ ä¸‹è½½å‹ç¼©åçš„ç‰ˆæœ¬ ğŸ‘‰ é€‚åˆ åšå®¢å°é¢ã€å±•ç¤ºå›¾ã€LOGO ç­‰æ—¥å¸¸ç”¨é€”ã€‚ ILoveIMGhttps://www.iloveimg.com/compress-image æ”¯æŒæ‰¹é‡ä¸Šä¼  åŒæ—¶å‹ç¼© JPG PNG GIF æä¾›åœ¨çº¿ç¼–è¾‘ï¼ˆè£å‰ªã€åŠ æ°´å°ç­‰ï¼‰ é«˜è´¨é‡å£çº¸ç½‘ç«™WallRoomhttps://wallroom.io Wallhavenhttps://wallhaven.cc Unsplashhttps://unsplash.com","tags":["å·¥å…·"],"categories":["æ•ˆç‡"]},{"title":"Teacher Forcing","path":"/2024/01/01/teacher_forcing/","content":"æ¦‚å¿µ æƒ³è±¡ä¸€ä¸‹ï¼Œä½ åœ¨æ•™ä¸€ä¸ªå­©å­é€ å¥ï¼Œæœ€ç›´æ¥çš„æ–¹æ³•æ˜¯ä½ è¯´ä¸€ä¸ªè¯ï¼Œè®©ä»–è·Ÿè¯»ä¸€ä¸ªè¯ï¼Œè€Œä¸æ˜¯è®©ä»–ä»å¤´çŒœåˆ°å°¾ã€‚ è¿™ç§è€å¸ˆå¼•å¯¼çš„æ€æƒ³å°±æ˜¯Teacher Forcingã€‚ Teacher Forcing æ˜¯è®­ç»ƒè‡ªå›å½’åºåˆ—æ¨¡å‹ï¼ˆæ¯”å¦‚RNNã€LSTMã€GRUã€seq2seqã€transformer çš„è‡ªå›å½’è§£ç å™¨ç­‰ï¼‰æ—¶å¸¸ç”¨çš„ä¸€ç§è®­ç»ƒç­–ç•¥ æ ¸å¿ƒæ€æƒ³ï¼š åœ¨è®­ç»ƒæ—¶ï¼Œæ¨¡å‹æ¯æ¬¡ä¸ä½¿ç”¨ä¸Šä¸€ä¸ªstateçš„è¾“å‡ºä½œä¸ºä¸‹ä¸€ä¸ªstateçš„è¾“å…¥ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨è®­ç»ƒæ•°æ®çš„æ ‡å‡†ç­”æ¡ˆ(ground truth)çš„å¯¹åº”ä¸Šä¸€é¡¹ä½œä¸ºä¸‹ä¸€ä¸ªstateçš„è¾“å…¥ã€‚æ¢å¥è¯è¯´ï¼Œè®­ç»ƒæ—¶ç»™æ¨¡å‹çœ‹è€å¸ˆæä¾›çš„æ­£ç¡®å‰æ–‡ï¼Œè€Œä¸æ˜¯æ¨¡å‹è‡ªå·±é¢„æµ‹çš„å‰æ–‡ã€‚è¿™é‡Œçš„çœŸå®ç­”æ¡ˆæˆ‘ä»¬ä¸€èˆ¬ç§°ä½œground truth ç”¨æœºå™¨ç¿»è¯‘ä»»åŠ¡ç®€å•ä¸¾ä¾‹ï¼š ä»»åŠ¡ï¼šå°†è‹±æ–‡â€œI love youâ€ç¿»è¯‘æˆä¸­æ–‡â€œæˆ‘çˆ±ä½ â€ã€‚ æ²¡æœ‰Teacher Forcingï¼ˆè‡ªç”±è¿è¡Œï¼‰ï¼š è¾“å…¥â€œI love youâ€ï¼Œæ¨¡å‹é¦–å…ˆé¢„æµ‹ç¬¬ä¸€ä¸ªè¯ã€‚å‡è®¾å®ƒé¢„æµ‹é”™äº†ï¼Œè¾“å‡ºæˆäº†â€œæˆ‘æ¨â€ã€‚ ä¸‹ä¸€æ­¥ï¼Œå®ƒå°†â€œæˆ‘æ¨â€ä½œä¸ºè¾“å…¥ï¼Œå»é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ã€‚è¿™å·²ç»èµ°ä¸Šäº†æ­§é€”ï¼Œæœ€ç»ˆå¯èƒ½è¾“å‡ºâ€œæˆ‘æ¨ä½ è¿™ä¸ªä¸–ç•Œâ€ã€‚ æ¨¡å‹ä»è¿™ä¸ªå®Œå…¨é”™è¯¯çš„åºåˆ—ä¸­å­¦ä¹ ï¼Œæ¢¯åº¦ä¼šéå¸¸ä¸ç¨³å®šï¼Œè®­ç»ƒæ•ˆç‡æä½ã€‚ ä½¿ç”¨Teacher Forcingï¼š è¾“å…¥â€œI love youâ€å’Œèµ·å§‹ç¬¦sosï¼Œæ¨¡å‹é¢„æµ‹ç¬¬ä¸€ä¸ªè¯ã€‚å®ƒçš„è¾“å‡ºæ˜¯â€œæˆ‘æ¨â€ï¼Œä½†è®¡ç®—æŸå¤±æ—¶æ˜¯ä¸çœŸå®å€¼â€œæˆ‘â€æ¯”è¾ƒã€‚ å…³é”®ä¸€æ­¥ï¼šåœ¨ä¸‹ä¸€ä¸ªæ—¶é—´æ­¥ï¼Œæˆ‘ä»¬å¿½ç•¥æ¨¡å‹è¾“å‡ºçš„â€œæˆ‘æ¨â€ï¼Œè€Œæ˜¯ç›´æ¥å°†çœŸå®å€¼â€œæˆ‘â€ ä½œä¸ºè¾“å…¥ï¼Œè®©æ¨¡å‹é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ã€‚ æ¨¡å‹ç°åœ¨åŸºäºâ€œæˆ‘â€æ¥é¢„æµ‹ï¼Œæ›´æœ‰å¯èƒ½è¾“å‡ºâ€œçˆ±â€ã€‚ å†ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬åˆå°†çœŸå®å€¼â€œçˆ±â€ä½œä¸ºè¾“å…¥ï¼Œè®©æ¨¡å‹é¢„æµ‹ï¼Œå®ƒæ›´å¯èƒ½è¾“å‡ºâ€œä½ â€ã€‚ è¿™æ ·ï¼Œæ¨¡å‹æ¯ä¸€æ­¥éƒ½æ˜¯åœ¨â€œæ­£ç¡®ä¸Šä¸‹æ–‡â€çš„å¼•å¯¼ä¸‹è¿›è¡Œå­¦ä¹ ã€‚ ç”±æ¥ ç›´åˆ°ä»€ä¹ˆæ˜¯Teacher Forcingåï¼Œæ¥æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆè¦ç”¨Teacher Forcingï¼Ÿ **åŠ å¿«æ”¶æ•›ï¼š**ä½¿ç”¨çœŸå®å‰æ–‡èƒ½å‡å°‘è®­ç»ƒæ—¶é”™è¯¯çº§è”ï¼Œä½¿æ¢¯åº¦æ›´ç¨³å®šï¼Œå­¦ä¹ æ›´å¿« â†’ è®­ç»ƒè¿­ä»£è¿‡ç¨‹æ—©æœŸçš„RNNé¢„æµ‹èƒ½åŠ›éå¸¸å¼±ï¼Œå‡ ä¹ä¸èƒ½ç»™å‡ºå¥½çš„ç”Ÿæˆæˆç»©ï¼Œå¦‚æœæŸä¸€ä¸ªunitäº§ç”Ÿäº†åƒåœ¾ç»“æœï¼Œå¿…ç„¶ä¼šå½±å“åé¢ä¸€ç‰‡unitçš„å­¦ä¹ ï¼Œteacher forcingæœ€æ—©çš„åŠ¨æœºå°±æ˜¯ç”¨æ¥è§£å†³RNNçš„è¿™ä¸ªé—®é¢˜ã€‚ **æœ‰æ•ˆé˜²æ­¢è¯¯å·®ç´¯ç§¯ï¼š**åœ¨è‡ªç”±è¿è¡Œæ¨¡å¼ä¸‹ï¼Œæ—©æœŸçš„ä¸€ä¸ªå°é”™è¯¯ä¼šä½œä¸ºåç»­æ­¥éª¤çš„è¾“å…¥ï¼Œå¯¼è‡´é”™è¯¯ç´¯è®¡åƒæ»šé›ªçƒä¸€æ ·è¶Šæ¥è¶Šå¤§ï¼Œè¿™ä¼šä½¿å¾—æ¨¡å‹éš¾ä»¥ä»ä¸¥é‡çš„é”™è¯¯ä¸­æ¢å¤å­¦ä¹ ã€‚Teacher Forcing å½»åº•åˆ‡æ–­äº†é”™è¯¯ä¼ æ’­çš„é“¾æ¡ï¼Œç¡®ä¿æ¯ä¸ªæ—¶é—´æ­¥çš„è¾“å…¥éƒ½æ˜¯å¹²å‡€çš„ã€‚ è¿™æ˜¯æˆ‘è®¤ä¸ºæœ€å…³é”®çš„ä¸¤ä¸ªåŸå› ï¼Œå½“ç„¶ï¼Œç½‘ä¸Šè¿˜æœ‰å…¶ä»–è¯´æ³•ï¼Œæ¯”å¦‚è®©è®­ç»ƒè¿‡ç¨‹é«˜æ•ˆå¹¶è¡ŒåŒ–ç­‰ç­‰ã€‚ æ ¸å¿ƒé—®é¢˜Exposure biasæš´éœ²åå·®é—®é¢˜ï¼šåœ¨è®­ç»ƒæ—¶ï¼Œæ¨¡å‹ä¹ æƒ¯äºåœ¨å®Œç¾çš„â€œçœŸå®æ•°æ®â€ç¯å¢ƒä¸‹è¿›è¡Œé¢„æµ‹ï¼›ä½†åœ¨æ¨ç†ï¼ˆæµ‹è¯•ï¼‰æ—¶ï¼Œæ¨¡å‹å¿…é¡»ä½¿ç”¨è‡ªå·±ä¸Šä¸€æ­¥ç”Ÿæˆçš„ï¼ˆå¯èƒ½ä¸å®Œç¾çš„ï¼‰è¾“å‡ºä½œä¸ºå½“å‰æ­¥çš„è¾“å…¥ã€‚è¿™ç§è®­ç»ƒå’Œæ¨ç†ä¹‹é—´çš„ç¯å¢ƒå·®å¼‚è¢«ç§°ä¸ºâ€œæ›å…‰åå·®â€ã€‚è¿™å¯èƒ½å¯¼è‡´æ¨¡å‹åœ¨æ¨ç†æ—¶éå¸¸è„†å¼±ï¼Œä¸€æ—¦äº§ç”Ÿä¸€ä¸ªé”™è¯¯ï¼Œåç»­è¾“å‡ºå°±å®¹æ˜“å´©æºƒã€‚ è§£å†³æ–¹æ¡ˆï¼š1. è®¡åˆ’é‡‡æ ·(Scheduled Sampling)è¿™æ˜¯ä¸€ç§ç»å…¸çš„è§£å†³æ–¹æ¡ˆã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¹¶ä¸æ€»æ˜¯100%ä½¿ç”¨çœŸå®æ ‡ç­¾ï¼Œè€Œæ˜¯ä»¥ä¸€ä¸ªæ¦‚ç‡ p ä½¿ç”¨çœŸå®æ ‡ç­¾ï¼Œä»¥æ¦‚ç‡ 1-p ä½¿ç”¨æ¨¡å‹è‡ªå·±ä¸Šä¸€æ­¥çš„é¢„æµ‹ç»“æœä½œä¸ºè¾“å…¥ã€‚è¿™ä¸ªæ¦‚ç‡ p å¯ä»¥éšç€è®­ç»ƒçš„è¿›è¡Œé€æ¸å‡å°ï¼ˆä¾‹å¦‚ï¼Œä»1.0çº¿æ€§è¡°å‡åˆ°0.5ï¼‰ï¼Œè®©æ¨¡å‹é€æ­¥ä»â€œæœ‰è¾…å¯¼â€è¿‡æ¸¡åˆ°â€œè‡ªä¸»æ¨ç†â€ã€‚ 2.é›†æŸæœç´¢(Beam Search)åœ¨é¢„æµ‹å•è¯è¿™ç§ç¦»æ•£å€¼çš„è¾“å‡ºæ—¶ï¼Œä¸€ç§å¸¸ç”¨æ–¹æ³•æ˜¯å¯¹è¯è¡¨ä¸­æ¯ä¸€ä¸ªå•è¯çš„é¢„æµ‹æ¦‚ç‡æ‰§è¡Œæœç´¢ï¼Œç”Ÿæˆå¤šä¸ªå€™é€‰çš„è¾“å‡ºåºåˆ—ã€‚è¿™ä¸ªæ–¹æ³•å¸¸ç”¨äºæœºå™¨ç¿»è¯‘(MT)ç­‰é—®é¢˜ï¼Œä»¥ä¼˜åŒ–ç¿»è¯‘çš„è¾“å‡ºåºåˆ—ã€‚beam searchæ˜¯å®Œæˆæ­¤ä»»åŠ¡åº”ç”¨æœ€å¹¿çš„æ–¹æ³•ï¼Œé€šè¿‡è¿™ç§å¯å‘å¼æœç´¢(heuristic search)ï¼Œå¯å‡å°æ¨¡å‹å­¦ä¹ é˜¶æ®µperformanceä¸æµ‹è¯•é˜¶æ®µperformanceçš„å·®å¼‚ã€‚â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€ŒAlanakerã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/qq_30219017/article/details/89090690 3.è¯¾ç¨‹å­¦ä¹ (Curriculum Learning)æ ¸å¿ƒæ€æƒ³ï¼šå…ˆæ˜“åéš¾ è¯¾ç¨‹å­¦ä¹ çš„çµæ„Ÿæ¥æºäºäººç±»çš„æ•™è‚²æ–¹å¼ã€‚æˆ‘ä»¬ä¸ä¼šæ•™å°å­¦ç”Ÿå¾®ç§¯åˆ†ï¼Œè€Œæ˜¯ä»åŠ å‡ä¹˜é™¤å¼€å§‹ã€‚åŒæ ·åœ°ï¼Œè¯¾ç¨‹å­¦ä¹ åœ¨è®­ç»ƒæ¨¡å‹æ—¶ï¼Œå…ˆè®©æ¨¡å‹å­¦ä¹ â€œç®€å•â€çš„æ ·æœ¬ï¼Œå†é€æ­¥è¿‡æ¸¡åˆ°â€œå¤æ‚â€çš„æ ·æœ¬ã€‚ å¦‚ä½•å®šä¹‰â€œéš¾â€ä¸â€œæ˜“â€ï¼Ÿ è¿™æ˜¯è¯¾ç¨‹å­¦ä¹ çš„å…³é”®ã€‚éš¾åº¦è¡¡é‡æ ‡å‡†å› ä»»åŠ¡è€Œå¼‚ï¼Œå¸¸è§çš„æœ‰ï¼š åºåˆ—é•¿åº¦ï¼šå¯¹äºæ–‡æœ¬ï¼ŒçŸ­å¥å­é€šå¸¸æ¯”é•¿å¥å­ç®€å•ã€‚ è¯æ±‡å¤æ‚åº¦ï¼šå¥å­ä¸­ç½•è§è¯çš„æ¯”ä¾‹è¶Šä½ï¼Œå¥å­è¶Šç®€å•ã€‚ â€¦â€¦ å¯¹äºè¯¾ç¨‹å­¦ä¹ çš„æ€æƒ³ï¼Œéœ€è¦å°†è®­ç»ƒé›†ç”±æ˜“åˆ°éš¾æ’åˆ—ï¼ŒåŒæ—¶æ ¹æ®epochè°ƒæ•´æ•°æ®éš¾åº¦ï¼Œå¯¹äºç›®å‰ä»»åŠ¡åœºæ™¯æ¥è¯´ï¼Œè®­ç»ƒé›†å°‘è¯´ä¹Ÿéœ€è¦ç™¾ä¸‡é‡çº§ï¼Œå¯¹é½è¿›è¡Œéš¾æ˜“æ’åºï¼Œéš¾åº¦å’Œæˆæœ¬éƒ½éå¸¸é«˜ï¼Œæ‰€ä»¥ä¸æ˜“å®ç°ã€‚ ä»£ç å®ç° ä»¥ä¸€ä¸ªæœºå™¨ç¿»è¯‘ä»»åŠ¡æ¥ç®€å•å®ç°teacher forcingï¼Œå…¶å®ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œé‡ç‚¹æ˜¯æ€æƒ³ # å®šä¹‰teacher_forcingteacher_forcing_ratio = 0.5def train(x, y, encoder, decoder, encoder_optimizer, decoder_optimizer, loss): # å¯¹æ•°æ®è¿›è¡Œç¼–ç  [1, 6] - [1, 6, 256] encoder_output, encoder_hidden = encoder(x, encoder.init_hidden()) # print(fx: x.shape) # [1, 6] # print(fencoder_output: encoder_output.shape) # [1, 6, 256] # print(fencoder_hidden: encoder_hidden.shape) # [1, 1, 256] # å‡†å¤‡è§£ç å™¨å‚æ•° # ç¬¬ä¸€ä¸ªå‚æ•°: ä¸­é—´è¯­ä¹‰å¼ é‡C encoder_output_c = torch.zeros(MAX_LENGTH, encoder.hidden_size, device=device) # å°†çœŸæ˜¯ç¼–ç ç»“æœèµ‹å€¼ for idx in range(encoder_output.shape[1]): encoder_output_c[idx] = encoder_output[0, idx] # ç¬¬äºŒä¸ªå‚æ•° decoder_hidden = encoder_hidden # ç¬¬ä¸‰ä¸ªå‚æ•°: å¼€å§‹å­—ç¬¦ input_y = torch.tensor([[SOS_token]], device=device) # å®šä¹‰æŸå¤±å€¼ my_loss = 0.0 # å®šä¹‰çœŸå®ç¿»è¯‘å¥å­é•¿åº¦ y_len = y.shape[1] # æ˜¯å¦ä½¿ç”¨ teacher_forcing use_teacher_forcing = True if random.random() teacher_forcing_ratio else False if use_teacher_forcing: # é€å­—ç¬¦è§£ç  for idx in range(y_len): # é€å…¥è§£ç å™¨è¿›è¡Œé¢„æµ‹ output_y, decoder_hidden, atten_weight = decoder(input_y, decoder_hidden, encoder_output_c) # å½“å‰æ—¶é—´æ­¥çœŸå®å€¼ - å–å‡ºå¯¹åº”ä½ç½®å•è¯ target_y = y[0][idx].view(1) # è®¡ç®—æŸå¤± my_loss += loss(output_y, target_y) # æ›´æ–°input_y - ä½¿ç”¨çœŸå®å€¼ input_y = y[0][idx].view(1, -1) else: # é€å­—ç¬¦è§£ç  for idx in range(y_len): # é€å…¥è§£ç å™¨è¿›è¡Œé¢„æµ‹ output_y, decoder_hidden, atten_weight = decoder(input_y, decoder_hidden, encoder_output_c) # å½“å‰æ—¶é—´æ­¥çœŸå®å€¼ - å–å‡ºå¯¹åº”ä½ç½®å•è¯ target_y = y[0][idx].view(1) # è®¡ç®—æŸå¤± my_loss += loss(output_y, target_y) # å¾—å‡ºå½“å‰æ—¶é—´æ­¥é¢„æµ‹ç»“æœ topv, topi = torch.topk(output_y, 1) input_y = topi.detach() # æ¢¯åº¦æ¸…é›¶ åå‘ä¼ æ’­ å‚æ•°æ›´æ–° encoder_optimizer.zero_grad() decoder_optimizer.zero_grad() my_loss.backward() encoder_optimizer.step() decoder_optimizer.step() # è¿”å›æŸå¤± return my_loss.item() / y_len # å½“å‰æ ·æœ¬å¹³å‡æŸå¤±","tags":["ä¼˜åŒ–","æ¶æ„","æ¨¡å‹"],"categories":["æ·±åº¦å­¦ä¹ "]},{"title":"å°æŠ€å·§","path":"/2023/12/21/someskills/","content":"å¦‚ä½•ä¸€æ¬¡æ€§åˆ é™¤æ‰€æœ‰ä»¥æŸå…³é”®è¯ç»“å°¾çš„æ–‡ä»¶ å…¶ä»–ç±»å‹åˆ é™¤ä»¥æ­¤ç±»æ¨ find . -type f -name *.ko -exec rm -rf \\; Git pushæŠ¥é”™ssh: connect to host github.com port 22: Connection refused fatal: Could not read from remote repository. Please make sure you have the correct access rights and the repository exists. è¿™ä¸ªé”™è¯¯è¡¨æ˜ Git æ— æ³•é€šè¿‡ SSHï¼ˆç«¯å£ 22ï¼‰è¿æ¥åˆ° GitHubã€‚å¯èƒ½çš„åŸå› å’Œè§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š 1. æ£€æŸ¥ SSH è¿æ¥è¿è¡Œä»¥ä¸‹å‘½ä»¤æµ‹è¯• SSH è¿æ¥ï¼š ssh -T git@github.com å¦‚æœè¿æ¥è¢«æ‹’ç»ï¼Œå¯èƒ½æ˜¯ç½‘ç»œæˆ–é˜²ç«å¢™é—®é¢˜ã€‚ 2. æ”¹ç”¨ HTTPS åè®®å¦‚æœ SSH è¢«å±è”½ï¼Œå¯ä»¥ä¸´æ—¶æ”¹ç”¨ HTTPSï¼š git remote set-url origin https://github.com/ç”¨æˆ·å/ä»“åº“å.gitgit push ï¼ˆéœ€è¦è¾“å…¥ GitHub è´¦å·å¯†ç æˆ–ä¸ªäººè®¿é—®ä»¤ç‰Œï¼‰ 3. å°è¯• SSH ç«¯å£ 443å¦‚æœ 22 ç«¯å£è¢«å±è”½ï¼ŒGitHub ä¹Ÿæ”¯æŒé€šè¿‡ 443 ç«¯å£ä½¿ç”¨ SSHã€‚ç¼–è¾‘ ~/.ssh/config æ–‡ä»¶ï¼š Host github.comUser xxxxqq.comHostname ssh.github.comPreferredAuthentications publickeyIdentityFile ~/.ssh/id_rsaPort 443 ç„¶åå†æ¬¡æµ‹è¯• SSH è¿æ¥ã€‚ 4. æ£€æŸ¥é˜²ç«å¢™ä»£ç†è®¾ç½® ç¡®ä¿æœ¬åœ°é˜²ç«å¢™æˆ–å…¬å¸ç½‘ç»œæœªå±è”½ SSHï¼ˆç«¯å£ 22443ï¼‰ å¦‚æœä½¿ç”¨ä»£ç†ï¼Œéœ€é…ç½® Git ä½¿ç”¨ä»£ç†ï¼šgit config --global http.proxy http://ä»£ç†åœ°å€:ç«¯å£git config --global https.proxy https://ä»£ç†åœ°å€:ç«¯å£ 5. éªŒè¯ SSH å¯†é’¥ç¡®ä¿ä½ çš„ SSH å¯†é’¥å·²æ·»åŠ åˆ° GitHubï¼š cat ~/.ssh/id_rsa.pub ç„¶åå°†å†…å®¹ç²˜è´´åˆ° GitHub Settings â†’ SSH and GPG keysã€‚ 6. æ£€æŸ¥ä»“åº“æ˜¯å¦å­˜åœ¨ç¡®è®¤è¿œç¨‹ä»“åº“åœ°å€æ­£ç¡®ä¸”å­˜åœ¨ï¼š git remote -v","tags":["æŠ€å·§","å‘½ä»¤"],"categories":["æ•ˆç‡"]},{"title":"ä¸€é”®æ›´æ¢æ‰€æœ‰å›¾ç‰‡æ ¼å¼","path":"/2023/11/10/formatimage/","content":"å¦‚é¢˜, è¦æ±‚æ˜¯æŠŠ æ—§æ ¼å¼çš„å›¾ç‰‡å¼•ç”¨ï¼š ![](imageurl) æ‰¹é‡æ›¿æ¢ä¸º æ–°ä¸»é¢˜æ ¼å¼ï¼š % image imageurl % Pythonå®ç° è¿™ç§æ–¹å¼éœ€è¦ç”µè„‘ä¸­æœ‰Pythonç¯å¢ƒ, è™½ç„¶é…ç½®ç¯å¢ƒä¹Ÿæ¯”è¾ƒç®€å•, ä½†æ˜¯è¿˜æ˜¯éœ€è¦ä¸€äº›é—¨æ§› æ³¨æ„ä¿®æ”¹è„šæœ¬ä¸­çš„æ–‡ä»¶å¤¹è·¯å¾„ä¸ºè‡ªå·±çš„å³å¯ import osimport re# è¦å¤„ç†çš„æ–‡ä»¶å¤¹è·¯å¾„ï¼Œä¾‹å¦‚ Hexo çš„ source/_postsROOT_DIR = ./source/_posts# åŒ¹é…æ—§æ ¼å¼ï¼š![](URL)pattern = re.compile(r!\\[\\]\\((https://[^)]*)\\))def replace_in_file(file_path): with open(file_path, r, encoding=utf-8) as f: content = f.read() # æ›¿æ¢ä¸ºæ–°æ ¼å¼ï¼š% image URL % new_content = pattern.sub(r% image \\1 %, content) if new_content != content: with open(file_path, w, encoding=utf-8) as f: f.write(new_content) print(Updated:, file_path)def walk_dir(root): for root_dir, _, files in os.walk(root): for filename in files: if filename.endswith(.md): full_path = os.path.join(root_dir, filename) replace_in_file(full_path)if __name__ == __main__: walk_dir(ROOT_DIR) print(Done.) VSCodeä¸€é”®æ›¿æ¢ VSCodeè¿˜æ˜¯å¥½ç”¨å•Š, ç›¸æ¯”äºå†™è„šæœ¬æ¥å®ç°, VSCodeçš„å…¨å±€æœç´¢æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼, å¯ä»¥ä¸€é”®æ›¿æ¢æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰å†…å®¹ æœç´¢ï¼š!\\[\\]\\((https:\\/\\/[^)]*)\\) æ›¿æ¢ï¼š% image $1 %"},{"title":"ä¿®æ”¹é”®ç›˜F9ä¸ºHomeé”®","path":"/2023/10/22/changekey/","content":"ä¿®æ”¹é”®ç›˜F9é”®åŠŸèƒ½,å°†å…¶æ˜ å°„ä¸ºHOMEé”® ç”±äºé”®ç›˜æ˜¯75é”®, æœ¬èº«ä¸å…·å¤‡HOMEé”®, ä½†æ˜¯æ—¥å¸¸å’Œå·¥ä½œå¯¹HOMEé”®è¿˜æ˜¯æŒºæœ‰éœ€è¦çš„(åˆ«é—®ä¸ºä»€ä¹ˆä¸ä¹°å…¨é”®çš„, ä¸ªäººä¸å¤ªå–œæ¬¢æ•°å­—åŒº, å¯¹75é”®æ„é€ ç‹¬é’Ÿ) å›å½’æ­£é¢˜, å¦‚ä½•å®ç° æˆ‘é‡‡ç”¨çš„æ˜¯ä¿®æ”¹æ³¨å†Œè¡¨æ–¹å¼ ç½‘ä¸Šèƒ½æœåˆ°æ¯”è¾ƒå¤šæ–¹æ¡ˆ, é™¤äº†æ³¨å†Œè¡¨, ä¸€èˆ¬éƒ½éœ€è¦ä¸‹è½½é¢å¤–è½¯ä»¶, é”®ç›˜é©±åŠ¨æˆ–è€…æ˜¯windowsè½¯ä»¶æ¥å°†æŒ‰é”®åŠŸèƒ½æ˜ å°„ä¸ºå…¶ä»– æ‰€ä»¥, ä¿®æ”¹æ³¨å†Œè¡¨, çœæ—¶çœåŠ› ä¿®æ”¹æ³¨å†Œè¡¨1.æ‰“å¼€æ³¨å†Œè¡¨ # æŒ‰ä¸‹é”®ç›˜ä¸Š win + r å¹¶è¾“å…¥regidit 2.å®šä½åˆ°æŒ‰é”®ä¿®æ”¹è·¯å¾„ HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Keyboard Layout 3.åœ¨å³ä¾§åŒºåŸŸæ–°å»ºäºŒè¿›åˆ¶å€¼ - å‘½åä¸º Scancode Map, å¹¶å¡«å…¥ä¸‹åˆ—å€¼ 00 00 00 00 00 00 00 0002 00 00 00 47 E0 43 0000 00 00 00 00 00 00 00 4.ç‚¹å‡»ç¡®å®š, é€€å‡ºæ³¨å†Œè¡¨, é‡å¯ç”µè„‘, æ°¸ä¹…ç”Ÿæ•ˆğŸ‘","tags":["æ–¹æ³•","æŠ€å·§"],"categories":["æ•ˆç‡"]},{"title":"åºåˆ—åˆ°åºåˆ—æ¨¡å‹","path":"/2023/06/29/encoder-decoder/","content":"encoder-decoderæ¨¡å‹åŒæ—¶ä½¿ç”¨ç¼–ç å™¨å’Œè§£ç å™¨. å®ƒå°†æ¯ä¸ªtaskè§†ä½œåºåˆ—åˆ°åºåˆ—çš„è½¬æ¢ç”Ÿæˆï¼ˆæ¯”å¦‚ï¼Œæ–‡æœ¬åˆ°æ–‡æœ¬ï¼Œæ–‡æœ¬åˆ°å›¾åƒæˆ–è€…å›¾åƒåˆ°æ–‡æœ¬çš„å¤šæ¨¡æ€ä»»åŠ¡ï¼‰.Encoder-decoderæ¨¡å‹é€šå¸¸ç”¨äºéœ€è¦å†…å®¹ç†è§£å’Œç”Ÿæˆçš„ä»»åŠ¡ï¼Œæ¯”å¦‚æœºå™¨ç¿»è¯‘ ä»£è¡¨æ¨¡å‹T5T5æ¨¡å‹ç»“æ„ä¸åŸå§‹çš„TransformeråŸºæœ¬ä¸€è‡´,é™¤äº†åšäº†ä»¥ä¸‹å‡ ç‚¹æ”¹åŠ¨ é‡‡ç”¨äº†ä¸€ç§ç®€åŒ–ç‰ˆçš„Layer Normalizationï¼Œå»é™¤äº†Layer Normçš„biasï¼Œå°†Layer Normæ”¾åœ¨æ®‹å·®è¿æ¥å¤–é¢ ä½ç½®ç¼–ç ï¼šT5ä½¿ç”¨äº†ä¸€ç§ç®€åŒ–ç‰ˆçš„ç›¸å¯¹ä½ç½®ç¼–ç ï¼Œæ¯ä¸ªä½ç½®ç¼–ç éƒ½æ˜¯ä¸€ä¸ªæ ‡é‡ï¼Œè¢«åŠ åˆ°logitsä¸Šç”¨äºè®¡ç®—æ³¨æ„åŠ›æƒé‡ã€‚å„å±‚å…±äº«ä½ç½®ç¼–ç ï¼Œä½†æ˜¯åŒä¸€å±‚å†…ï¼Œä¸åŒçš„æ³¨æ„åŠ›å¤´çš„ä½ç½®ç¼–ç éƒ½æ˜¯ç‹¬ç«‹å­¦ä¹ çš„ â€‹ è‡ªç›‘ç£é¢„è®­ç»ƒT5 åœ¨é¢„è®­ç»ƒé˜¶æ®µé‡‡ç”¨äº†ç±»ä¼¼äº BERT å’Œ GPT çš„å¤§è§„æ¨¡è‡ªç›‘ç£å­¦ä¹ ç­–ç•¥ï¼Œä½†ä¸è¿™ä¸¤ä¸ªæ¨¡å‹çš„è®¾è®¡ä¸åŒçš„æ˜¯ï¼ŒT5 ä½¿ç”¨äº†â€œæ–‡æœ¬åˆ°æ–‡æœ¬â€çš„æ ¼å¼æ¥å¤„ç†ä»»åŠ¡ã€‚ é¢„è®­ç»ƒä»»åŠ¡åŒ…æ‹¬ä¸¤ç§ç±»å‹ï¼šCausal Language Modelingï¼ˆå› æœè¯­è¨€å»ºæ¨¡ï¼‰å’Œ å¡«ç©ºä»»åŠ¡ï¼ˆMasked Language Modelingï¼‰ å¤šä»»åŠ¡å¾®è°ƒé™¤äº†ä½¿ç”¨å¤§è§„æ¨¡æ•°æ®è¿›è¡Œæ— ç›‘ç£é¢„è®­ç»ƒï¼ŒT5æ¨¡å‹è¿˜å¯ä»¥åˆ©ç”¨ä¸åŒä»»åŠ¡çš„æ ‡æ³¨æ•°æ®è¿›è¡Œæœ‰ç›‘ç£çš„å¤šä»»åŠ¡é¢„è®­ç»ƒï¼Œä¾‹å¦‚SQuADé—®ç­”å’Œæœºå™¨ç¿»è¯‘ç­‰ä»»åŠ¡ æ•°æ®é›†å’Œå‚æ•°ä½œè€…å¯¹å…¬å¼€çˆ¬å–çš„ç½‘é¡µæ•°æ®é›†Common Crawlè¿›è¡Œäº†è¿‡æ»¤ï¼Œå»æ‰ä¸€äº›é‡å¤çš„ã€ä½è´¨é‡çš„ï¼Œçœ‹ç€åƒä»£ç çš„ æ–‡æœ¬ç­‰ï¼Œå¹¶ä¸”æœ€ååªä¿ç•™è‹±æ–‡æ–‡æœ¬ï¼Œå¾—åˆ°æ•°æ®é›†C4: the Colossal Clean Crawled Corpus å‚æ•° å–å€¼ transformerå±‚æ•° 24 ç‰¹å¾ç»´åº¦ 768 transformer headæ•° 12 æ€»å‚æ•°é‡ 2.2äº¿ å¤§æ¨¡å‹ä¸»æµæ¶æ„Decoder-only LLMä¹‹æ‰€ä»¥ä¸»è¦éƒ½ç”¨Decoder-onlyæ¶æ„ï¼Œé™¤äº†è®­ç»ƒæ•ˆç‡å’Œå·¥ç¨‹å®ç°ä¸Šçš„ä¼˜åŠ¿å¤–ï¼Œåœ¨ç†è®ºä¸Šæ˜¯å› ä¸ºEncoderçš„åŒå‘æ³¨æ„åŠ›ä¼šå­˜åœ¨ä½ç§©é—®é¢˜ï¼Œè¿™å¯èƒ½ä¼šå‰Šå¼±æ¨¡å‹è¡¨è¾¾èƒ½åŠ›ï¼Œå°±ç”Ÿæˆä»»åŠ¡è€Œè¨€ï¼Œå¼•å…¥åŒå‘æ³¨æ„åŠ›å¹¶æ— å®è´¨å¥½å¤„ è€ŒEncoder-Decoderæ¶æ„ä¹‹æ‰€ä»¥èƒ½å¤Ÿåœ¨æŸäº›åœºæ™¯ä¸‹è¡¨ç°æ›´å¥½ï¼Œå¤§æ¦‚åªæ˜¯å› ä¸ºå®ƒå¤šäº†ä¸€å€å‚æ•°ã€‚æ‰€ä»¥ï¼Œåœ¨åŒç­‰å‚æ•°é‡ã€åŒç­‰æ¨ç†æˆæœ¬ä¸‹ï¼ŒDecoder-onlyæ¶æ„å°±æ˜¯æœ€ä¼˜é€‰æ‹©äº†","tags":["LM","è¯­è¨€æ¨¡å‹"],"categories":["æ·±åº¦å­¦ä¹ "]},{"title":"è‡ªå›å½’æ¨¡å‹","path":"/2023/06/27/autoregress/","content":"è‡ªå›å½’æ¨¡å‹ Autoregressive modelï¼ŒAR æœ¬ç¯‡ä¸»è¦å›´ç»•GPTä½œä¸ºä»£è¡¨äº†è§£AR 2018å¹´6æœˆ, OpenAIå…¬å¸å‘è¡¨äº†è®ºæ–‡â€œImproving Language Understanding by Generative Pre-trainingâ€ã€Šç”¨ç”Ÿæˆå¼é¢„è®­ç»ƒæé«˜æ¨¡å‹çš„è¯­è¨€ç†è§£åŠ›ã€‹, æ¨å‡ºäº†å…·æœ‰1.17äº¿ä¸ªå‚æ•°çš„GPTï¼ˆGenerative Pre-training , ç”Ÿæˆå¼é¢„è®­ç»ƒï¼‰æ¨¡å‹ ç‰¹ç‚¹ï¼šdecoder-only åŸºæœ¬åŸç†ï¼šä»å·¦å¾€å³å­¦ä¹ çš„æ¨¡å‹ï¼Œåªèƒ½åˆ©ç”¨ä¸Šæ–‡æˆ–è€…ä¸‹æ–‡ ARæ¨¡å‹é€šå¸¸ç”¨äºç”Ÿæˆå¼ä»»åŠ¡ï¼Œåœ¨é•¿æ–‡æœ¬çš„ç”Ÿæˆèƒ½åŠ›å¾ˆå¼ºï¼Œæ¯”å¦‚NLGé¢†åŸŸçš„ä»»åŠ¡ï¼šæ‘˜è¦ã€ç¿»è¯‘ã€æŠ½è±¡é—®ç­” GPTæ¨¡å‹æ¶æ„ ä»ä¸Šå›¾å¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹åˆ°GPTé‡‡ç”¨çš„æ˜¯å•å‘Transformeræ¨¡å‹, ä¾‹å¦‚ç»™å®šä¸€ä¸ªå¥å­[u1, u2, â€¦, un], GPTåœ¨é¢„æµ‹å•è¯uiçš„æ—¶å€™åªä¼šåˆ©ç”¨[u1, u2, â€¦, u(i-1)]çš„ä¿¡æ¯, è€ŒBERTä¼šåŒæ—¶åˆ©ç”¨ä¸Šä¸‹æ–‡çš„ä¿¡æ¯[u1, u2, â€¦, u(i-1),u(i+1), â€¦, un] GPTé‡‡ç”¨äº†Transformerçš„decoderæ¨¡å—ï¼Œä½†æ˜¯åšäº†ä¿®æ”¹ GPTç§»é™¤äº†ç¬¬äºŒä¸ªencoder-decoder attentionå­å±‚ï¼Œåªä¿ç•™Masked Multi-head Attentionå­å±‚å’ŒFeed Forwardå­å±‚ å¯¹æ¯”ç»å…¸Transformeré‡‡ç”¨6å±‚decoderï¼ŒGPTé‡‡ç”¨äº†12å±‚ GPTè®­ç»ƒè¿‡ç¨‹ GPTè®­ç»ƒè¿‡ç¨‹åŒ…æ‹¬ä¸¤ä¸ªé˜¶æ®µï¼š1.æ— ç›‘ç£çš„é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹ 2.æœ‰ç›‘ç£çš„ä¸‹æ¸¸ä»»åŠ¡fine-tuning æ— ç›‘ç£çš„é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹ç»™å®šå¥å­U [u1, u2, â€¦, un], GPTè®­ç»ƒè¯­è¨€æ¨¡å‹æ—¶çš„ç›®æ ‡æ˜¯æœ€å¤§åŒ–ä¸‹é¢çš„ä¼¼ç„¶å‡½æ•° $$L_1(U) \\sum_i \\log P(u_i \\mid u_{i-k}, \\cdots, u_{i-1}; \\Theta)$$ ä¸Šè¿°å…¬å¼å…·ä½“æ¥è¯´æ˜¯è¦é¢„æµ‹æ¯ä¸ªè¯ $$u_i$$çš„æ¦‚ç‡ï¼Œè¿™ä¸ªæ¦‚ç‡æ˜¯åŸºäºå®ƒå‰é¢$$u_{i-k}$$åˆ°$$u_{i-1}$$ä¸ªè¯ï¼Œä»¥åŠæ¨¡å‹$$\\Theta$$ï¼Œè¿™é‡Œçš„kè¡¨ç¤ºä¸Šæ–‡çš„çª—å£å¤§å°ï¼Œç†è®ºä¸Škå–å€¼è¶Šå¤§ï¼Œæ¨¡å‹æ‰€èƒ½è·å–çš„ä¿¡æ¯è¶Šå……è¶³ï¼Œèƒ½åŠ›è¶Šå¼º GPTæ˜¯ä¸€ä¸ªå•å‘è¯­è¨€æ¨¡å‹,æ¨¡å‹å¯¹è¾“å…¥U è¿›è¡Œç‰¹å¾åµŒå…¥å¾—åˆ° transformer ç¬¬ä¸€å±‚çš„è¾“h0ï¼Œå†ç»è¿‡å¤šå±‚ transformer ç‰¹å¾ç¼–ç ï¼Œä½¿ç”¨æœ€åä¸€å±‚çš„è¾“å‡ºå³å¯å¾—åˆ°å½“å‰é¢„æµ‹çš„æ¦‚ç‡åˆ†å¸ƒï¼Œè®¡ç®—è¿‡ç¨‹å¦‚ä¸‹ $$h_0UW_e+W_p$$ $$W_p$$è¡¨ç¤ºå•è¯ä½ç½®ç¼–ç  â†’ [max_seq_len, embedding_dim]ï¼Œ$$W_e$$å¯ä»¥çœ‹ä½œæ˜¯å•ä½çŸ©é˜µ â†’ [vocab_size, embedding_dim] å¾—åˆ°è¾“å…¥å¼ é‡h0å, è¦å°†h0ä¼ å…¥GPTçš„Decoder Blockä¸­, ä¾æ¬¡å¾—åˆ°ht $$h_t \\text{transformer_block}(h_{l-1}) \\quad l \\in [1,t]$$ æœ€åé€šè¿‡å¾—åˆ°çš„htæ¥é¢„æµ‹ä¸‹ä¸€ä¸ªå•è¯ $$P(u) \\text{softmax}(h_t W^T_e)$$ æœ‰ç›‘ç£çš„ä¸‹æ¸¸ä»»åŠ¡fine-tuningGPTé¢„è®­ç»ƒå, ä¼šé’ˆå¯¹å…·ä½“çš„ä¸‹æ¸¸ä»»åŠ¡å¯¹æ¨¡å‹è¿›è¡Œå¾®è°ƒ. å¾®è°ƒé‡‡ç”¨çš„æ˜¯æœ‰ç›‘ç£å­¦ä¹ , è®­ç»ƒæ ·æœ¬åŒ…æ‹¬å•è¯åºåˆ—[x1, x2, â€¦, xn]å’Œlabel y. GPTå¾®è°ƒçš„ç›®æ ‡ä»»åŠ¡æ˜¯æ ¹æ®å•è¯åºåˆ—[x1, x2, â€¦, xn]é¢„æµ‹æ ‡ç­¾y $$P(y|x^1,â€¦,x^m) \\text{softmax}(h_l^m W_y)$$ å…¶ä¸­Wyè¡¨ç¤ºé¢„æµ‹è¾“å‡ºçš„çŸ©é˜µå‚æ•°, å¾®è°ƒä»»åŠ¡çš„ç›®æ ‡æ˜¯æœ€å¤§åŒ–ä¸‹é¢çš„å‡½æ•° $$L_2 \\sum_{(x,y)} \\log P(y|x^1, \\cdots, x^m)$$ ç»¼åˆä¸¤ä¸ªé˜¶æ®µçš„ç›®æ ‡ä»»åŠ¡å‡½æ•°, å¯çŸ¥GPTçš„æœ€ç»ˆä¼˜åŒ–å‡½æ•°ä¸ºï¼š $$L_3L_2+Î»L_1$$ æ•´ä½“è®­ç»ƒæ¶æ„å›¾ï¼š æ•°æ®é›†å’Œå‚æ•°GPTä½¿ç”¨äº†BooksCorpusæ•°æ®é›†,æ–‡æœ¬å¤§å°çº¦5GBï¼ŒåŒ…å«7400w+çš„å¥å­ã€‚è¿™ä¸ªæ•°æ®é›†ç”±7000æœ¬ç‹¬ç«‹çš„ã€ä¸åŒé£æ ¼ç±»å‹çš„ä¹¦ç±ç»„æˆ å‚æ•° å–å€¼ transformerå±‚æ•° 12 ç‰¹å¾ç»´åº¦ 768 transformer headæ•° 12 æ€»å‚æ•°é‡ 1.17äº¿","tags":["LM","è¯­è¨€æ¨¡å‹"],"categories":["æ·±åº¦å­¦ä¹ "]},{"title":"è‡ªç¼–ç æ¨¡å‹","path":"/2023/06/26/autoencoder/","content":"è‡ªç¼–ç æ¨¡å‹ AutoEncoder modelï¼ŒAE æœ¬ç¯‡ä¸»è¦å›´ç»•BERTä½œä¸ºä»£è¡¨äº†è§£AE ä»£è¡¨æ¨¡å‹BERT BERTæ˜¯2018å¹´10æœˆç”±Google AIç ”ç©¶é™¢æå‡ºçš„ä¸€ç§é¢„è®­ç»ƒæ¨¡å‹ï¼ˆBidirectional Encoder Representation from Transformerï¼‰ ç‰¹ç‚¹ï¼šencoder-only åŸºæœ¬åŸç†ï¼šåœ¨è¾“å…¥ä¸­éšæœºMASKæ‰ä¸€éƒ¨åˆ†å•è¯ï¼Œæ ¹æ®ä¸Šä¸‹æ–‡é¢„æµ‹è¿™ä¸ªè¯ï¼ˆä¸éš¾è”æƒ³åˆ°BERTçš„ä¸»è¦é¢„è®­ç»ƒä»»åŠ¡MLMï¼‰ AEæ¨¡å‹é€šå¸¸ç”¨äºå†…å®¹ç†è§£ä»»åŠ¡ï¼ˆNLUï¼‰ï¼Œæ¯”å¦‚NLUä¸­çš„åˆ†ç±»ä»»åŠ¡ï¼šæƒ…æ„Ÿåˆ†æã€æå–å¼é—®ç­” BERTæ¶æ„ BERTæ¶æ„æ•´ä½“å¯ä»¥åˆ†ä¸ºä¸‰ä¸ªæ¨¡å—ï¼š ç¬¬ä¸€å±‚Embeddingæ¨¡å— ä¸­é—´å±‚Transformeræ¨¡å— ç¬¬ä¸‰å±‚é¢„å¾®è°ƒæ¨¡å— Embeddingæ¨¡å—è¯¥æ¨¡å—ç”±ä¸‰ç§embeddingå…±åŒç»„æˆ Token Embeddingsï¼šè¯åµŒå…¥å¼ é‡ï¼Œç¬¬ä¸€ä¸ªå•è¯æ˜¯CLSæ ‡å¿—ï¼Œå¯ç”¨äºä¹‹åçš„åˆ†ç±»ä»»åŠ¡ Segment Embeddingsï¼šå¥å­åˆ†æ®µå…¥å¼ é‡ï¼Œä¸ºäº†æœåŠ¡åç»­çš„NSPé¢„è®­ç»ƒä»»åŠ¡ Positional Embeddingsï¼šä½ç½®ç¼–ç å¼ é‡ æ•´ä¸ªEmbeddingæ¨¡å—çš„è¾“å‡ºå¼ é‡æ˜¯è¿™ä¸‰ä¸ªå¼ é‡çš„ç›´æ¥åŠ å’Œç»“æœ åŒå‘Transformeræ¨¡å—ä¾ç„¶å¯ä»¥çœ‹åˆ°ä¸Šé¢é‚£å¼ å›¾ï¼ŒBERTåªä½¿ç”¨äº†Transformerä¸­çš„encoderéƒ¨åˆ†ï¼Œå®Œå…¨èˆå¼ƒdecoderéƒ¨åˆ† ä¸¤å¤§é¢„è®­ç»ƒä»»åŠ¡ä¹Ÿé›†ä¸­ä½“ç°åœ¨è®­ç»ƒTransformeræ¨¡å—ä¸­ é¢„å¾®è°ƒæ¨¡å— ç»è¿‡ä¸­é—´å±‚Transformerçš„å¤„ç†åï¼ŒBertçš„æœ€åä¸€å±‚æ ¹æ®ä¸‹æ¸¸ä»»åŠ¡éœ€æ±‚åšè°ƒæ•´å³å¯ æ¯”å¦‚å¯¹äºsequence-levelçš„åˆ†ç±»ä»»åŠ¡ï¼Œç›´æ¥å–ç¬¬ä¸€ä¸ª[CLS] tokençš„ last_hidden_stateï¼Œå†åŠ ä¸€å±‚å…¨è¿æ¥å±‚åè¿›è¡Œsoftmaxæ¥é¢„æµ‹æœ€ç»ˆçš„æ ‡ç­¾ BERTçš„é¢„è®­ç»ƒä»»åŠ¡MLMï¼ˆMasked Language Modelï¼‰ å¸¦maskçš„è¯­è¨€æ¨¡å‹è®­ç»ƒ åœ¨åŸå§‹è®­ç»ƒæ–‡æœ¬ä¸­, éšæœºçš„æŠ½å–15%çš„tokenä½œä¸ºå‚ä¸MASKä»»åŠ¡çš„å¯¹è±¡ 80%çš„æ¦‚ç‡ä¸‹, ç”¨[MASK]æ ‡è®°æ›¿æ¢è¯¥token åœ¨10%çš„æ¦‚ç‡ä¸‹, ç”¨ä¸€ä¸ªéšæœºçš„å•è¯æ›¿æ¢token åœ¨10%çš„æ¦‚ç‡ä¸‹, ä¿æŒè¯¥tokenä¸å˜. NSPï¼ˆNext Sentence Predictionï¼‰ ä¸‹ä¸€å¥è¯é¢„æµ‹ä»»åŠ¡ è¾“å…¥å¥å­å¯¹(A, B), æ¨¡å‹æ¥é¢„æµ‹å¥å­Bæ˜¯ä¸æ˜¯å¥å­Açš„çœŸå®çš„ä¸‹ä¸€å¥è¯. æ‰€æœ‰å‚ä¸ä»»åŠ¡è®­ç»ƒçš„è¯­å¥éƒ½è¢«é€‰ä¸­ä½œä¸ºå¥å­A å…¶ä¸­50%çš„Bæ˜¯åŸå§‹æ–‡æœ¬ä¸­çœŸå®è·ŸéšAçš„ä¸‹ä¸€å¥è¯(æ ‡è®°ä¸ºIsNext, ä»£è¡¨æ­£æ ·æœ¬) å…¶ä¸­50%çš„Bæ˜¯åŸå§‹æ–‡æœ¬ä¸­éšæœºæŠ½å–çš„ä¸€å¥è¯(æ ‡è®°ä¸ºNotNext, ä»£è¡¨è´Ÿæ ·æœ¬) æ•°æ®é›†ä¸å‚æ•°**æ•°æ®é›†ï¼š**BooksCorpus (800M words) + English Wikipedia (2,500M words) æ¨¡å‹è¶…å‚æ•°ï¼š å‚æ•° å–å€¼ transformerå±‚æ•° 12 ç‰¹å¾ç»´åº¦ 768 transformer headæ•° 12 æ€»å‚æ•°é‡ 1.15äº¿","tags":["LM","è¯­è¨€æ¨¡å‹"],"categories":["æ·±åº¦å­¦ä¹ "]},{"title":"è¯­è¨€æ¨¡å‹å¼€ç¯‡","path":"/2023/06/20/lmopening/","content":"å¤§è¯­è¨€æ¨¡å‹ä»‹ç» è¿™é‡Œå…ˆç»™å‡ºå¤§è¯­è¨€æ¨¡å‹çš„è¿›åŒ–æ ‘ ä¸éš¾çœ‹å‡ºï¼Œä»å·¦åˆ°å³ï¼Œåˆ†æ”¯æ¨¡å‹æ¶æ„å¤§è‡´å¯ä»¥åˆ†ä¸º encoder-onlyï¼Œencoder-decoderï¼Œdecoder-only **å¤§è¯­è¨€æ¨¡å‹ï¼ˆLarge Language Modelï¼‰ï¼š**ä¸€ç§äººå·¥æ™ºèƒ½æ¨¡å‹ï¼Œæ—¨åœ¨ç†è§£å’Œç”Ÿæˆäººç±»è¯­è¨€ï¼Œå¤§è¯­è¨€æ¨¡å‹å¯ä»¥å¤„ç†æœä»²NLPä»»åŠ¡ â†’ æ–‡æœ¬åˆ†ç±»ã€æ–‡æ—¦ã€ç¿»è¯‘ã€å¯¹è¯ç­‰ å¯¹äºå¤§é¢„è¨€æ¨¡å‹çš„çš„å¤§ï¼Œä¸»è¦ä½“ç°åœ¨å…¶å‚æ•°é‡ï¼Œä¸€èˆ¬è®¤ä¸ºï¼ŒåŒ…å«åƒäº¿çº§åˆ«ä»¥ä¸Šå‚æ•°çš„è¯­è¨€æ¨¡å‹ï¼ˆç›®å‰å®šä¹‰å‚æ•°é‡è¶…è¿‡10Bçš„æ¨¡å‹ä¸ºå¤§è¯­è¨€æ¨¡å‹ï¼‰ï¼›å½“ç„¶ï¼Œé™¤äº†å‚æ•°é‡ï¼Œåºå¤§çš„è¯­æ–™åº“ä¹Ÿæ˜¯å…¶ä¸€å¤§ç‰¹ç‚¹ã€‚ è¯­è¨€æ¨¡å‹å‘å±•é˜¶æ®µç¬¬ä¸€é˜¶æ®µè®¾è®¡ä¸€ç³»åˆ—çš„è‡ªç›‘ç£è®­ç»ƒç›®æ ‡ï¼ˆMLMã€NSPç­‰ï¼‰ï¼Œè®¾è®¡æ–°é¢–çš„æ¨¡å‹æ¶æ„ï¼ˆTransformerï¼‰, éµå¾ªPre-trainingå’ŒFine-tuningèŒƒå¼. å…¸å‹ä»£è¡¨æ˜¯BERTã€GPTã€XLNetç­‰;ç¬¬äºŒé˜¶æ®µé€æ­¥æ‰©å¤§æ¨¡å‹å‚æ•°å’Œè®­ç»ƒè¯­æ–™è§„æ¨¡ï¼Œæ¢ç´¢ä¸åŒç±»å‹çš„æ¶æ„ã€‚å…¸å‹ä»£è¡¨æ˜¯BARTã€T5ã€GPT-3ç­‰;ç¬¬ä¸‰é˜¶æ®µèµ°å‘AIGCï¼ˆArtificial Intelligent Generated Contentï¼‰æ—¶ä»£, æ¨¡å‹å‚æ•°è§„æ¨¡æ­¥å…¥åƒä¸‡äº¿, æ¨¡å‹æ¶æ„ä¸ºè‡ªå›å½’æ¶æ„, å¤§æ¨¡å‹èµ°å‘å¯¹è¯å¼ã€ç”Ÿæˆå¼ã€å¤šæ¨¡æ€æ—¶ä»£ï¼Œæ›´åŠ æ³¨é‡ä¸äººç±»äº¤äº’è¿›è¡Œå¯¹é½ï¼Œå®ç°å¯é ã€å®‰å…¨ã€æ— æ¯’çš„æ¨¡å‹. å…¸å‹ä»£è¡¨æ˜¯InstructionGPTã€ChatGPTã€Bardã€GPT-4ç­‰. è¯­è¨€æ¨¡å‹æŠ€æœ¯å‘å±•ç¬¬ä¸€é˜¶æ®µåŸºäºè§„åˆ™å’Œç»Ÿè®¡çš„è¯­è¨€æ¨¡å‹ â†’ N-gramæ¨¡å‹ç¬¬äºŒé˜¶æ®µç¥ç»ç½‘ç»œè¯­è¨€æ¨¡å‹ç¬¬ä¸‰é˜¶æ®µé¢„è®­ç»ƒè¯­è¨€æ¨¡å‹ç¬¬å››é˜¶æ®µå¤§è¯­è¨€æ¨¡å‹ N-gramæ¨¡å‹ åŸºäºè§„åˆ™å’Œç»Ÿè®¡çš„æ¨¡å‹çš„å…¸å‹æˆ–è€…å¯ä»¥è¯´å°±æ˜¯N-gramæ¨¡å‹ è¿™é‡Œå¼•å…¥äº†é©¬å°”ç§‘å¤«å‡è®¾ï¼šéšæ„ä¸€ä¸ªè¯å‡ºç°çš„æ¦‚ç‡åªä¸å®ƒå‰é¢å‡ºç°çš„æœ‰é™çš„ä¸€ä¸ªæˆ–è€…å‡ ä¸ªè¯æœ‰å…³ å¦‚æœä¸€ä¸ªè¯çš„å‡ºç°ä¸å®ƒå‘¨å›´çš„è¯æ˜¯ç‹¬ç«‹çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°ä¹‹ä¸º unigramï¼Œä¹Ÿå°±æ˜¯ä¸€å…ƒè¯­è¨€æ¨¡å‹ã€‚ $$P(S)P(W1)â‹…P(W2)â‹…â€¦â‹…P(Wn)$$ å¦‚æœä¸€ä¸ªè¯çš„å‡ºç°ä»…ä¾èµ–äºå®ƒå‰é¢å‡ºç°çš„ä¸€ä¸ªè¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ç§°ä¹‹ä¸º bigramã€‚ $$P(S)P(W1)â‹…P(W2âˆ£W1)â‹…P(W3âˆ£W2)â‹¯P(Wnâˆ£Wnâˆ’1)$$ å¦‚æœä¸€ä¸ªè¯çš„å‡ºç°ä»…ä¾èµ–äºå®ƒå‰é¢å‡ºç°çš„ä¸¤ä¸ªè¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ç§°ä¹‹ä¸º trigramã€‚ $$P(S)P(W1)â‹…P(W2âˆ£W1)â‹…P(W3âˆ£W2,W1)â‹¯P(Wnâˆ£Wnâˆ’1,Wnâˆ’2)$$ ä¸€èˆ¬æ¥è¯´ï¼ŒNå…ƒæ¨¡å‹å°±æ˜¯å‡è®¾å½“å‰è¯çš„å‡ºç°æ¦‚ç‡åªä¸å®ƒå‰é¢çš„N-1ä¸ªè¯æœ‰å…³ï¼Œè€Œè¿™äº›æ¦‚ç‡å‚æ•°éƒ½æ˜¯å¯ä»¥é€šè¿‡å¤§è§„æ¨¡è¯­æ–™åº“æ¥è®¡ç®—ï¼Œæ¯”å¦‚ä¸‰å…ƒæ¦‚ç‡ï¼š $$P(Wi|Wi-2)Count(Wi-2Wi-1Wi)Count(Wi-2Wi-1)$$ ç®€å•ç†è§£ä¸Šè¿°å…¬å¼ï¼Œåœ¨è¯­æ–™åº“ä¸­ï¼Œå‡ºç° æˆ‘çˆ±ä½  çš„æ¬¡æ•°æ¯”ä¸Š æˆ‘çˆ± å‡ºç°çš„æ¬¡æ•° N-gramæ¨¡å‹ç‰¹ç‚¹ é‡‡ç”¨æå¤§ä¼¼ç„¶ä¼°è®¡ï¼Œå‚æ•°æ˜“è®­ç»ƒ å®Œå…¨åŒ…å«äº†å‰n-1ä¸ªè¯çš„å…¨éƒ¨ä¿¡æ¯ å¯è§£é‡Šæ€§å¼ºï¼Œç›´è§‚æ˜“ç†è§£ ä¸Šé¢è¯´çš„æ˜¯å…¶ä¼˜ç‚¹ï¼Œä½†æ˜¯ï¼š åªèƒ½å»ºæ¨¡å‰n-1ä¸ªè¯ éšç€nå¢å¤§ï¼Œå‚æ•°ç©ºé—´æŒ‡æ•°å¢é•¿ æ•°æ®ç¨€ç–ï¼Œä¼šå‡ºç°OOVé—®é¢˜ï¼ˆout of vocabularyï¼‰ æ³›åŒ–èƒ½åŠ›å·® ç¥ç»ç½‘ç»œè¯­è¨€æ¨¡å‹ åŸºäºN-gramè¯­è¨€æ¨¡å‹ä»¥ä¸Šçš„é—®é¢˜ï¼Œä»¥åŠéšç€ç¥ç»ç½‘ç»œæŠ€æœ¯çš„å‘å±•ï¼Œäººä»¬å¼€å§‹å°è¯•ä½¿ç”¨ç¥ç»ç½‘ç»œæ¥å»ºç«‹è¯­è¨€æ¨¡å‹ æ¨¡å‹çš„è¾“å…¥: wt-n+1, â€¦, wt-2, wt-1å°±æ˜¯å‰n-1ä¸ªè¯. ç°åœ¨éœ€è¦æ ¹æ®è¿™å·²çŸ¥çš„n-1ä¸ªè¯é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ wtï¼ŒC(w)è¡¨ç¤ºå•è¯wæ‰€å¯¹åº”çš„è¯å‘é‡ ç½‘ç»œçš„ç¬¬ä¸€å±‚: æ˜¯å°†C(wt-n+1),..,C(wt-2), C(wt-1)è¿™n-1ä¸ªå‘é‡é¦–å°¾æ‹¼æ¥èµ·æ¥å½¢æˆä¸€ä¸ª(n-1)*må¤§å°çš„å‘é‡ ç½‘ç»œçš„ç¬¬äºŒå±‚: å®šä¹‰ä¸€ä¸ªå…¨è¿æ¥å±‚, é€šè¿‡å…¨è¿æ¥å±‚åç»“æœå†ä½¿ç”¨tanh æ¿€æ´»å‡½æ•°è¿›è¡Œå¤„ç† ç½‘ç»œçš„ç¬¬ä¸‰å±‚: è¾“å‡ºä¸€å…±Vä¸ªèŠ‚ç‚¹ (Vä»£è¡¨è¯­æ–™çš„è¯æ±‡æ€»æ•°), æœ¬è´¨ä¸Šä¸ºä¸€ä¸ªå…¨è¿æ¥å±‚. æ¯ä¸ªè¾“å‡ºèŠ‚ç‚¹y_iè¡¨ç¤ºä¸‹ä¸€ä¸ªè¯è¯­ä¸ºiçš„æœªå½’ä¸€åŒ–logitså€¼. æœ€åä½¿ç”¨ softmax æ¿€æ´»å‡½æ•°å°†è¾“å‡ºå€¼yè¿›è¡Œå½’ä¸€åŒ–ã€‚å¾—åˆ°æœ€å¤§æ¦‚ç‡å€¼ï¼Œå°±æ˜¯æˆ‘ä»¬éœ€è¦é¢„æµ‹çš„ç»“æœ ç›¸æ¯”äºN-gramæœ‰æ›´å¥½çš„æ³›åŒ–èƒ½åŠ›ï¼Œé™ä½äº†æ•°æ®ç¨€ç–å¸¦æ¥çš„é—®é¢˜ï¼›ä½†æ˜¯å¯¹äºé•¿åºåˆ—å»ºæ¨¡èƒ½åŠ›æœ‰é™ï¼Œå¯èƒ½ä¼šå‡ºç°æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚ åŸºäºTransformerçš„é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹ åŸºäºTransformerçš„é¢„è®­ç»ƒæ¨¡å‹ï¼šåŒ…æ‹¬GPTã€BERTã€T5ç­‰.è¿™äº›æ¨¡å‹èƒ½å¤Ÿä»å¤§è§„æ¨¡é€šç”¨æ–‡æœ¬æ•°æ®ä¸­å­¦ä¹ å¤§é‡çš„è¯­è¨€è¡¨ç¤ºï¼Œå¹¶å°†è¿™äº›çŸ¥è¯†è¿ç”¨åˆ°ä¸‹æ¸¸ä»»åŠ¡ä¸­ï¼Œè·å¾—è¾ƒå¥½çš„æ•ˆæœ é¢„è®­ç»ƒæ¨¡å‹çš„ä½¿ç”¨æ–¹å¼ï¼š é¢„è®­ç»ƒï¼šåœ¨å¤§è§„æ¨¡æ•°æ®é›†ä¸Šäº‹å…ˆè®­ç»ƒç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œä½¿å…¶å­¦ä¹ åˆ°é€šç”¨çš„ç‰¹å¾è¡¨ç¤ºå’ŒçŸ¥è¯† å¾®è°ƒï¼šåœ¨å…·ä½“çš„ä¸‹æ¸¸ä»»åŠ¡ä¸­ä½¿ç”¨é¢„è®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œè¿ç§»å­¦ä¹ ï¼Œä»¥è·å–æ›´å¥½çš„æ³›åŒ–æ•ˆæœ é¢„è®­ç»ƒæ¨¡å‹çš„ç‰¹ç‚¹ï¼š ä¼˜ç‚¹ï¼šæ›´å¼ºå¤§çš„æ³›åŒ–èƒ½åŠ›ï¼Œä¸°å¯Œçš„è¯­ä¹‰è¡¨ç¤ºï¼Œå¯ä»¥æœ‰æ•ˆé˜²æ­¢è¿‡æ‹Ÿåˆ ç¼ºç‚¹ï¼šè®¡ç®—èµ„æºéœ€æ±‚å¤§ï¼Œå¯è§£é‡Šæ€§å·®ç­‰ å¤§è¯­è¨€æ¨¡å‹éšç€é¢„è®­ç»ƒæ¨¡å‹å‚æ•°çš„æŒ‡æ•°çº§æå‡ï¼Œå…¶è¯­è¨€æ¨¡å‹æ€§èƒ½ä¹Ÿä¼šçº¿æ€§ä¸Šå‡ã€‚2020å¹´ï¼ŒOpenAIå‘å¸ƒäº†å‚æ•°é‡é«˜è¾¾1750äº¿çš„GPT-3ï¼Œé¦–æ¬¡å±•ç¤ºäº†å¤§è¯­è¨€æ¨¡å‹çš„æ€§èƒ½ã€‚ å¤§è¯­è¨€æ¨¡å‹çš„ç‰¹ç‚¹ï¼š ä¼˜ç‚¹ï¼šåƒâ€œäººç±»â€ä¸€æ ·æ™ºèƒ½ï¼Œå…·å¤‡äº†èƒ½ä¸äººç±»æ²Ÿé€šèŠå¤©çš„èƒ½åŠ›ï¼Œç”šè‡³å…·å¤‡äº†ä½¿ç”¨æ’ä»¶è¿›è¡Œè‡ªåŠ¨ä¿¡æ¯æ£€ç´¢çš„èƒ½åŠ› ç¼ºç‚¹ï¼šå‚æ•°é‡å¤§ï¼Œç®—åŠ›è¦æ±‚é«˜ã€è®­ç»ƒæ—¶é—´é•¿ã€å¯èƒ½ç”Ÿæˆéƒ¨åˆ†æœ‰å®³çš„ã€æœ‰åè§çš„å†…å®¹ç­‰ç­‰ è¯­è¨€æ¨¡å‹è¯„ä¼°æŒ‡æ ‡å¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ç§ Accuracy ï¼ˆå‡†ç¡®ç‡ï¼‰: æ¨¡å‹é¢„æµ‹æ­£ç¡®çš„æ ·æœ¬æ•°é‡å æ€»æ ·æœ¬é‡çš„æ¯”é‡ Precisionï¼ˆç²¾ç¡®ç‡ï¼‰: åœ¨è¢«è¯†åˆ«ä¸ºæ­£ç±»åˆ«çš„æ ·æœ¬ä¸­ï¼Œä¸ºæ­£ç±»åˆ«çš„æ¯”ä¾‹ Recallï¼ˆå¬å›ç‡ï¼‰: åœ¨æ‰€æœ‰æ­£ç±»åˆ«æ ·æœ¬ä¸­ï¼Œè¢«æ­£ç¡®è¯†åˆ«ä¸ºæ­£ç±»åˆ«çš„æ¯”ä¾‹ BLEU åˆ†æ•°ï¼šè¯„ä¼°ä¸€ç§è¯­è¨€ç¿»è¯‘æˆå¦ä¸€ç§è¯­è¨€çš„æ–‡æœ¬è´¨é‡çš„æŒ‡æ ‡. å®ƒå°†â€œè´¨é‡â€çš„å¥½åå®šä¹‰ä¸ºä¸äººç±»ç¿»è¯‘ç»“æœçš„ä¸€è‡´æ€§ç¨‹åº¦. å–å€¼èŒƒå›´æ˜¯[0, 1], è¶Šæ¥è¿‘1, è¡¨æ˜ç¿»è¯‘è´¨é‡è¶Šå¥½ ROUGE æŒ‡æ ‡ï¼šåœ¨æœºå™¨ç¿»è¯‘ã€è‡ªåŠ¨æ‘˜è¦ã€é—®ç­”ç”Ÿæˆç­‰é¢†åŸŸå¸¸è§çš„è¯„ä¼°æŒ‡æ ‡. ROUGE é€šè¿‡å°†æ¨¡å‹ç”Ÿæˆçš„æ‘˜è¦æˆ–è€…å›ç­”ä¸å‚è€ƒç­”æ¡ˆï¼ˆä¸€èˆ¬æ˜¯äººå·¥ç”Ÿæˆçš„ï¼‰è¿›è¡Œæ¯”è¾ƒè®¡ç®—ï¼Œå¾—åˆ°å¯¹åº”çš„å¾—åˆ† PPLï¼šç”¨æ¥åº¦é‡ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒæˆ–æ¦‚ç‡æ¨¡å‹é¢„æµ‹æ ·æœ¬çš„å¥½åç¨‹åº¦. PPLè¶Šå°ï¼Œæ ‡æ˜æ¨¡å‹è¶Šå¥½ å‰ä¸‰ä¸ªç›¸ä¿¡éƒ½ä¸é™Œç”Ÿï¼Œæœºå™¨å­¦ä¹ å°±åœ¨ä½¿ç”¨äº†ï¼Œæ¶‰åŠåˆ°çš„å°±æ˜¯æ··æ·†çŸ©é˜µä¸­å€¼å¾—ç®€å•è¿ç®— è¿™é‡Œä¸»è¦ä»‹ç»åé¢ä¸‰ä¸ª BLEU BLEU æ ¹æ®n-gramå¯ä»¥åˆ’åˆ†æˆå¤šç§è¯„ä»·æŒ‡æ ‡ï¼Œå…¶ä¸­n-gramæŒ‡çš„æ˜¯è¿ç»­çš„å•è¯ä¸ªæ•°ä¸ºnï¼Œå®è·µä¸­ï¼Œé€šå¸¸æ˜¯å–N1~4ï¼Œç„¶åå¯¹è¿›è¡ŒåŠ æƒå¹³å‡ åŸºæœ¬æ­¥éª¤ï¼š åˆ†åˆ«è®¡ç®—candidateå¥å’Œreferenceå¥çš„N-gramsæ¨¡å‹ï¼Œç„¶åç»Ÿè®¡å…¶åŒ¹é…çš„ä¸ªæ•°ï¼Œè®¡ç®—åŒ¹é…åº¦ å…¬å¼ï¼šcandidateå’Œreferenceä¸­åŒ¹é…çš„ nâˆ’gram çš„ä¸ªæ•° candidateä¸­nâˆ’gram çš„ä¸ªæ•° candidate å€™é€‰å€¼ï¼Œå³æ¨¡å‹é¢„æµ‹å€¼ reference å‚è€ƒå€¼ï¼Œå³çœŸå®å€¼ ä¸¾ä¸ªç®€å•ä¾‹å­ï¼š ä½¿ç”¨1-gramè¿›è¡ŒåŒ¹é…ï¼š candidate: {it, is, a, nice, day, today} reference: {today, is, a, nice, day} ç»“æœ:å…¶ä¸­{today, is, a, nice, day}åŒ¹é…ï¼Œæ‰€ä»¥åŒ¹é…åº¦ä¸º56 ä½¿ç”¨2-gramè¿›è¡ŒåŒ¹é…ï¼š candidate: {it is, is a, a nice, nice day, day today} reference: {today is, is a, a nice, nice day} ç»“æœ:å…¶ä¸­{is a, a nice, nice day}åŒ¹é…ï¼Œæ‰€ä»¥åŒ¹é…åº¦ä¸º35 ä»¥æ­¤ç±»æ¨ï¼Œè¿˜æ˜¯æ¯”è¾ƒå¥½ç†è§£çš„ ä¸éš¾å‘ç°ï¼ŒåŒ¹é…ä¸ªæ•°è¶Šå¤šï¼ŒBLEUå€¼è¶Šå¤§ï¼Œè¯´æ˜å€™é€‰å¥å­è¶Šå¥½ ä½†æ˜¯ï¼Œä¹Ÿä¼šæœ‰ç‰¹æ®Šæƒ…å†µï¼Œæ¯”å¦‚ï¼š candidate: the the the the reference: The cat is standing on the ground å¦‚æœæŒ‰ç…§1-gramçš„æ–¹æ³•è¿›è¡ŒåŒ¹é…ï¼Œåˆ™åŒ¹é…åº¦ä¸º1ï¼Œæ˜¾ç„¶æ˜¯ä¸åˆç†çš„ **è§£å†³åŠæ³•å°±æ˜¯ï¼š**é¦–å…ˆï¼Œè®¡ç®—ä¸€ä¸ªå•è¯åœ¨ä»»æ„ä¸€ä¸ªå‚è€ƒå¥å­å‡ºç°çš„æœ€å¤§æ¬¡æ•°, ç„¶åç”¨æ¯ä¸ªï¼ˆéé‡å¤ï¼‰å•è¯åœ¨å‚è€ƒå¥å­ä¸­å‡ºç°çš„æœ€å¤§ æ¬¡æ•°æ¥ä¿®å‰ªâ€“å•è¯åœ¨å€™é€‰å¥å­çš„å‡ºç°æ¬¡æ•°. å¦‚ä¸‹æ‰€ç¤ºçš„å…¬å¼ $$count_kmin(c_k,s_k)$$ å…¶ä¸­kè¡¨ç¤ºåœ¨å€™é€‰å¥å­ï¼ˆcandidateï¼‰ä¸­å‡ºç°çš„ç¬¬kä¸ªè¯è¯­, ckåˆ™ä»£è¡¨åœ¨å€™é€‰å¥å­ä¸­è¿™ä¸ªè¯è¯­å‡ºç°çš„æ¬¡æ•°ï¼Œè€Œskåˆ™ä»£è¡¨ åœ¨å‚è€ƒæ–‡æœ¬ï¼ˆreferenceï¼‰ä¸­è¿™ä¸ªè¯è¯­å‡ºç°çš„æ¬¡æ•° ä»£ç å®ç°å…ˆå®‰è£…å·¥å…·åŒ… pip install nltk from nltk.translate.bleu_score import sentence_bleudef cumulative_bleu(reference, candidate): bleu_1_gram = sentence_bleu(reference, candidate, weights=(1, 0, 0, 0)) bleu_2_gram = sentence_bleu(reference, candidate, weights=(0.5, 0.5, 0, 0)) bleu_3_gram = sentence_bleu(reference, candidate, weights=(0.33, 0.33, 0.33, 0)) bleu_4_gram = sentence_bleu(reference, candidate, weights=(0.25, 0.25, 0.25, 0.25)) return bleu_1_gram, bleu_2_gram, bleu_3_gram, bleu_4_gram# ç”Ÿæˆæ–‡æœ¬generated_text = [This, is, some, generated, text]# å‚è€ƒæ–‡æœ¬åˆ—è¡¨reference_texts = [[This, is, a, reference, text]]# è®¡ç®— Bleu æŒ‡æ ‡c_bleu = cumulative_bleu(reference_texts, generated_text)# æ‰“å°ç»“æœprint(The Bleu score is:, c_bleu)#The Bleu score is: (0.6, 0.387, 1.5e-102, 9.2e-155) ROUGE ROUGEæŒ‡æ ‡ä¸BLEUæŒ‡æ ‡éå¸¸ç±»ä¼¼ï¼Œå‡å¯ç”¨æ¥è¡¡é‡ç”Ÿæˆç»“æœå’Œæ ‡å‡†ç»“æœçš„åŒ¹é…ç¨‹åº¦ï¼Œä¸åŒçš„æ˜¯ROUGEåŸºäºå¬å›ç‡ï¼ŒBLEUæ›´çœ‹é‡å‡†ç¡®ç‡ã€‚ ROUGEä¹Ÿåˆ†ä¸ºå››ç§æ–¹æ³•ï¼šROUGE-N, ROUGE-L, ROUGE-W, ROUGE-S è¿™é‡Œä»…ä»‹ç»ROUGE-N è¿˜æ˜¯ä¸¾ä¸ªç®€å•ä¾‹å­è¯´æ˜ï¼š ä½¿ç”¨ROUGE-1è¿›è¡ŒåŒ¹é…ï¼š candidate: {it, is, a, nice, day, today} reference: {today, is, a, nice, day} ç»“æœ:å…¶ä¸­{today, is, a, nice, day}åŒ¹é…ï¼Œæ‰€ä»¥åŒ¹é…åº¦ä¸º551,è¿™è¯´æ˜ç”Ÿæˆçš„å†…å®¹å®Œå…¨è¦†ç›–äº†å‚è€ƒæ–‡æœ¬ä¸­çš„æ‰€æœ‰å•è¯ï¼Œè´¨é‡è¾ƒé«˜ ä»£ç å®ç°å…ˆå®‰è£…å·¥å…·åŒ…pip install rouge import Rouge# ç”Ÿæˆæ–‡æœ¬generated_text = This is some generated text.# å‚è€ƒæ–‡æœ¬åˆ—è¡¨reference_texts = [This is another generated reference text.]# è®¡ç®— ROUGE æŒ‡æ ‡rouge = Rouge()scores = rouge.get_scores(generated_text, reference_texts[0])# æ‰“å°ç»“æœprint(ROUGE-1 precision:, scores[0][rouge-1][p])print(ROUGE-1 recall:, scores[0][rouge-1][r])print(ROUGE-1 F1 score:, scores[0][rouge-1][f])# ROUGE-1 precision: 0.8# ROUGE-1 recall: 0.6666666666666666# ROUGE-1 F1 score: 0.7272727223140496 PPL å›°æƒ‘éƒ½ï¼ˆperplexityï¼‰ PPLç”¨æ¥åº¦é‡ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒæˆ–æ¦‚ç‡æ¨¡å‹é¢„æµ‹æ ·æœ¬çš„å¥½åç¨‹åº¦ ç»™æµ‹è¯•é›†çš„å¥å­èµ‹äºˆè¾ƒé«˜æ¦‚ç‡å€¼çš„è¯­è¨€æ¨¡å‹è¾ƒå¥½,å½“è¯­è¨€æ¨¡å‹è®­ç»ƒå®Œä¹‹åï¼Œæµ‹è¯•é›†ä¸­çš„å¥å­éƒ½æ˜¯æ­£å¸¸çš„å¥å­ï¼Œé‚£ä¹ˆè®­ç»ƒå¥½çš„æ¨¡å‹å°±æ˜¯åœ¨æµ‹è¯•é›†ä¸Šçš„æ¦‚ç‡è¶Šé«˜è¶Šå¥½ å…¬å¼ï¼š ä¸¤ç§å½¢å¼ $${PPL}(S) ;; \\frac{1}{\\sqrt[N]{P(w_1w_2â€¦w_N)}}$$ $${PPL}(S) ;; 2^{-\\frac{1}{N}\\sum_{i1}^{N}\\log_2 P(w_i)}$$ ä»å…¬å¼å¯ä»¥çœ‹å‡ºï¼Œå¥å­æ¦‚ç‡è¶Šå¤§ï¼Œè¯­è¨€æ¨¡å‹è¶Šå¥½ï¼Œå›°æƒ‘åº¦è¶Šå° ä»£ç å®ç°import math# å®šä¹‰è¯­æ–™åº“sentences = [ [I, have, a, pen], [He, has, a, book], [She, has, a, cat]]# å®šä¹‰è¯­è¨€æ¨¡å‹unigram = I: 1/12, have: 1/12, a: 3/12, pen: 1/12,He: 1/12, has: 2/12,book: 1/12,She: 1/12, cat: 1/12# è®¡ç®—å›°æƒ‘åº¦perplexity = 0for sentence in sentences: sentence_prob = 1 for word in sentence: sentence_prob *= unigram[word] temp = -math.log(sentence_prob, 2)/len(sentence) perplexity+=2**tempperplexity = perplexity/len(sentences)print(å›°æƒ‘åº¦ä¸ºï¼š, perplexity)# å›°æƒ‘åº¦ä¸ºï¼š 8.15 LLMæ¶æ„ç±»åˆ«è¿™ä¸€å—å†…å®¹æ¯”è¾ƒå¤šï¼Œåˆ†å¼€å‡ ç« è®²ï¼Œè¿™é‡Œç®€å•ä»‹ç» LLMæœ¬èº«åŸºäºTransformeræ¶æ„ï¼ŒåŸå§‹Transformerä¸ºä¸åŒé¢†åŸŸæ¨¡å‹æä¾›äº†çµæ„Ÿå’Œå¯å‘ åŸºäºåŸå§‹Transformerè¡ç”Ÿå‡ºä¸€ç³»åˆ—æ¨¡å‹ï¼Œä¸€äº›æ¨¡å‹ä»…ä½¿ç”¨encoderï¼Œä¸€äº›æ¨¡å‹ä»…ä½¿ç”¨decoderï¼Œæœ‰äº›æ¨¡å‹åŒæ—¶ä½¿ç”¨encoderå’Œdecoder LLMå¤§è‡´å¯ä»¥åˆ†ä¸ºä¸‰ç§ï¼šè‡ªç¼–ç æ¨¡å‹ï¼ˆencoderï¼‰ã€è‡ªå›å½’æ¨¡å‹ï¼ˆdecoderï¼‰å’Œåºåˆ—åˆ°åºåˆ—æ¨¡å‹ï¼ˆencoder-decoderï¼‰","tags":["LM","è¯­è¨€æ¨¡å‹"],"categories":["æ·±åº¦å­¦ä¹ "]},{"title":"HEXOéƒ¨ç½²æ–¹æ¡ˆ","path":"/2023/04/21/hexodeploy/","content":"hexoæ˜¯ä¸€ä¸ªæ— åç«¯çš„åšå®¢ç³»ç»Ÿ, ä¸åƒwordpress, typechoå¯ä»¥ç›´æ¥çº¿ä¸Šç¼–å†™æ–‡ç« , éœ€è¦åœ¨æœ¬åœ°ç¼–å†™mdæ–‡ä»¶, ç„¶åç¼–è¯‘æˆhtmlä¸Šä¼ åˆ°æœåŠ¡å™¨, æ•´ä¸ªè¿‡ç¨‹è¿˜æ˜¯æ¯”è¾ƒç¹ç, æ‰€ä»¥, æƒ³å¯»æ‰¾hexoå†™ä½œæµçš„æœ€ä½³æ–¹æ¡ˆ æœ¬åœ°Hexoç¯å¢ƒæ­å»ºå®‰è£…å¿…è¦è½¯ä»¶ å®‰è£…Gitä»Gitå®˜ç½‘ä¸‹è½½å¹¶å®‰è£…Gitï¼šhttps://git-scm.com/ å®‰è£…Node.jsä»Node.jså®˜ç½‘ä¸‹è½½å¹¶å®‰è£…ï¼šhttps://nodejs.org/å®‰è£…åéªŒè¯ï¼š node -vnpm -v å®‰è£…å’Œåˆå§‹åŒ–Hexo å®‰è£…Hexo CLI npm install -g hexo-cli åˆå§‹åŒ–Hexoé¡¹ç›® hexo init myblogcd myblognpm install æœ¬åœ°æµ‹è¯• hexo server è®¿é—® http://localhost:4000 æŸ¥çœ‹åšå®¢æ•ˆæœã€‚ é¡¹ç›®ç»“æ„è¯´æ˜myblog/â”œâ”€â”€ _config.yml # ç«™ç‚¹é…ç½®æ–‡ä»¶â”œâ”€â”€ source/ # æ–‡ç« å’Œé¡µé¢â”‚ â””â”€â”€ _posts/ # æ–‡ç« ç›®å½•â”œâ”€â”€ themes/ # ä¸»é¢˜ç›®å½•â”œâ”€â”€ scaffolds/ # æ¨¡æ¿æ–‡ä»¶â””â”€â”€ public/ # ç”Ÿæˆçš„é™æ€æ–‡ä»¶ æœåŠ¡å™¨ç¯å¢ƒé…ç½®ï¼ˆæ— aptå·¥å…·ï¼‰ç”±äºä½ çš„æœåŠ¡å™¨æ²¡æœ‰aptå·¥å…·ï¼Œæ¨æµ‹å¯èƒ½æ˜¯CentOSRHELç³»ç³»ç»Ÿï¼Œä½¿ç”¨yumåŒ…ç®¡ç†å™¨ã€‚ å®‰è£…å¿…è¦è½¯ä»¶ å®‰è£…Node.js # æ·»åŠ NodeSourceä»“åº“ï¼ˆä»¥Node.js 14.xä¸ºä¾‹ï¼‰curl -sL https://rpm.nodesource.com/setup_14.x | sudo -E bash -# å®‰è£…Node.jssudo yum install -y nodejs å®‰è£…Git sudo yum install -y git å®‰è£…Nginx sudo yum install -y nginx é…ç½®æœåŠ¡å™¨Gitä»“åº“ åˆ›å»ºGitç”¨æˆ·å’Œä»“åº“ sudo useradd gitsudo passwd git # è®¾ç½®å¯†ç su - gitmkdir -p ~/blog.gitcd ~/blog.gitgit init --bare åˆ›å»ºç½‘ç«™æ ¹ç›®å½• sudo mkdir -p /var/www/hexosudo chown git:git /var/www/hexosudo chmod 755 /var/www/hexo é…ç½®Gité’©å­åœ¨ /home/git/blog.git/hooks/ ç›®å½•åˆ›å»º post-receive æ–‡ä»¶ï¼š # åˆ‡æ¢åˆ°gitç”¨æˆ·su - git# è¿›å…¥hooksç›®å½•cd /home/git/blog.git/hooks# åˆ›å»ºpost-receiveæ–‡ä»¶cat post-receive EOF#!/bin/bashecho å¼€å§‹éƒ¨ç½²Hexoåšå®¢...# è®¾ç½®è·¯å¾„GIT_DIR=/home/git/blog.gitWORK_TREE=/var/www/hexo# åˆ›å»ºç½‘ç«™ç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰mkdir -p $WORK_TREE# æ£€å‡ºæ–‡ä»¶åˆ°ç½‘ç«™ç›®å½•while read oldrev newrev refnamedo branch=$(git rev-parse --symbolic --abbrev-ref $refname) if [ $branch = master ]; then echo æ­£åœ¨éƒ¨ç½²masteråˆ†æ”¯åˆ°ç½‘ç«™ç›®å½•... git --work-tree=$WORK_TREE --git-dir=$GIT_DIR checkout -f $branch # æ£€æŸ¥æ˜¯å¦éƒ¨ç½²æˆåŠŸ if [ $? -eq 0 ]; then echo âœ… åšå®¢éƒ¨ç½²æˆåŠŸï¼ echo ç½‘ç«™æ–‡ä»¶å·²æ›´æ–°åˆ°: $WORK_TREE # æ˜¾ç¤ºéƒ¨ç½²çš„æ–‡ä»¶åˆ—è¡¨ echo éƒ¨ç½²çš„æ–‡ä»¶: ls -la $WORK_TREE/ | head -10 else echo âŒ éƒ¨ç½²å¤±è´¥ï¼ exit 1 fi fidoneEOF èµ‹äºˆæ‰§è¡Œæƒé™ï¼š chmod +x /home/git/blog.git/hooks/post-receive# å°†é’©å­æ–‡ä»¶çš„æ‰€æœ‰è€…æ”¹ä¸ºgitç”¨æˆ·sudo chown git:git /home/git/blog.git/hooks/post-receive# æ£€æŸ¥ä¿®æ­£åçš„æƒé™ls -la /home/git/blog.git/hooks/post-receive# å°†æ•´ä¸ªblog.gitç›®å½•çš„æ‰€æœ‰æƒäº¤ç»™gitç”¨æˆ·sudo chown -R git:git /home/git/blog.git# ä¿®å¤ç½‘ç«™ç›®å½•æƒé™sudo chown -R git:git /var/www/hexosudo chmod -R 755 /var/www/hexo é…ç½®Nginxç¼–è¾‘ /etc/nginx/nginx.conf æˆ– /etc/nginx/conf.d/hexo.confï¼š server listen 80; server_name your-domain.com; # æ›¿æ¢ä¸ºä½ çš„åŸŸåæˆ–IP root /var/www/hexo; index index.html; location / try_files $uri $uri/ =404; é‡å¯Nginxï¼š sudo systemctl start nginxsudo systemctl enable nginx é…ç½®Hexoå¤šå¹³å°éƒ¨ç½²é…ç½®GitHub Pagesä»“åº“ åˆ›å»ºGitHubä»“åº“ ä»“åº“åæ ¼å¼ï¼šç”¨æˆ·å.github.io è®¾ç½®ä¸ºpublicä»“åº“ é…ç½®SSHå¯†é’¥ ssh-keygen -t rsa -C your-email@example.com å°†å…¬é’¥id_rsa.pubå†…å®¹æ·»åŠ åˆ°GitHubçš„SSH keysä¸­ã€‚ é…ç½®Hexoéƒ¨ç½²è®¾ç½®ä¿®æ”¹Hexoé¡¹ç›®ä¸­çš„ _config.yml æ–‡ä»¶ï¼š # éƒ¨ç½²é…ç½®[citation:6]deploy: type: git repo: # æœåŠ¡å™¨ä»“åº“ - git@your-server-ip:/home/git/blog.git # GitHubä»“åº“ - git@github.com:yourusername/yourusername.github.io.git branch: master è¿™é‡Œæ³¨æ„, github ä¸Šçš„ä¸»åˆ†æ”¯å¯èƒ½æ˜¯ main, å¯ä»¥ç›´æ¥åœ¨é…ç½®æ–‡ä»¶ä¿®æ”¹, ä¹Ÿå¯ä»¥éƒ¨ç½²å¥½åè¿›å…¥github settingsä¸­ä¿®æ”¹ä¸»åˆ†æ”¯, ç½‘ä¸Šèµ„æ–™ä¹Ÿæ¯”è¾ƒå¤š å®‰è£…éƒ¨ç½²æ’ä»¶npm install hexo-deployer-git --save å®Œæ•´çš„å†™ä½œå’Œéƒ¨ç½²æµç¨‹æ—¥å¸¸å†™ä½œæµç¨‹ åˆ›å»ºæ–°æ–‡ç«  hexo new æ–‡ç« æ ‡é¢˜ ç¼–è¾‘æ–‡ç« åœ¨ source/_posts/ ç›®å½•ä¸‹æ‰¾åˆ°å¯¹åº”çš„Markdownæ–‡ä»¶è¿›è¡Œç¼–è¾‘ã€‚ æœ¬åœ°é¢„è§ˆ hexo clean hexo generate hexo server éƒ¨ç½²åˆ°åŒå¹³å° hexo clean hexo generate hexo deploy è®¿é—®ç›´æ¥è®¿é—® ç”¨æˆ·å.github.io æˆ–è€…è‡ªå·±çš„åŸŸåéƒ½å¯ä»¥è®¿é—®åšå®¢","tags":["HEXO","åšå®¢"],"categories":["åšå®¢"]},{"title":"å¸è½½pythonè¦å…ˆå®‰è£…pythonï¼Ÿ","path":"/2023/01/01/uninstallpy/","content":"æœ€è¿‘å¸è½½æ—§ç‰ˆpythonæ—¶å‘ç°è¿™ä¹ˆä¸€ä¸ªé”™è¯¯ å¤§è‡´èƒ½çœ‹å‡ºæ¥æ˜¯æƒé™é—®é¢˜æˆ–è€…æ–‡ä»¶è¢«é”å®šï¼ŒConfig.MSI ç›®å½•æ˜¯ Windows Installer ç”¨äºå­˜æ”¾å®‰è£…å›æ»šè„šæœ¬ï¼ˆ.rbf.rbsï¼‰çš„éšè—ç³»ç»Ÿæ–‡ä»¶å¤¹ã€‚å®‰è£…ç¨‹åºå®Œæˆåä¼šè‡ªåŠ¨åˆ é™¤è¿™äº›æ–‡ä»¶ï¼Œä½†å¦‚æœå®‰è£…ä¸­é€”å¤±è´¥æˆ–ç¼ºä¹æƒé™ï¼Œæ–‡ä»¶å¯èƒ½æ®‹ç•™æœªè¢«æ¸…ç†ã€‚æ­¤å¤–ï¼Œå¦‚æœç›¸å…³çš„ Python å®‰è£…ç¨‹åºæˆ–å…¶å®ƒç¨‹åºï¼ˆå¦‚ Windows Installer æœåŠ¡è‡ªèº«ï¼‰æ­£åœ¨ä½¿ç”¨è¿™äº› *.rbf æ–‡ä»¶ï¼Œåˆ™ç›´æ¥åˆ é™¤æ—¶ä¼šæç¤ºâ€œæ‹’ç»è®¿é—®â€ã€‚å› æ­¤å¸¸è§åŸå› åŒ…æ‹¬ï¼š Config.MSI æ–‡ä»¶å¤¹é»˜è®¤éšè—ä¸”æ ‡è®°ä¸ºå—ä¿æŠ¤ç³»ç»Ÿæ–‡ä»¶ï¼Œéœ€è¦ç®¡ç†å‘˜æƒé™æ‰èƒ½ä¿®æ”¹ã€‚ ä¹‹å‰çš„å®‰è£…å¸è½½æœªæ­£å¸¸å®Œæˆï¼Œå›æ»šæ–‡ä»¶é—ç•™åœ¨ Config.MSI ä¸­æœªè¢«åˆ é™¤ã€‚ ç›®æ ‡æ–‡ä»¶æ­£è¢«ç³»ç»Ÿæˆ–å…¶å®ƒè¿›ç¨‹å ç”¨ï¼ˆä¾‹å¦‚ Windows Installer è¿›ç¨‹è¿˜åœ¨è¿è¡Œï¼‰ï¼Œå¯¼è‡´æ— æ³•åˆ é™¤ã€‚ ç”¨æˆ·æƒé™ä¸è¶³ï¼ˆæœªä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰ï¼Œæ— æ³•ä¿®æ”¹æˆ–åˆ é™¤è¯¥æ–‡ä»¶ã€‚ æƒé™ä¸è¶³ä¸è®©åˆ é™¤çš„è¯ï¼Œé‚£æ‰‹åŠ¨åˆ é™¤æ˜¯å¦å®‰å…¨å‘¢ç½‘ä¸Šç­”æ¡ˆä¼—è¯´çº·çº­ï¼Œä½†ç»“è®ºæ˜¯æ²¡å•¥å½±å“ GPTç»™å‡ºçš„ç­”æ¡ˆæ˜¯ï¼šConfig.MSI æ–‡ä»¶å¤¹ä¸­çš„ .rbf æ–‡ä»¶åªæ˜¯å®‰è£…æ—¶çš„å›æ»šè„šæœ¬å¤‡ä»½ï¼Œä¸ä¼šå½±å“æ­£å¸¸ç³»ç»Ÿè¿è¡Œã€‚å¤šä½æŠ€æœ¯ä¸“å®¶æŒ‡å‡ºï¼Œå¦‚æœè¿™äº›æ–‡ä»¶åœ¨å¸è½½åæœªè¢«è‡ªåŠ¨åˆ é™¤ï¼Œæ˜¯å¯ä»¥æ‰‹åŠ¨åˆ é™¤æˆ–å¿½ç•¥çš„[superuser.com](https://superuser.com/questions/8012/what-is-the-hidden-system-config-msi-folder#:~:text=,files from your hard drive)[cnblogs.com](https://www.cnblogs.com/zjoch/archive/2010/05/05/1728106.html#:~:text=åœ¨Windowsçš„å®‰è£…è¿‡ç¨‹ä¸­å°†äº§ç”Ÿè¿”å›è„šæœ¬ï¼ˆrollback scriptSï¼‰ä»¥å®ç°è¿”å›åŠŸèƒ½ï¼Œåœ¨è¿™äº›æ–‡ä»¶ä¸­åŒ…å«äº†å·²æ‰§è¡Œçš„æ“ä½œåºåˆ—ï¼Œæ–‡ä»¶å’Œæ³¨å†Œè¡¨çš„æ›´æ–°ä¿¡æ¯ä»¥åŠå…¶ä»–æ“ä½œä¿¡æ¯ã€‚è„šæœ¬æ–‡ä»¶åŒ…æ‹¬,åˆ™åŒ…å«åœ¨æ“ä½œç³»ç»Ÿæ‰€åœ¨çš„é©±åŠ¨å™¨ä¸­ã€‚)ã€‚ä¾‹å¦‚ï¼Œsuperuser ä¸Šçš„å›ç­”å¼•ç”¨æŠ€æœ¯åšå®¢æŒ‡å‡ºï¼šâ€œé…ç½®æ–‡ä»¶å¤¹åŒ…å«å®‰è£…æ—¶çš„å¤‡ä»½è„šæœ¬ï¼ŒæˆåŠŸå®‰è£…ååº”è‡ªåŠ¨åˆ é™¤â€¦å¦‚æœå®‰è£…ç¨‹åºæ²¡æœ‰æ¸…é™¤å®ƒä»¬ï¼Œä½ å¯ä»¥å®‰å…¨åˆ é™¤è¯¥æ–‡ä»¶å¤¹å’Œæ–‡ä»¶â€[superuser.com](https://superuser.com/questions/8012/what-is-the-hidden-system-config-msi-folder#:~:text=,files from your hard drive)ã€‚ä¸­æ–‡æŠ€æœ¯åšå®¢ä¹Ÿè¯´æ˜ï¼šWindows å®‰è£…è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ Config.MSI æ–‡ä»¶å¤¹å¯ä»¥è‡ªè¡Œåˆ é™¤ä»¥é‡Šæ”¾ç©ºé—´[cnblogs.com](https://www.cnblogs.com/zjoch/archive/2010/05/05/1728106.html#:~:text=åœ¨Windowsçš„å®‰è£…è¿‡ç¨‹ä¸­å°†äº§ç”Ÿè¿”å›è„šæœ¬ï¼ˆrollback scriptSï¼‰ä»¥å®ç°è¿”å›åŠŸèƒ½ï¼Œåœ¨è¿™äº›æ–‡ä»¶ä¸­åŒ…å«äº†å·²æ‰§è¡Œçš„æ“ä½œåºåˆ—ï¼Œæ–‡ä»¶å’Œæ³¨å†Œè¡¨çš„æ›´æ–°ä¿¡æ¯ä»¥åŠå…¶ä»–æ“ä½œä¿¡æ¯ã€‚è„šæœ¬æ–‡ä»¶åŒ…æ‹¬,åˆ™åŒ…å«åœ¨æ“ä½œç³»ç»Ÿæ‰€åœ¨çš„é©±åŠ¨å™¨ä¸­ã€‚)ã€‚å› æ­¤ï¼Œä¸€èˆ¬æƒ…å†µä¸‹*ç›´æ¥åˆ é™¤ Config.MSI æ–‡ä»¶å¤¹åŠå…¶ä¸­çš„ *.rbf æ–‡ä»¶æ˜¯å®‰å…¨çš„ï¼Œè¿™ä¸ä¼šç ´åç³»ç»Ÿï¼Œåªæ˜¯ç§»é™¤äº†æ— ç”¨çš„å›æ»šå¤‡ä»½ã€‚ OKï¼Œæ—¢ç„¶è¿™æ ·ï¼Œé‚£å°±ç”¨ç®¡ç†å‘˜æƒé™ç»™å®ƒåˆ æ‰å§ éšè—æ–‡ä»¶å±•ç¤ºè¿™ç±»æ–‡ä»¶é»˜è®¤ä¸ä¼šå±•ç¤º æ–¹æ³•ä¸€ï¼šé€šè¿‡æ§åˆ¶é¢æ¿è¿›å…¥â€œæ–‡ä»¶å¤¹é€‰é¡¹â€è¿™æ˜¯ Win11 ä¸­æœ€ç¨³å®šã€æœ€é€šç”¨çš„æ–¹å¼ã€‚ æŒ‰ä¸‹ Win + R è¾“å…¥ï¼š control folders ç„¶åå›è½¦ ğŸ‘‰ ä¼šç›´æ¥æ‰“å¼€ â€œæ–‡ä»¶å¤¹é€‰é¡¹â€çª—å£ï¼ˆè€ç•Œé¢ï¼‰ åˆ‡æ¢åˆ° æŸ¥çœ‹(View) é€‰é¡¹å¡ åœ¨é«˜çº§è®¾ç½®ä¸­å‘ä¸‹æ»šåŠ¨ï¼Œæ‰¾åˆ°ï¼š â€œéšè—å—ä¿æŠ¤çš„æ“ä½œç³»ç»Ÿæ–‡ä»¶ï¼ˆæ¨èï¼‰â€ å–æ¶ˆå‹¾é€‰ â†’ ç³»ç»Ÿä¼šå¼¹å‡ºè­¦å‘Š â†’ ç‚¹å‡» ç¡®å®š å³å¯ã€‚ æ–¹æ³•äºŒï¼šé€šè¿‡æ§åˆ¶é¢æ¿å›¾å½¢åŒ–å…¥å£å¦‚æœä½ æƒ³é€šè¿‡ç•Œé¢ä¸€æ­¥æ­¥ç‚¹è¿›å»ï¼š æ‰“å¼€ æ§åˆ¶é¢æ¿ å¯ä»¥æŒ‰ Win é”®ç„¶åè¾“å…¥ æ§åˆ¶é¢æ¿ æœç´¢ ç‚¹å‡» å¤–è§‚å’Œä¸ªæ€§åŒ– ç‚¹å‡» æ–‡ä»¶èµ„æºç®¡ç†å™¨é€‰é¡¹ ğŸ‘‰ ä¼šæ‰“å¼€â€œæ–‡ä»¶å¤¹é€‰é¡¹â€ åˆ‡æ¢åˆ° æŸ¥çœ‹(View) æ ‡ç­¾ æ‰¾åˆ°å¹¶å–æ¶ˆï¼š éšè—å—ä¿æŠ¤çš„æ“ä½œç³»ç»Ÿæ–‡ä»¶ï¼ˆæ¨èï¼‰ æ“ä½œå®Œååº”è¯¥å°±å¯ä»¥å†Dç›˜çœ‹åˆ°Config.MSIæ–‡ä»¶å¤¹ åˆ é™¤Config.MSIç®¡ç†å‘˜æƒé™æ‰“å¼€CMDï¼Œè¿è¡Œä¸‹é¢å‘½ä»¤ takeown /F D:\\Config.MSI /R /D Yicacls D:\\Config.MSI /grant Administrators:F /T ä»¥ä¸Šå‘½ä»¤å°†æŠŠ D:\\Config.MSI æ–‡ä»¶å¤¹åŠå­æ–‡ä»¶çš„æ‰€æœ‰æƒæˆç»™ç®¡ç†å‘˜ç»„ï¼Œè®©ä½ æ‹¥æœ‰å®Œå…¨æ§åˆ¶æƒ ç„¶åæ‰§è¡Œ rd /S /Q D:\\Config.MSI æ“ä½œå®ŒåæŸ¥çœ‹Dç›˜å°±æ²¡æœ‰Config.MSIæ–‡ä»¶å¤¹ï¼Œæ­¤æ—¶å†å»å°è¯•å¸è½½æ—§ç‰ˆæœ¬pythonï¼Œå¦‚æœåˆ æ‰äº†ï¼Œæ­å–œ å¦‚æœæ²¡åˆ æ‰ï¼ŒæŒ‰ç…§ä¸‹é¢æ“ä½œæ¥ é€šè¿‡å®‰è£…åŒ…å¸è½½ ç¡®å®å¾ˆåç›´è§‰å•Šï¼Œpythonçš„å¸è½½ä¸èƒ½åœ¨æ§åˆ¶é¢æ¿ä¸­ç›´æ¥åˆ é™¤ï¼Œè€Œæ˜¯éœ€è¦é€šè¿‡å®‰è£…åŒ…ï¼Œæ²¡é”™ï¼Œä¹Ÿå°±æ˜¯exeæ–‡ä»¶æ¥åˆ é™¤ï¼Œè¿™ç±»æ–‡ä»¶ä¸€èˆ¬å®‰è£…å¥½ç¨‹åºåæˆ‘éƒ½ä¸ä¼šå†ä¿ç•™ï¼Œæ‰€ä»¥è¿˜éœ€è¦å»å®˜ç½‘ä¸‹è½½å¯¹åº”ç‰ˆæœ¬ æ¯”å¦‚æˆ‘çš„ç‰ˆæœ¬æ˜¯3.8.6 å³é”®exeæ–‡ä»¶ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼Œä¼šçœ‹åˆ°ä¸‰ä¸ªé€‰é¡¹ï¼Œé€‰æ‹©uninstallå¸è½½å³å¯","tags":["ç¨‹åº","å¸è½½"],"categories":["Python"]},{"title":"Self Attention","path":"/wiki/note/attention.html","content":"ä¸ºä»€ä¹ˆéœ€è¦æ³¨æ„åŠ›æœºåˆ¶ Transformerå‡ºç°ä¹‹å‰, å¯¹äºNLPä»»åŠ¡çš„ä¸»åŠ›æ¨¡å‹æ˜¯: RNN LSTMGRU è¿™äº›æ¨¡å‹éƒ½æ‰¿æ‹…ç€ä¸€ä¸ªè‰°éš¾ä»»åŠ¡ï¼š åœ¨ä¸€ä¸ªé•¿åºåˆ—ä¸­ï¼Œç†è§£è¯ä¸è¯ä¹‹é—´çš„å…³ç³»ï¼Œå°¤å…¶æ˜¯è¿œè·ç¦»çš„å…³ç³»ã€‚ ä½†å®ƒä»¬æœ‰ä¸€ä¸ªå…±åŒçš„è‡´å‘½é™åˆ¶ï¼š ä¸èƒ½è®©æ¯ä¸ªè¯çœ‹åˆ°å…¨å±€ ä¿¡æ¯è¢«å‹å¾—å¤ªç‹ ï¼Œä¸¢å¤±ä¸¥é‡ è®­ç»ƒéš¾ä»¥å¹¶è¡Œï¼Œæ•ˆç‡ä½ä¸‹ æ³¨æ„åŠ›æœºåˆ¶æ­£æ˜¯ä¸ºäº†è§£å†³è¿™äº›æ ¹æœ¬æ€§é—®é¢˜è€Œè¯ç”Ÿçš„ã€‚ ä¸ºä»€ä¹ˆRNNLSTMå¤„ç†ä¸å¥½å…¨å±€ä¾èµ–å•å‘ä¼ é€’ä¿¡æ¯RNNLSTM çš„ä¿¡æ¯æµæ˜¯é“¾å¼çš„ï¼š x1 â†’ x2 â†’ x3 â†’ x4 â†’ ... è¿™æ„å‘³ç€ï¼š x5 æƒ³çŸ¥é“ x1 çš„ä¿¡æ¯ï¼Œè¦ç»è¿‡ x2 â†’ x3 â†’ x4 çš„å±‚å±‚ä¼ é€’ ä¸€æ—¦ä¸­é—´ä¸¢å¤±ï¼Œå°±å†ä¹Ÿè¡¥ä¸å›æ¥ è¶Šè¿œçš„å…³ç³»ï¼Œè¶Šå®¹æ˜“æ¶ˆå¤± æ‰€ä»¥åƒè¿™ç§å¥å­å¯¹å®ƒä»¬éå¸¸å›°éš¾ï¼š â€œæˆ‘æ˜¨å¤©çœ‹äº†ä¸€éƒ¨ç”µå½±ï¼Œç”µå½±ä¸»è§’æ˜¯â€¦.å‰§æƒ…éå¸¸çš„è·Œå®•èµ·ä¼,â€¦.å®ƒéå¸¸å¥½çœ‹ã€‚â€ â€œå®ƒâ€ ä¸ â€œç”µå½±â€ çš„è·ç¦»å¤ªè¿œï¼ŒRNN å®¹æ˜“â€œå¿˜â€ã€‚ æ¢¯åº¦æ¶ˆå¤±æ¢¯åº¦çˆ†ç‚¸é“¾å¼ç»“æ„å¯¼è‡´åå‘ä¼ æ’­ä¹Ÿéœ€è¦ä¸€å±‚å±‚å›ä¼ ã€‚ ä¼ ç»Ÿ RNN çš„éšè—çŠ¶æ€æ›´æ–°å…¬å¼ï¼š $$httanh(Whtâˆ’1+Uxt)$$ åå‘ä¼ æ’­æ—¶æ¢¯åº¦ä¼šä¸æ–­ä¹˜ä»¥æƒé‡çŸ©é˜µ WWW å’Œ tanh çš„å¯¼æ•° $$DnÏƒâ€²(z1)w1â‹…Ïƒâ€²(z2)w2â‹…â‹¯â‹…Ïƒâ€²(zn)wn$$ ä¸éš¾å‘ç°, æ¢¯åº¦çš„è®¡ç®—å‘ˆè¿ä¹˜å½¢å¼ å½“åºåˆ—å¾ˆé•¿æ—¶ï¼š æ¢¯åº¦ä¸æ–­å˜å° â†’ æ¶ˆå¤± æˆ–ä¸æ–­å˜å¤§ â†’ çˆ†ç‚¸ è¿™è®©æ¨¡å‹å­¦ä¸åˆ°é•¿æœŸå…³ç³»ã€‚ å½“ç„¶,LSTMGRU åœ¨æ¢¯åº¦æ¶ˆå¤±çˆ†ç‚¸é—®é¢˜å·²ç»åšäº†ä¼˜åŒ–, é€šè¿‡é—¨æ§æœºåˆ¶æ§åˆ¶ä¿¡æ¯æµ, ä½¿ä¸€éƒ¨åˆ†çŠ¶æ€ä»¥è¿‘ä¼¼çº¿æ€§æ–¹å¼åœ¨åºåˆ—ä¸­ä¼ æ’­ï¼Œä»è€Œé¿å…æ¢¯åº¦åœ¨æ—¶é—´ç»´åº¦ä¸Šçš„æŒ‡æ•°çº§è¡°å‡æˆ–çˆ†ç‚¸ï¼Œè§£å†³ä¼ ç»Ÿ RNN çš„é•¿æœŸä¾èµ–é—®é¢˜ ä¸²è¡Œè®¡ç®—RNNç³»åˆ—æ¨¡å‹çš„ç‰¹ç‚¹: å½“å‰æ—¶é—´æ­¥å¿…é¡»ç­‰ä¸Šä¸€æ—¶é—´æ­¥èµ°å®Œæ‰èƒ½å¼€å§‹ å› æ­¤, è®­ç»ƒé€Ÿåº¦å¾ˆæ…¢ è€Œ Attention å¯ä»¥å¹¶è¡Œè®¡ç®—, ä¸€æ¬¡çŸ©é˜µä¹˜æ³•å…¨éƒ¨è®¡ç®—å‡ºæ¥, å¹¶è¡Œè®¡ç®—, å……åˆ†åˆ©ç”¨GPU ä¸ºä»€ä¹ˆä¸ç”¨CNNCNN è™½ç„¶å¯ä»¥å¹¶è¡Œï¼Œä½†å­˜åœ¨ä¸€ä¸ªæ— æ³•çªç ´çš„é—®é¢˜ï¼š CNN çš„æ„Ÿå—é‡æ˜¯å±€éƒ¨çš„ã€‚ æƒ³è®© CNN è·¨è¶Šé•¿è·ç¦»ä¾èµ–ï¼Œéœ€è¦ä¸æ–­å åŠ å·ç§¯å±‚æ‰©å±•æ„Ÿå—é‡ã€‚ 5å±‚æ„Ÿå—é‡å¯èƒ½åªæœ‰å‡ åä¸ªè¯ è¦è¦†ç›–æ•´ä¸ªå¥å­éœ€è¦å‡ åå±‚ç”šè‡³æ›´å¤š è®­ç»ƒéš¾åº¦éå¸¸å¤§ã€‚ éšè—çŠ¶æ€æ˜¯å¯¹ä¿¡æ¯çš„å¼ºå‹ç¼©RNN æŠŠä¹‹å‰æ‰€æœ‰è¯çš„ä¿¡æ¯å‹è¿›ä¸€ä¸ªå›ºå®šç»´åº¦çš„å¼ é‡ï¼š h_t = f(x_t, h_t-1) æ— è®ºä½ å‰é¢è¯´äº† 100 ä¸ªè¯ï¼Œè¿˜æ˜¯ 1000 ä¸ªè¯ï¼Œæœ€ç»ˆä¿¡æ¯éƒ½å¿…é¡»å¡è¿›ä¸€ä¸ªå›ºå®šé•¿åº¦çš„ hã€‚ ä¸Šå›¾æ˜¯seq2seqæ¶æ„å¤„ç†ç¿»è¯‘ä»»åŠ¡, seq2seqæ¶æ„åŒ…æ‹¬ä¸‰éƒ¨åˆ†, encoder(ç¼–ç å™¨), decoder(è§£ç å™¨), ä¸­é—´è¯­ä¹‰å¼ é‡c å¯¹äºå›¾ä¸­çš„æ¡ˆä¾‹, ç¼–ç å™¨é¦–å…ˆå¤„ç†ä¸­æ–‡è¾“å…¥ â€œæ¬¢è¿ æ¥ åŒ—äº¬â€, é€šè¿‡GRUæ¨¡å‹è·å¾—æ¯ä¸ªæ—¶é—´æ­¥çš„è¾“å‡ºå¼ é‡, æœ€åå°†å®ƒä»¬æ‹¼æ¥æˆä¸€ä¸ªä¸­é—´è¯­ä¹‰å¼ é‡c, æ¥ç€è§£ç å™¨å°†ä½¿ç”¨è¿™ä¸ªä¸­é—´è¯­ä¹‰å¼ é‡cä»¥åŠæ¯ä¸€ä¸ªæ—¶é—´æ­¥çš„éšå±‚å¼ é‡, é€ä¸ªç”Ÿæˆå¯¹åº”çš„ç¿»è¯‘è¯­è¨€ decoderåªèƒ½ä¾èµ–å›ºå®šé•¿åº¦çš„ä¸­é—´è¯­ä¹‰å¼ é‡c ä¹Ÿå°±æ˜¯è¯´, æ— è®ºå¥å­å¤šé•¿, å¤šå¤æ‚, éƒ½è¦å‹ç¼©æˆä¸€ä¸ªå›ºå®šç»´åº¦å¼ é‡ ç»“æœå°±æ˜¯: ä¿¡æ¯ä¸¢å¤±ä¸¥é‡ é•¿åºåˆ—é—®é¢˜æ•ˆæœå·® æ³¨æ„åŠ›æœºåˆ¶å¦‚ä½•è§£å†³è¿™äº›ç—›ç‚¹æ¯ä¸ªè¯ç›´æ¥çœ‹åˆ°æ‰€æœ‰è¯åœ¨æ³¨æ„åŠ›é‡Œï¼Œä¸€ä¸ªè¯æ— éœ€é€šè¿‡ç¬¬ 2ã€3ã€4ã€5 ä¸ªè¯æ‰èƒ½çŸ¥é“ç¬¬ 1 ä¸ªè¯çš„ä¿¡æ¯ã€‚ å®ƒå¯ä»¥ç›´æ¥ç®—ï¼š ç›¸å…³æ€§ = Query(å½“å‰è¯) Â· Key(æ‰€æœ‰è¯) è¿™æ˜¯ å®Œå…¨å¹³ç­‰çš„å…¨å±€è§†é‡ã€‚ ä¸å­˜åœ¨æ¢¯åº¦æ¶ˆå¤±é—®é¢˜å› ä¸ºæ³¨æ„åŠ›ä¸ä¾èµ–é“¾å¼ç»“æ„ï¼Œåå‘ä¼ æ’­åªä¼šç»è¿‡å‡ å±‚çŸ©é˜µè¿ç®—ï¼Œæ¢¯åº¦éå¸¸ç¨³å®šã€‚ å®Œå…¨å¯å¹¶è¡ŒåŒ–ï¼ˆå‹å€’ RNN çš„å…³é”®ä¼˜åŠ¿ï¼‰RNN æ¯ä¸€æ­¥éƒ½ä¾èµ–ä¸Šä¸€éƒ¨ â‡’ åªèƒ½ä¸²è¡Œ Attention æ‰€æœ‰è¯ä¹‹é—´çš„å…³ç³»éƒ½å¯åŒæ—¶è®¡ç®— â‡’ ä¸€æ¬¡çŸ©é˜µä¹˜æ³• é€Ÿåº¦å·®å‡ åå€ç”šè‡³ä¸Šç™¾å€ã€‚ è¿™æ˜¯ Transformer èƒ½è®­ç»ƒå·¨å‹æ¨¡å‹çš„æ ¹æœ¬åŸå› ã€‚ æ³¨æ„åŠ›æœºåˆ¶å¦‚ä½•è®¡ç®— è¿™é‡Œç®€è¦æ¦‚æ‹¬, è¯¦ç»†è¿‡ç¨‹æ¨èçŸ¥ä¹çŒ›çŒ¿çš„ä¸€ç¯‡æ–‡ç« , è¿™é‡Œç»™å‡ºé“¾æ¥ Transformerå­¦ä¹ ç¬”è®°äºŒï¼šSelf-Attentionï¼ˆè‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼‰https://zhuanlan.zhihu.com/p/455399791 Transformer ä½¿ç”¨çš„æ˜¯ç¼©æ”¾ç‚¹ç§¯æ³¨æ„åŠ›(Scaled Dot-Prodcut Attention) å¯¹äºæ¯ä¸ªtoken, äº§ç”Ÿä¸‰ä¸ªçŸ©é˜µ Query, Key, Value(ä¸‹æ–‡ç®€ç§° Q, K, V) Qï¼ˆQueryï¼‰ï¼šæˆ‘æƒ³æ‰¾ä»€ä¹ˆï¼Ÿ Kï¼ˆKeyï¼‰ï¼šæˆ‘æœ‰å“ªäº›ä¿¡æ¯ï¼Ÿ Vï¼ˆValueï¼‰ï¼šå¯¹åº”çš„ä¿¡æ¯å†…å®¹ $$\\text{Attention}(Q, K, V) \\text{softmax}\\left(\\frac{Q K^\\top}{\\sqrt{d_k}}\\right) V$$ (1) Q ä¸ K åšç‚¹ç§¯ï¼šè®¡ç®—â€œåŒ¹é…ç¨‹åº¦â€score = Q â€¢ Káµ€ ç›¸ä¼¼åº¦è¶Šé«˜ â†’ ä»£è¡¨ Query è®¤ä¸ºè¿™ä¸ª Key æ›´ç›¸å…³ã€‚ (2) ç¼©æ”¾ï¼ˆé™¤ä»¥ âˆšdï¼‰é˜²æ­¢æ•°å€¼è¿‡å¤§score = score / âˆšd (3) Softmax â†’ è½¬æˆæ¦‚ç‡åˆ†å¸ƒï¼ˆæ³¨æ„åŠ›æƒé‡ï¼‰attention_weights = softmax(score) (4) ç”¨æƒé‡åŠ æƒæ±‚å’Œ Valueï¼Œå¾—åˆ°æœ€ç»ˆè¾“å‡ºoutput = attention_weights Ã— V è‡ªæ³¨æ„åŠ›æœºåˆ¶å¯¹äºä¸€èˆ¬æƒ…å†µä¸‹, Queryæ¥è‡ªdecoder, Key, Valueæ¥è‡ªencoder è‡ªæ³¨æ„åŠ›åˆ™æ˜¯ä¸€ç§ç‰¹æ®Šæƒ…å†µ, Query, Key, Valueå‡æ¥è‡ªåŒä¸€ä¸ªåºåˆ—, å³ $$QXW^Q,KXW^K,VXW^V$$","tags":[null,null],"categories":[null]},{"title":"è¿½æ˜ŸTransformer","path":"/wiki/note/index.html","content":"O1 æ­å»ºçŸ¥è¯†åº“ æ­£å¸¸ 72% KR1 æ·»åŠ ã€Šåˆå§‹Transformerã€‹ å¯¹Transformerçš„å¤§è‡´äº†è§£ å·²å®Œæˆ 100% KR2 æ·»åŠ ã€ŠSelf Attentionã€‹ å…³äºTransformerä¸­çš„æ³¨æ„åŠ›æœºåˆ¶ï¼Œè‡ªæ³¨æ„åŠ›ã€å¤šå¤´æ³¨æ„åŠ›â€¦ æ­£å¸¸ 90% KR3 æ·»åŠ ã€ŠPosition Encodingã€‹ å…³äºTransformerä¸­çš„ä½ç½®ç¼–ç å®ç° å·²å®Œæˆ 100% KR4 å…³äºTransformeræ¨¡å‹å®¶æ—ï¼ŒBertã€GPTç­‰ æœªå®Œæˆ 0%"},{"title":"è®¤è¯†Transformer","path":"/wiki/note/knew-transformer.html","content":"Transformerï¼šæ·±åº¦å­¦ä¹ æ—¶ä»£çš„åˆ†æ°´å²­è¿‡å»åå¹´ï¼Œæ·±åº¦å­¦ä¹ å‡ ä¹é‡å¡‘äº†æ•´ä¸ªäººå·¥æ™ºèƒ½é¢†åŸŸã€‚ä»å›¾åƒè¯†åˆ«åˆ°è¯­éŸ³è¯†åˆ«ï¼Œå†åˆ°è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰ï¼Œæˆ‘ä»¬è§è¯äº†ä¸€ä¸ªåˆä¸€ä¸ªæ¨¡å‹çš„è¿›åŒ–ã€‚è€Œåœ¨ NLP é¢†åŸŸï¼ŒçœŸæ­£æ”¹å˜æ¸¸æˆè§„åˆ™çš„æ¨¡å‹ï¼Œæ¯«æ— ç–‘é—®æ˜¯ Transformerã€‚ è¿™ç¯‡æ–‡ç« å°†å¸¦ä½ ä»é›¶ç†è§£ Transformerï¼š å®ƒä¸ºä»€ä¹ˆå‡ºç°ï¼Ÿè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿå†…éƒ¨ç»“æ„å¦‚ä½•è¿ä½œï¼Ÿä¸ºä»€ä¹ˆå®ƒèƒ½æˆä¸º GPTã€BERT ç­‰å¤§æ¨¡å‹çš„åŸºç¡€ï¼Ÿ ä¸€ã€Transformer çš„å‡ºç°ï¼šæ—¶ä»£çš„éœ€è¦åœ¨ Transformer å‡ºç°ä¹‹å‰ï¼ŒNLP çš„ä¸»æµæ¨¡å‹æ˜¯ï¼š RNNï¼ˆå¾ªç¯ç¥ç»ç½‘ç»œï¼‰ LSTM GRUï¼ˆæ”¹è¿›ç‰ˆ RNNï¼‰ CNN æ–‡æœ¬å·ç§¯æ¨¡å‹ è™½ç„¶è¿™äº›æ¨¡å‹åœ¨å½“æ—¶å–å¾—äº†ä¸é”™çš„æ•ˆæœï¼Œä½†ä¹Ÿé­é‡äº†å¤šä¸ªæ ¹æœ¬æ€§ç“¶é¢ˆï¼š 1. åºåˆ—ä¾èµ–å¤ªå¼ºï¼Œéš¾ä»¥å¹¶è¡ŒRNN æ¯ä¸€æ­¥éƒ½ä¾èµ–å‰ä¸€æ­¥ï¼š h(t) - h(t+1) - h(t+2) ... è¿™æ„å‘³ç€ï¼š è®­ç»ƒæ— æ³•å¹¶è¡ŒåŒ– é€Ÿåº¦æ…¢ å¯¹é•¿åºåˆ—ä¸å‹å¥½ï¼ˆæ¢¯åº¦æ¶ˆå¤±çˆ†ç‚¸é—®é¢˜ï¼‰ 2. é•¿è·ç¦»ä¾èµ–éš¾ä»¥å»ºæ¨¡ä¾‹å¦‚å¥å­ï¼š â€œæˆ‘æ˜¨å¤©çœ‹äº†ä¸€éƒ¨ç”µå½±ï¼Œæˆ‘è§‰å¾—å®ƒéå¸¸å¥½çœ‹ã€‚â€ è¿™é‡Œâ€œå®ƒâ€æŒ‡ä»£â€œç”µå½±â€ï¼Œäººç±»å¾ˆè‡ªç„¶ï¼Œä½† RNN éœ€è¦è·¨è¶Šå¾ˆå¤šè¯æ‰èƒ½å…³è”ï¼Œæ•ˆæœä¸ç¨³å®šã€‚ 3. CNN è™½å¯å¹¶è¡Œï¼Œä½†æ„Ÿå—é‡æœ‰é™å¿…é¡»å †å å¾ˆå¤šå±‚å·ç§¯æ‰èƒ½è¦†ç›–é•¿è·ç¦»ä¸Šä¸‹æ–‡ï¼Œæ•ˆç‡ä»ç„¶ä¸é«˜ã€‚ äºŒã€Transformerï¼šæ–°çš„èŒƒå¼ä»æ­¤è¯ç”Ÿ2017 å¹´ï¼ŒGoogle åœ¨è®ºæ–‡ ã€ŠAttention Is All You Needã€‹ ä¸­æå‡ºï¼š â€œåºåˆ—å»ºæ¨¡æ ¹æœ¬ä¸éœ€è¦ RNNï¼Œä¹Ÿä¸éœ€è¦ CNNï¼Œåªéœ€è¦ Attentionï¼ˆæ³¨æ„åŠ›ï¼‰ã€‚â€ è¿™æ˜¯ä¸€ä¸ªé©å‘½æ€§çš„è§‚ç‚¹ã€‚ Transformer å®Œå…¨æŠ›å¼ƒ RNN çš„é€’å½’ç»“æ„ï¼Œè½¬è€Œåªä½¿ç”¨ï¼š â†’ Self-Attentionï¼ˆè‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼‰â†’ Position Encodingï¼ˆä½ç½®ç¼–ç ï¼‰â†’ å¤šå¤´æ³¨æ„åŠ›ã€å¤šå±‚å †å ï¼ˆMulti-Head, Stacked Layersï¼‰æœ€æ ¸å¿ƒçš„æ€æƒ³æ˜¯ï¼š â€œåœ¨åºåˆ—ä¸­ï¼Œæ¯ä¸ªè¯éƒ½èƒ½ç›´æ¥å’Œå…¶ä»–æ‰€æœ‰è¯å»ºç«‹è”ç³»ï¼Œå¹¶æ ¹æ®ç›¸å…³æ€§åŠ¨æ€åˆ†é…æƒé‡ã€‚â€ è¿™å½»åº•è§£å†³äº† RNN çš„æ‰€æœ‰å†å²é—®é¢˜ã€‚ ä¸‰ã€Transformer ä¸ºä»€ä¹ˆå¦‚æ­¤å¼ºå¤§ï¼Ÿæ€»ç»“å®ƒçš„ä¼˜åŠ¿å¯ä»¥ä¸€å¥è¯æ¦‚æ‹¬ï¼š æ›´å¿«ã€æ›´å‡†ã€èƒ½çœ‹å…¨å±€ã€‚ ä¸‹é¢é€ç‚¹è§£é‡Šã€‚ 1. è®­ç»ƒå¯ä»¥å®Œå…¨å¹¶è¡ŒåŒ–ï¼ˆçªç ´æ€§è¿›æ­¥ï¼‰è‡ªæ³¨æ„åŠ›æœºåˆ¶è®©æ‰€æœ‰è¯ä¹‹é—´çš„å…³ç³»å¯ä»¥ä¸€æ¬¡æ€§è®¡ç®—ï¼š æ‰€æœ‰è¯ â†” æ‰€æœ‰è¯ ä¸å†åƒ RNN ä¸€æ­¥æ­¥ä¼ é€’ã€‚ è¿™å¸¦æ¥ï¼š è®­ç»ƒé€Ÿåº¦å·¨å¤§æå‡ èƒ½åˆ©ç”¨ GPU çš„çŸ©é˜µè®¡ç®—ä¼˜åŠ¿ èƒ½è®­ç»ƒæ›´å¤§çš„æ¨¡å‹ 2. å¤©ç„¶å…·å¤‡â€œå…¨å±€è§†é‡â€è‡ªæ³¨æ„åŠ›æœºåˆ¶è®¡ç®—æ¯ä¸ªè¯å¯¹æ‰€æœ‰è¯çš„é‡è¦æ€§ï¼Œä¾‹å¦‚ï¼š Attention(å®ƒ, ç”µå½±) â†’ é«˜æƒé‡Attention(å®ƒ, æ˜¨å¤©) â†’ ä½æƒé‡ æ¨¡å‹èƒ½è‡ªåŠ¨æ‰¾åˆ°é•¿è·ç¦»ä¾èµ–å…³ç³»ã€‚ 3. è¡¨è¾¾èƒ½åŠ›æ›´å¼ºTransformer ä½¿ç”¨ å¤šå¤´æ³¨æ„åŠ›ï¼ˆMulti-Head Attentionï¼‰ï¼š ä¸€ä¸ªå¤´å…³æ³¨è¯­ä¹‰ä¿¡æ¯ ä¸€ä¸ªå¤´å…³æ³¨å¥æ³•ç»“æ„ ä¸€ä¸ªå¤´å…³æ³¨ä»£è¯å…³ç³» â€¦â€¦ æ¨¡å‹å¯ä»¥ä»å¤šä¸ªè§’åº¦â€œçœ‹â€å¥å­ï¼Œè®©è¡¨ç¤ºæ›´åŠ ä¸°å¯Œã€‚ 4. æ›´å®¹æ˜“æ‰©å±•ã€å †å å’Œå¹¶è¡ŒTransformer æ¨¡å—åŒ–ç»“æ„æ¸…æ™°ï¼Œå¯ä»¥å †å å‡ åå±‚ç”šè‡³ä¸Šç™¾å±‚ã€‚ è¿™ä¸ºåç»­çš„æ¨¡å‹å¥ å®šäº†åŸºç¡€ï¼š BERTï¼ˆ2018ï¼‰ GPT ç³»åˆ—ï¼ˆ2018 â€“ 2024ï¼‰ ViT å›¾åƒ Transformerï¼ˆ2021ï¼‰ ChatGPTã€Claudeã€Gemini ç­‰é¡¶çº§å¤§æ¨¡å‹ éƒ½æºè‡ª Transformerã€‚ å››ã€Transformer å†…éƒ¨ç»“æ„æ¦‚è§ˆ Transformer åŒ…å« Encoderï¼ˆç¼–ç å™¨ï¼‰ å’Œ Decoderï¼ˆè§£ç å™¨ï¼‰ ä¸¤ä¸ªéƒ¨åˆ†ï¼Œä½†ç°ä»£å¤§å¤šæ•°æ¨¡å‹åªä½¿ç”¨å…¶ä¸­ä¸€éƒ¨åˆ†ï¼š æ¨¡å‹ ä½¿ç”¨ç»“æ„ BERT Encoder-only GPT Decoder-only T5 FLAN Encoder-Decoder åŸå§‹æ¶æ„ä¸­ï¼Œä¸€ä¸ª Transformer å±‚åŒ…å«ï¼š 1. Multi-Head Self-Attentionï¼ˆå¤šå¤´è‡ªæ³¨æ„åŠ›ï¼‰æ ¸å¿ƒè®¡ç®—å…¬å¼ï¼š Attention(Q, K, V) = softmax(QKáµ€ / sqrt(d_k)) V å®ç°â€œè¯ä¸è¯ä¹‹é—´ç›¸å…³æ€§â€çš„è®¡ç®—ã€‚ 2. Feed Forward Networkï¼ˆä½ç½®å‰é¦ˆç½‘ç»œï¼‰å¯¹æ¯ä¸ªè¯çš„è¡¨ç¤ºåšéçº¿æ€§å˜æ¢ï¼Œæå‡è¡¨è¾¾èƒ½åŠ›ã€‚ 3. Add Normï¼ˆæ®‹å·®è¿æ¥ + LayerNormï¼‰ä¸ºäº†è§£å†³æ·±å±‚ç½‘ç»œè®­ç»ƒå›°éš¾é—®é¢˜ã€‚ 4. Position Encodingï¼ˆä½ç½®ç¼–ç ï¼‰å› ä¸º Transformer ä¸å†ä½¿ç”¨ RNNCNNï¼Œåºåˆ—æ²¡æœ‰ä½ç½®é¡ºåºï¼Œå› æ­¤éœ€è¦ä½ç½®ç¼–ç å‘Šè¯‰æ¨¡å‹ï¼š è°æ˜¯ç¬¬ä¸€ä¸ªè¯ è°æ˜¯ç¬¬äºŒä¸ªè¯ è°æ›´é å ä½ç½®ç¼–ç é€šå¸¸ç”¨æ­£å¼¦ä½™å¼¦å‡½æ•°æ„é€ ã€‚ äº”ã€Transformer ä¹‹åï¼šæ–°æ—¶ä»£çš„å¤§æ¨¡å‹æµªæ½®Transformer è¯ç”Ÿåï¼ŒNLP é¢†åŸŸå½»åº•å˜å¤©ã€‚ 2018ï¼šBERT å‡ºç° å½»åº•æ”¹å˜ NLP é¢„è®­ç»ƒèŒƒå¼ æƒ…æ„Ÿåˆ†æã€å‘½åå®ä½“è¯†åˆ«ç­‰ä»»åŠ¡æ•ˆæœæš´æ¶¨ 2018~2020ï¼šGPT ç³»åˆ— GPT-1 â†’ GPT-2 â†’ GPT-3 è¯­è¨€ç”Ÿæˆèƒ½åŠ›å¤§å¹…æå‡ LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰æ—¶ä»£å¼€å¯ 2021ï¼šVision Transformerï¼ˆViTï¼‰Transformer æ¨¡å‹è·¨ç•Œè§†è§‰ï¼Œæ•ˆæœå¼ºäº CNN 2022~2025ï¼šChatGPT æ—¶ä»£Transformer æ¨¡å‹æˆä¸º AGI çš„åŸºç¡€æ¡†æ¶ ä¸–ç•Œå¼€å§‹æ„Ÿå— AI çš„åŠ›é‡","tags":[null],"categories":[null]},{"title":"Positional Encoding","path":"/wiki/note/posencoding.html","content":"é¦–å…ˆæŠ›å‡ºä¸€ä¸ªé—®é¢˜, ä¸ºä»€ä¹ˆTransformer è¦æœ‰ä½ç½®ç¼–ç ? â€“ å¯¹äºä»»ä½•ä¸€é—¨è¯­è¨€, å•è¯åœ¨å¥å­ä¸­çš„ä½ç½®å’Œé¡ºåºéƒ½æä¸ºé‡è¦, è¯­åºæ­£ç¡®, æ‰èƒ½è¡¨è¾¾å‡ºæ­£ç¡®å«ä¹‰ I do not like the story of the movie, but I do like the cast.I do like the story of the movie, but I do not like the cast. å¦‚ä¸Šè¿°ä¸¤ä¸ªå¥å­, ä»…æ˜¯æ”¹å˜notä½ç½®, è¡¨è¾¾çš„æ„æ€æˆªç„¶ç›¸å â€“ TransformeræŠ›å¼ƒäº†RNNå’ŒCNNä½œä¸ºåºåˆ—å­¦ä¹ çš„åŸºæœ¬æ¨¡å‹, æˆ‘ä»¬çŸ¥é“, å¾ªç¯ç¥ç»ç½‘ç»œæœ¬èº«å°±æ˜¯ä¸€ç§é¡ºåºç»“æ„, å¤©ç„¶åŒ…å«äº†è¯åœ¨åºåˆ—ä¸­çš„ä½ç½®ä¿¡æ¯, å½“æŠ›å¼ƒå¾ªç¯ç¥ç»ç½‘ç»œç»“æ„, å®Œå…¨é‡‡ç”¨Attentionå–è€Œä»£ä¹‹, è¿™äº›è¯åºä¿¡æ¯å°±ä¼šä¸¢å¤±, æ¨¡å‹å°±æ²¡æœ‰åŠæ³•ç›´åˆ°æ¯ä¸ªè¯åœ¨å¥å­ä¸­çš„ç›¸å¯¹ä½ç½®å’Œç»å¯¹ä½ç½®, å› æ­¤, æœ‰å¿…è¦æŠŠè¯åºä¿¡æ¯åŠ åˆ°è¯å‘é‡ä¸Šå¸®åŠ©æ¨¡å‹å­¦ä¹ è¿™äº›ä¿¡æ¯, ä½ç½®ç¼–ç (Positional Encoding)å°±æ˜¯ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„åŠæ³• è¿™é‡Œç»™å‡ºhuggingfaceä¸Šçš„çš„ä¸€ç¯‡æ–‡ç« , å¯¹äºä½ç½®ç¼–ç çš„è®²è§£éå¸¸æ¸…æ™°é€å½» è®¾è®¡ä½ç½®ç¼–ç https://huggingface.co/blog/zh/designing-positional-encoding ä¸€ã€ä»€ä¹ˆæ˜¯ä½ç½®ç¼–ç  åœ¨transformerçš„encoderå’Œdecoderä¸­ä½¿ç”¨äº†Positional Encoding, æœ€ç»ˆçš„è¾“å…¥å°±å˜ä¸ºäº†: input word_embedding + positional_encoding word_embedding : è¯åµŒå…¥, å°†tokençš„ç»´åº¦ä»vocab_sizeæ˜ å°„åˆ°d_model(åŸè®ºæ–‡ä¸­, d_modelä¸º512) æœ€ç»ˆçš„è¾“å…¥é€šè¿‡è¯åµŒå…¥åçš„å‘é‡å’Œä½ç½®ç¼–ç çŸ©é˜µç›¸åŠ å¾—åˆ°, æ‰€ä»¥positional_encodingä¹Ÿæ˜¯d_modelç»´åº¦çš„å‘é‡ äºŒã€ä½ç½®ç¼–ç æ„é€ æ–¹æ³•2.1 ç”¨å¢é•¿æ•°å€¼æ ‡è®°ä½ç½® ç¬¬ä¸€ä¸ªtokenæ ‡è®°1, ç¬¬äºŒä¸ªtokenæ ‡è®°2â€¦ ä»¥æ­¤ç±»æ¨ è¿™ç§æ–¹æ³•å­˜åœ¨ä¸€äº›é—®é¢˜: æ¨¡å‹å¯èƒ½é‡è§æ¯”è®­ç»ƒæ—¶æ‰€ç”¨åºåˆ—æ›´é•¿çš„åºåˆ—, ä¸åˆ©äºæ¨¡å‹æ³›åŒ– æ¨¡å‹æ— æ³•ç†è§£æ•°å­—çš„å«ä¹‰, å¯èƒ½è®¤ä¸ºå¤§æ•°å­—æ¯”å°æ•°å­—æƒé‡æ›´é«˜, è€Œéé¡ºåºæ›´é å æ— æ³•è¡¨è¾¾ç›¸å¯¹ä½ç½®ä¿¡æ¯ 2.2 ç”¨[0, 1]èŒƒå›´æ ‡è®°ä½ç½®ä¸ºè§£å†³ä¸Šè¿°é—®é¢˜, å°†æ•°å€¼é™åˆ¶åœ¨[0, 1]åŒºé—´å†…, å¯¹å…¶ç­‰åˆ†åˆ‡å‰², å‡è®¾æœ‰3ä¸ªtoken, åˆ™ä½ç½®ä¿¡æ¯ä¸º[0, 0.5, 1] è¿™æ ·äº§ç”Ÿçš„é—®é¢˜æ˜¯, åºåˆ—é•¿åº¦ä¸åŒ, ç›¸å¯¹è·ç¦»ä¹Ÿä¸åŒ, æ¨¡å‹å¯èƒ½è®¤ä¸ºè¿™æ˜¯å•è¯è¯­ä¹‰å‘ç”Ÿäº†å˜åŒ– 2.3 ç”¨äºŒè¿›åˆ¶å‘é‡æ ‡è®°ä½ç½® ç”±äºä½ç½®ä¿¡æ¯æœ€ç»ˆä¼šä½œç”¨åˆ°word_embeddingä¸Š, æ¯”èµ·ç”¨å•ä¸€çš„æ•°å€¼, æ›´å¥½çš„æ–¹å¼æ˜¯ä½¿ç”¨å’Œword_embeddingåŒçº¬åº¦çš„å‘é‡, å¯ä»¥æƒ³åˆ°, å°†æ•°å€¼è½¬æ¢æˆäºŒè¿›åˆ¶å½¢å¼ å‡è®¾d_model 3 d_modelä¸€èˆ¬æ¯”è¾ƒå¤§(512, 1024â€¦), åŸºæœ¬å¯ä»¥æŠŠæ¯ä¸ªtokençš„ä½ç½®éƒ½ç¼–ç å‡ºæ¥ ä½†è¿™æ ·ä¹Ÿå­˜åœ¨é—®é¢˜, ä¸åŒå•è¯é—´çš„ä½ç½®å˜åŒ–ä¸è¿ç»­, éš¾ä»¥æ¨æµ‹ç›¸å¯¹ä½ç½®ä¿¡æ¯ 2.4 ç”¨sinå’Œcoså‡½æ•°äº¤æ›¿æ ‡è®°ä½ç½® è¿™æ˜¯è®ºæ–‡ä¸­æå‡ºçš„æ–¹æ³• ä¸‰è§’å‡½æ•°æœ‰ç•Œä¸”è¿ç»­, å¯ä»¥æ»¡è¶³ç›®å‰çš„éœ€è¦ $$PE_{(pos, 2i)} \\sin\\left(\\frac{pos}{10000^{2id_{model}}}\\right)$$ $$PE_{(pos, 2i+1)} \\cos\\left(\\frac{pos}{10000^{2id_{model}}}\\right)$$ å‚æ•°è¯´æ˜: ç¬¦å· å«ä¹‰ pos å½“å‰ä½ç½®ï¼ˆposition indexï¼‰ i ç»´åº¦ç´¢å¼•ï¼ˆdimension indexï¼‰ d_model æ¨¡å‹ç»´åº¦ï¼ˆembedding sizeï¼Œä¾‹å¦‚512ï¼‰ PE ä½ç½®ç¼–ç çŸ©é˜µï¼ˆshape: [seq_len, d_model]ï¼‰ è¿™é‡Œåªç»™å‡ºè®¡ç®—å…¬å¼, æ•°å­¦æ¨å¯¼ç½‘ä¸Šä¼˜ç§€æ–‡ç« è¾ƒå¤š, ä¸å†æ¼”ç¤º ä¸‰. ä¸ºä»€ä¹ˆå¯ä»¥ç›´æ¥å°†è¯å‘é‡å’Œä½ç½®ç¼–ç è¿›è¡Œç›¸åŠ  è¿™æ˜¯ä¸€ç›´å›°æ‰°æˆ‘çš„ç‚¹, ä»…æ˜¯è¿›è¡Œå¼ é‡ç›¸åŠ å°±å¯ä»¥è¾¾åˆ°æ·»åŠ ä½ç½®ä¿¡æ¯çš„ä½œç”¨å—? éš¾é“è¿™æ ·ä¸ä¼šç ´åè¯å‘é‡æœ¬èº«ä¿¡æ¯å—? ç½‘ä¸Šæµè§ˆäº†ä¸€äº›åšä¸»çš„æ–‡ç« å’Œè§†é¢‘, ä½†æ˜¯ç­”æ¡ˆä¹Ÿå¹¶æ²¡é‚£ä¹ˆæ˜ç¡®, æœ‰ç‚¹å¤§åŠ›å‡ºå¥‡è¿¹çš„æ„æ€ 3.1ã€å…¬å¼å¤ä¹ Transformer çš„è¾“å…¥æ˜¯ï¼š$$X E_{\\text{word}} + E_{\\text{pos}}$$å…¶ä¸­ï¼š $E_{word}$ï¼šè¯å‘é‡ï¼ˆè¡¨ç¤ºè¯è¯­è¯­ä¹‰ï¼‰ $E_{pos}$ï¼šä½ç½®ç¼–ç ï¼ˆè¡¨ç¤ºè¯è¯­åœ¨å¥å­ä¸­çš„ä½ç½®ï¼‰ ç»´åº¦ç›¸åŒï¼ˆä¾‹å¦‚éƒ½ä¸º $d_{model}512$ï¼‰ 3.2ã€ä¸ºä»€ä¹ˆç›¸åŠ å°±èƒ½å¼•å…¥ä½ç½®ä¿¡æ¯ï¼Ÿ1. å‘é‡åŠ æ³•åœ¨åµŒå…¥ç©ºé—´ä¸­è¡¨ç¤ºâ€œç»„åˆä¿¡æ¯â€åœ¨å‘é‡ç©ºé—´ä¸­ï¼ŒåŠ æ³•è¡¨ç¤ºå åŠ ä¸åŒçš„è¯­ä¹‰å› ç´ ã€‚ æ¯”å¦‚ï¼š â€œkingâ€ â‰ˆ â€œmanâ€ + â€œroyaltyâ€ â€œParisâ€ - â€œFranceâ€ + â€œItalyâ€ â‰ˆ â€œRomeâ€ åŒç†ï¼š æŠŠè¯å‘é‡å’Œä½ç½®å‘é‡ç›¸åŠ ï¼Œå°±ç›¸å½“äºåœ¨è¯­ä¹‰ä¸­å åŠ â€œç¬¬å‡ ä¸ªè¯â€çš„ä¿¡æ¯ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–°çš„å‘é‡åŒæ—¶æºå¸¦äº†è¯ä¹‰å’Œä½ç½®ä¸¤ç§ç‰¹å¾ã€‚ 2. ç›¸åŠ ä¸ä¼šâ€œè¦†ç›–â€ä¿¡æ¯ï¼Œè€Œæ˜¯â€œåç§»â€è¯­ä¹‰ç©ºé—´æˆ‘ä»¬å¯ä»¥æŠŠæ¯ä¸ªè¯å‘é‡çœ‹æˆåœ¨ä¸€ä¸ªé«˜ç»´è¯­ä¹‰ç©ºé—´ä¸­çš„ç‚¹ã€‚ åŠ ä¸Šä½ç½®ç¼–ç åï¼Œç­‰ä»·äºæŠŠå®ƒ æ²¿ç€â€œä½ç½®ç»´åº¦æ–¹å‘â€å¹³ç§»äº†ä¸€ç‚¹ï¼š $$\\text{new_embedding semantic_embedding + position_offset}$$ æ‰€ä»¥æ¨¡å‹çœ‹åˆ°çš„ä¸æ˜¯â€œè¯ä¹‰è¢«ç ´åâ€ï¼Œè€Œæ˜¯â€œç›¸åŒè¯åœ¨ä¸åŒä½ç½®å¤„äºç•¥å¾®ä¸åŒçš„æ–¹å‘â€ã€‚ è¿™ä½¿å¾— Transformer èƒ½åŒºåˆ†ï¼š â€œI love youâ€å’Œâ€œYou love Iâ€ çš„åŒºåˆ«ã€‚ 3. æ³¨æ„åŠ›æœºåˆ¶ä¼šè‡ªåŠ¨å­¦ä¼šåˆ©ç”¨è¿™äº›ä½ç½®å·®å¼‚åœ¨è‡ªæ³¨æ„åŠ›è®¡ç®—ä¸­ï¼ŒQã€K å‘é‡éƒ½ä¼šä»è¾“å…¥ä¸­çº¿æ€§å˜æ¢å¾—åˆ°ï¼š $$Q XW_Q, \\quad K XW_K$$å› æ­¤ï¼Œä½ç½®ä¿¡æ¯é€šè¿‡ $E_{pos}$ å½±å“äº† Query-Key ç›¸ä¼¼åº¦ã€‚ å½“ä¸¤ä¸ªè¯ä½ç½®ä¸åŒã€ä½ç½®ç¼–ç ä¸åŒï¼Œå®ƒä»¬çš„æ³¨æ„åŠ›æƒé‡åˆ†å¸ƒä¹Ÿä¸åŒ â†’ æ¨¡å‹èƒ½å¤Ÿå­¦ä¹ â€œå‰åå…³ç³»â€ã€‚ 3.3ã€ä¸ºä»€ä¹ˆä¸ä¼šç ´åè¯å‘é‡åŸå§‹ä¿¡æ¯ï¼Ÿ1. ç›¸åŠ æ˜¯çº¿æ€§å¯é€†çš„ï¼ˆåœ¨ä¸€å®šç¨‹åº¦ä¸Šï¼‰å¦‚æœä¸¤ä¸ªå‘é‡ç©ºé—´çš„åˆ†å¸ƒç›¸å¯¹ç‹¬ç«‹ï¼Œçº¿æ€§ç›¸åŠ ä»èƒ½è¢«åç»­å±‚ï¼ˆçº¿æ€§å˜æ¢ï¼‰åˆ†ç¦»ï¼š $$W(E_{word}+E_{pos})WE_{word}+WE_{pos}$$Transformer çš„å¤šå±‚çº¿æ€§ç»“æ„å¯ä»¥åœ¨åç»­å±‚ä¸­é‡æ–°åˆ†è¾¨â€œè¯­ä¹‰éƒ¨åˆ†â€å’Œâ€œä½ç½®ä¿¡æ¯éƒ¨åˆ†â€ã€‚ 2. ä½ç½®ç¼–ç çš„å¹…åº¦è¾ƒå°ï¼Œä¸ä¼šæ·¹æ²¡è¯å‘é‡åœ¨å®ç°æ—¶ï¼Œä½ç½®ç¼–ç é€šå¸¸è¢«å½’ä¸€åŒ–æˆ–åˆå§‹åŒ–ä¸ºè¾ƒå°å€¼ï¼ˆä¾‹å¦‚åœ¨ [-1,1] èŒƒå›´å†…ï¼‰ã€‚ è¿™æ ·è¯å‘é‡çš„ä¸»å¯¼è¯­ä¹‰ä»ç„¶ä¿ç•™ï¼Œåªæ˜¯è½»å¾®åç§» â†’ æ³¨å…¥ä½ç½®ä¿¡æ¯ã€‚ 3. é«˜ç»´ç©ºé—´ä¸­çš„â€œä¿¡æ¯å®¹é‡â€å·¨å¤§åœ¨ 512 ç»´æˆ–æ›´é«˜çš„ç©ºé—´ä¸­ï¼Œå‘é‡å åŠ åä¸ä¼šå¯¼è‡´ä¸¥é‡çš„ä¿¡æ¯é‡å ã€‚ å°±åƒ RGB å›¾åƒé‡Œæ··åˆçº¢è‰²å’Œç»¿è‰²è¿˜èƒ½åŒºåˆ†å‡ºâ€œé»„è‰²â€ä¸€æ ·ï¼Œ è¯ä¹‰ä¸ä½ç½®ä¿¡æ¯å åŠ åä»å¯è¢«ç½‘ç»œåŒºåˆ†å’Œæå–ã€‚","tags":[null,null],"categories":[null]},{"title":"ç¼–ç å™¨","path":"/wiki/note/transformer-encoder.html","content":"","tags":[null,null],"categories":[null]},{"title":"è§£ç å™¨","path":"/wiki/note/transformer-decoder.html","content":"","tags":[null,null],"categories":[null]},{"title":"doccanoæ•°æ®æ ‡æ³¨å¹³å°","path":"/wiki/tutorial/doccano.html","content":"Doccanoå¹³å°ä»‹ç» Doccanoæ˜¯documment anotationçš„ç¼©å†™ï¼Œæ˜¯ä¸€ä¸ªå¼€æºçš„æ–‡æœ¬æ ‡æ³¨å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒä¸ºNLPä»»åŠ¡çš„è¯­æ–™åº“è¿›è¡Œæ‰“æ ‡ã€‚å®ƒæ”¯æŒæƒ…æ„Ÿåˆ†æï¼Œå‘½åå®ä½“è¯†åˆ«ï¼Œæ–‡æœ¬æ‘˜è¦ç­‰ä»»åŠ¡ã€‚ å®ƒçš„æ“ä½œéå¸¸ä¾¿æ·ï¼Œåœ¨å°å‹è¯­æ–™åº“ä¸Šï¼Œåªè¦æ•°å°æ—¶å°±èƒ½å®Œæˆå…¨éƒ¨çš„æ‰“æ ‡å·¥ä½œã€‚ä¸‹é¢ä»‹ç»ä¸€ä¸‹å¦‚ä½•å®‰è£…ã€é…ç½®å’Œä½¿ç”¨doccanoã€‚ ä¸€ã€doccanoçš„å®‰è£… doccanoçš„å®‰è£…è¦åœ¨è™šæ‹Ÿç¯å¢ƒä¸‹è¿›è¡Œï¼ è¿›å…¥ä½ ç”¨åˆ°çš„è™šæ‹Ÿç¯å¢ƒä¸­, å®‰è£…doccano pip install doccano ç„¶åï¼Œåœ¨ç»ˆç«¯é‡Œè¾“å…¥ # åˆå§‹åŒ–æ•°æ®åº“doccano init# åˆ›å»ºä¸€ä¸ªsuper userã€‚è¿™é‡Œè¦æŠŠpassæ”¹æˆä½ éœ€è¦çš„å¯†ç ã€‚å½“ç„¶ï¼Œç”¨æˆ·åä¹Ÿå¯ä»¥æ”¹æˆåˆ«çš„ã€‚doccano createuser --username admin --password 1234 äºŒã€å¯åŠ¨doccanoé¦–å…ˆï¼Œåœ¨ç»ˆç«¯ä¸­è¿è¡Œä¸‹é¢çš„ä»£ç æ¥å¯åŠ¨WebServer # å¯åŠ¨webserverdoccano webserver --port 8000 ç„¶åï¼Œæ‰“å¼€å¦ä¸€ä¸ªç»ˆç«¯ï¼Œè¿è¡Œä¸‹é¢çš„ä»£ç å¯åŠ¨â€”ä»»åŠ¡é˜Ÿåˆ—: # å¯åŠ¨ä»»åŠ¡é˜Ÿåˆ—doccano task ä¸‰ã€è¿è¡Œdoccanoä¸åˆ›å»ºæ–°çš„æ–‡æœ¬æ‰“æ ‡é¡¹ç›® é¦–å…ˆï¼Œæ‰“å¼€æµè§ˆå™¨ï¼ˆæœ€å¥½æ˜¯Chromeï¼‰ï¼Œåœ¨åœ°å€æ ä¸­è¾“å…¥http://127.0.0.1:8000/å¹¶å›è½¦ã€‚ ç„¶åï¼Œæˆ‘ä»¬ç‚¹å‡»ä¸­é—´çš„è“è‰²æŒ‰é’®â€œå¿«é€Ÿå¼€å§‹â€ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬ä¼šè·³è½¬åˆ°ç™»é™†çš„ç•Œé¢ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦ç”¨ä¹‹å‰åˆ›å»ºçš„è¶…çº§ç”¨æˆ·ç™»é™†ã€‚ å®Œæˆç™»é™†åï¼Œæˆ‘ä»¬ä¼šæ¥åˆ°â€œé¡¹ç›®â€çš„ç•Œé¢ã€‚æˆ‘ä»¬å¯ä»¥ç‚¹å‡»å·¦ä¸Šè§’çš„â€œåˆ›å»ºâ€æŒ‰é’®æ¥åˆ›å»ºæ–°çš„é¡¹ç›®ï¼›ä¹Ÿå¯ä»¥ç‚¹å‡»â€œåˆ é™¤â€æŒ‰é’®æ¥åˆ é™¤å·²ç»åˆ›å»ºçš„é¡¹ç›®ã€‚ æˆ‘ä»¬ç‚¹å‡»å·¦ä¸Šè§’çš„â€œåˆ›å»ºâ€æŒ‰é’®ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ã€‚ å¯¹é¡¹ç›®è¿›è¡ŒåŸºæœ¬çš„è¯´æ˜ï¼Œåœ¨å¡«å†™å®Œè¦æ±‚çš„ä¿¡æ¯åï¼Œç‚¹å‡»åˆ›å»ºï¼Œæˆ‘ä»¬å°±åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„NLPæ ‡æ³¨é¡¹ç›®ã€‚åœ¨åˆ›å»ºå®Œæˆåï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°é¡¹ç›®çš„ä¸»é¡µã€‚ è¿›å…¥æ•°æ®æ ‡æ³¨å¹³å° æœ€å·¦ä¾§æ˜¯ä¸€ç³»åˆ—å¯ä»¥é€‰æ‹©çš„é¡µé¢ã€‚â€œä¸»é¡µâ€è¿™ä¸ªæ ‡ç­¾ä¸‹é¢æ˜¯doccanoæä¾›çš„ä¸€ç³»åˆ—æ•™ç¨‹ï¼Œå…¶ä»–çš„é¡µé¢å¯ä»¥å¯¹é¡¹ç›®è¿›è¡Œè®¾ç½®ã€‚ ç¨åï¼Œæˆ‘ä»¬å°†åœ¨ä¸Šå›¾æ‰€ç¤ºçš„ç•Œé¢ä¸­çš„å®Œæˆæ–‡æœ¬æ‰“æ ‡é¡¹ç›®çš„å„é¡¹è®¾ç½®ã€‚æˆ‘ä»¬ä¼šä¾æ¬¡ç‚¹å‡»å·¦ä¾§çš„å„ä¸ªæ ‡ç­¾ï¼Œä¾æ¬¡è¿›è¡Œè®¾ç½®ã€‚ å››ã€æ·»åŠ è¯­æ–™åº“ æˆ‘ä»¬ç›´æ¥ä»â€œæ•°æ®é›†â€è¿™ä¸ªæ ‡ç­¾å¼€å§‹çœ‹ã€‚ åœ¨â€œæ•°æ®é›†â€è¿™ä¸ªé¡µé¢ï¼Œæˆ‘ä»¬å¯ä»¥å°†å‡†å¤‡å¥½çš„æ–‡æœ¬æ·»åŠ åˆ°é¡¹ç›®ä¸­ï¼Œä¸ºå°†æ¥çš„æ‰“æ ‡åšå‡†å¤‡ã€‚ æˆ‘ä»¬é¦–å…ˆç‚¹å‡»å·¦ä¸Šè§’çš„â€œæ“ä½œâ€â†’â€œå¯¼å…¥æ•°æ®é›†â€œã€‚ æ­¤æ—¶ï¼Œæˆ‘ä»¬ä¼šæ¥åˆ°â€ä¸Šä¼ æ•°æ®â€çš„ç•Œé¢ã€‚ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œdoccanoæ€»å…±æ”¯æŒ4ç§æ ¼å¼çš„æ–‡æœ¬ï¼Œä»–ä»¬çš„åŒºåˆ«å¦‚ä¸‹ï¼š Textfileï¼šè¦æ±‚ä¸Šä¼ çš„æ–‡ä»¶ä¸ºtxtæ ¼å¼ï¼Œå¹¶ä¸”åœ¨æ‰“æ ‡çš„æ—¶å€™ï¼Œä¸€æ•´ä¸ªtxtæ–‡ä»¶åœ¨æ‰“æ ‡çš„æ—¶å€™æ˜¾ç¤ºä¸ºä¸€é¡µå†…å®¹ï¼› Textlineï¼šè¦æ±‚ä¸Šä¼ çš„æ–‡ä»¶ä¸ºtxtæ ¼å¼ï¼Œå¹¶ä¸”åœ¨æ‰“æ ‡çš„æ—¶å€™ï¼Œè¯¥txtæ–‡ä»¶çš„ä¸€è¡Œæ–‡å­—ä¼šåœ¨æ‰“æ ‡çš„æ—¶å€™æ˜¾ç¤ºä¸ºä¸€é¡µå†…å®¹ï¼› JSONLï¼šæ˜¯JSON Linesçš„ç®€å†™ï¼Œæ¯è¡Œæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„JSONå€¼ã€‚ CoNLLï¼šæ˜¯â€œä¸­æ–‡ä¾å­˜è¯­æ–™åº“â€ï¼Œæ˜¯æ ¹æ®å¥å­çš„ä¾å­˜ç»“æ„è€Œå»ºç«‹çš„æ ‘åº“ã€‚å…¶ä¸­ï¼Œä¾å­˜ç»“æ„æè¿°çš„æ˜¯å¥å­ä¸­è¯ä¸è¯ä¹‹é—´ç›´æ¥çš„å¥æ³•å…³ç³»ã€‚å…·ä½“ä»‹ç»çœ‹æ±‰è¯­æ ‘åº“ã€‚ æ³¨æ„ï¼š doccanoå®˜æ–¹æ¨èçš„æ–‡æ¡£ç¼–ç æ ¼å¼ä¸ºUTF-8ã€‚ åœ¨ä½¿ç”¨JSONLæ ¼å¼çš„æ—¶å€™ï¼Œæ–‡å­—æ•°æ®æœ¬èº«è¦ç¬¦åˆJSONæ ¼å¼çš„è§„èŒƒã€‚ æ•°æ®é›†ä¸­ä¸è¦åŒ…å«ç©ºè¡Œã€‚ è¿™é‡Œæˆ‘ä»¬ä»¥Textlineæ ¼å¼ä¸¾ä¾‹ã€‚ç‚¹å‡»â€œTextLineæ ¼å¼â€ã€‚ç„¶ååœ¨è·³è½¬åˆ°çš„ç•Œé¢é‡Œï¼Œè®¾ç½®File Formatå’ŒEncodingã€‚ç„¶åç‚¹å‡»ä¸‹å›¾ä¸­çš„â€œDrop files hereâ€¦â€æ¥ä¸Šä¼ æ–‡ä»¶ï¼Œæœ€åï¼Œç‚¹å‡»å¯¼å…¥å³å¯ã€‚ æ­¤æ—¶ï¼Œå†ç‚¹å‡»â€œæ•°æ®é›†â€çš„æ ‡ç­¾ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°ä¸€æ¡ä¸€æ¡çš„æ–‡æœ¬å·²ç»è¢«æ·»åŠ åˆ°é¡¹ç›®ä¸­äº†ã€‚å°†æ¥æˆ‘ä»¬å°†å¯¹è¿™äº›æ–‡æœ¬è¿›è¡Œæ‰“æ ‡ã€‚ äº”ã€æ·»åŠ æ ‡ç­¾ åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬è®²è§£å¦‚ä½•å¾€é¡¹ç›®ä¸­æ·»åŠ åœ¨æ‰“æ ‡æ—¶å¯é€‰çš„æ ‡ç­¾ã€‚ åœ¨NERä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæ·»åŠ Peopleã€Locationã€Companyç­‰ï¼›åœ¨æ–‡æœ¬åˆ†ç±»ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæ·»åŠ Positiveã€Negativeç­‰æ ‡ç­¾ä½œä¸ºæ‰“æ ‡æ—¶çš„å¯é€‰æ ‡ç­¾ã€‚ æ³¨æ„ï¼Œè¿™é‡Œåªæ˜¯æ·»åŠ å°†æ¥å¯ä¾›é€‰æ‹©çš„æ ‡ç­¾ï¼Œæ˜¯é¡¹ç›®é…ç½®çš„è¿‡ç¨‹ï¼Œè€Œä¸æ˜¯è¿›è¡Œæ–‡æœ¬æ ‡æ³¨ã€‚ ç‚¹å‡»å·¦ä¾§çš„â€œæ ‡ç­¾â€æŒ‰é’®ï¼Œå°±æ¥åˆ°äº†æ·»åŠ æ ‡ç­¾çš„ç•Œé¢ã€‚ ç»§ç»­ç‚¹å‡»â€œæ“ä½œâ€æŒ‰é’®ï¼Œå¹¶åœ¨ä¸‹æ‹‰èœå•ä¸­ç‚¹å‡»â€œåˆ›å»ºæ ‡ç­¾â€æŒ‰é’®ã€‚ åœ¨å¼¹å‡ºçš„â€œåˆ›å»ºæ ‡ç­¾â€çª—å£é‡Œé¢ï¼Œåœ¨æ ‡ç­¾åä¸€æ å†™ä¸Šæ ‡ç­¾çš„åå­—ï¼Œé”®å€¼ä»£è¡¨å¿«æ·é”®ã€‚ä¾‹å¦‚åœ¨NERçš„ä¾‹å­ä¸­ï¼Œå¯ä»¥å†™Peopleã€Locationã€Companyç­‰ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ç»™Peopleè®¾ç½®çš„å¿«æ·é”®æ˜¯pã€‚å°†æ¥åœ¨æ‰“æ ‡çš„æ—¶å€™ï¼Œå³æ‰‹ç”¨é¼ æ ‡é€‰ä¸­æ®µè½ä¸­çš„æ–‡å­—ï¼ˆä¾‹å¦‚â€œç™½å±…æ˜“â€ï¼‰ï¼Œå·¦æ‰‹åœ¨é”®ç›˜æŒ‰ä¸‹å¿«æ·é”®pï¼Œå°±å¯ä»¥æŠŠè¢«é€‰ä¸­çš„æ–‡å­—æ‰“æ ‡æˆâ€œPeopleâ€ã€‚ å†å¾€ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ç»™æ ‡ç­¾è‡ªå®šä¹‰é¢œè‰²ã€‚ å…¨éƒ¨è®¾ç½®å¥½ä»¥åï¼Œç‚¹å‡»å³ä¸‹è§’çš„â€œä¿å­˜â€æŒ‰é’®ã€‚ æ­¤æ—¶ï¼Œä¸€ä¸ªæ ‡ç­¾å°±æ·»åŠ å®Œæˆäº†ã€‚æˆ‘ä»¬ä»¥åŒæ ·çš„æ–¹æ³•æ·»åŠ å…¶ä»–æ‰€éœ€è¦çš„æ ‡ç­¾ã€‚ å…­ã€æ·»åŠ æˆå‘˜ åœ¨ä¸ºæœºå™¨å­¦ä¹ çš„è¯­æ–™åº“æ‰“æ ‡çš„æ—¶å€™ï¼Œç”±äºè¯­æ–™åº“ä¸€èˆ¬æ¯”è¾ƒå¤§ï¼Œå¦‚æœè®©ä¸€ä¸ªäººç»™æ‰€æœ‰çš„æ–‡æœ¬æ‰“æ ‡çš„è¯ï¼Œé‚£åˆ°åœ°è€å¤©è’éƒ½å®Œä¸æˆã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å¤šä¸ªäººååŒå®Œæˆè¯­æ–™åº“çš„æ‰“æ ‡å·¥ä½œã€‚ å›å¿†ä¸€ä¸‹ï¼Œæ­¤æ—¶æˆ‘ä»¬çš„é¡¹ç›®è¿˜åªæœ‰ä¸€ä¸ªæˆå‘˜ï¼Œä¹Ÿå°±æ˜¯åœ¨åˆå§‹é…ç½®doccanoçš„æ—¶å€™åˆ›å»ºçš„è¶…çº§ç”¨æˆ·adminã€‚å› æ­¤ï¼Œä¸ºäº†è®©å…¶ä»–äººå‚ä¸åˆ°æ‰“æ ‡é¡¹ç›®ä¸­æ¥ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ä¸ºå…¶ä»–æˆå‘˜åˆ›å»ºè´¦æˆ·ã€‚ æˆ‘ä»¬æ‰“å¼€ç½‘é¡µhttp://127.0.0.1:8000/admin/ï¼Œæ¥åˆ°æ•°æ®åº“çš„ç®¡ç†ç³»ç»Ÿé¡µé¢Django administrationï¼Œå¹¶ç”¨è¶…çº§ç”¨æˆ·çš„è´¦å·å¯†ç ç™»é™†è¯¥ç®¡ç†ç³»ç»Ÿã€‚ æ­¤æ—¶ï¼Œæˆ‘ä»¬å†è¿”å›é¡¹ç›®çš„è®¾ç½®é¡µé¢ã€‚ç‚¹å‡»å·¦ä¾§çš„â€œæˆå‘˜â€æ ‡ç­¾ï¼Œç‚¹å‡»é¡µé¢ä¸Šçš„â€œæ·»åŠ â€æŒ‰é’®ï¼Œä¼šå¼¹å‡ºâ€œæ·»åŠ æˆå‘˜â€çª—å£ã€‚ å…¶ä¸­ï¼Œåœ¨â€œç”¨æˆ·æœç´¢æ¥å£â€çš„ä¸‹æ‹‰èœå•é‡Œé¢å¯ä»¥æ‰¾åˆ°æˆ‘ä»¬åˆšæ·»åŠ çš„ç”¨æˆ·â€œå°æ˜â€ã€‚ æ³¨æ„ï¼Œåœ¨è¿™é‡Œåªèƒ½æ‰¾åˆ°å·²ç»åˆ›å»ºåˆ°çš„ç”¨æˆ·ï¼Œè€Œä¸èƒ½åˆ›å»ºæ–°çš„ç”¨æˆ·ã€‚å¦‚æœè¦æ–°å»ºç”¨æˆ·ï¼Œå¿…é¡»è¦åˆ°å‰é¢Django administrationç•Œé¢ã€‚ åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è®¾ç½®ä¸åŒçš„æˆå‘˜çš„è§’è‰²ï¼Œä¸åŒçš„è§’è‰²å¯¹åº”ç€ä¸åŒçš„æƒé™ã€‚å¦‚ä¸‹å›¾ï¼Œæˆ‘ä»¬æŠŠå°æ˜è®¾ç½®ä¸ºâ€œæ ‡æ³¨å‘˜â€ã€‚å…¶ä»–è§’è‰²è¿˜æœ‰é¡¹ç›®ç®¡ç†å‘˜å’Œå®¡æŸ¥å‘˜ã€‚ ä¸ƒã€æ·»åŠ æ ‡æ³¨æŒ‡å— æˆ‘ä»¬å¯ä»¥äº‹å‰ç»™æ ‡æ³¨å‘˜å’Œå®¡æŸ¥å‘˜å‡†å¤‡ä¸€äº›æ ‡æ³¨æŒ‡å—ï¼Œä¾¿äºé¡¹ç›®æˆå‘˜ç†è§£æˆ‘ä»¬æ ‡æ³¨çš„è¦æ±‚å’Œæ³¨æ„ç‚¹ã€‚ ä¾‹å¦‚ï¼Œåœ¨åˆ¤æ–­æ–‡æœ¬æ­£è´Ÿé¢å€¾å‘çš„æ–‡æœ¬åˆ†ç±»ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬è¦å…·ä½“è¯´æ˜åˆ¤æ–­æ­£è´Ÿé¢çš„æ ‡å‡†ï¼Œä¾‹å¦‚æ»¡è¶³å“ªäº›è¦æ±‚ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¤ä¸ºä¸€ä¸ªæœ¬æ–‡æ˜¯æ­£é¢çš„ã€‚ å› ä¸ºä¸€ä¸‡ä¸ªè¯»è€…çœ¼é‡Œæœ‰ä¸€ä¸‡ä¸ªå“ˆå§†é›·ç‰¹ï¼Œä¸åŒäººå¯¹æ–‡æœ¬çš„ç†è§£å’Œåˆ¤æ–­æ­£è´Ÿé¢çš„å°ºåº¦æ˜¯ä¸ä¸€æ ·çš„ã€‚æˆ‘ä»¬åªæœ‰æŠŠæ ‡å‡†å†™å…·ä½“ã€å†™æ˜ç¡®äº†ï¼Œè®©äººä¸ç”¨åŠ¨è„‘ç­‹éƒ½èƒ½åšå‡ºç¬¦åˆæˆ‘ä»¬è¦æ±‚çš„åˆ¤æ–­ï¼Œæˆ‘ä»¬æ‰èƒ½å¾—åˆ°ä¸€ä¸ªå°ºåº¦ç»Ÿä¸€çš„æ•°æ®é›†ã€‚æ•°æ®é›†ä¸Šçš„æ‰“æ ‡å°ºåº¦ç»Ÿä¸€ï¼Œæ˜¯æœºå™¨å­¦ä¹ è·å¾—å¥½çš„æ•ˆæœçš„å‰æã€‚ æ·»åŠ æŒ‡å—çš„ç•Œé¢å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ å…«ã€å¼€å§‹ç»™æ–‡æœ¬æ‰“æ ‡ å‡†å¤‡å·¥ä½œå¿™æ´»äº†è€åŠå¤©ï¼Œç»ˆäºå¯ä»¥è¿›å…¥æ­£é¢˜äº†â€”-ç»™æ–‡æœ¬æ‰“æ ‡ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šé¢çš„å‰æœŸè®¾ç½®é‡Œé¢å¹¶ä¸æ˜¯æ‰€æœ‰çš„éƒ½æ˜¯å¿…é¡»çš„ã€‚åœ¨æœ€ç²¾ç®€çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»…æ·»åŠ äº†æ•°æ®é›†ä¸æ ‡ç­¾åï¼Œå°±å¼€å§‹ç»™æ–‡æœ¬æ‰“æ ‡ã€‚ è¿™é‡Œï¼Œæˆ‘ä»¬ç”¨æ ‡æ³¨å‘˜å°æ˜çš„è´¦å·ç™»é™†æ‰“æ ‡ç³»ç»Ÿåšæ¼”ç¤ºã€‚åŒæ ·æ˜¯æ‰“å¼€http://127.0.0.1:8000/åœ°å€ï¼Œè¾“å…¥å°æ˜çš„è´¦å·å¯†ç ç™»é™†ã€‚ å’Œä¹‹å‰ä¸ä¸€æ ·çš„æ˜¯ï¼Œç”±äºå°æ˜çš„è§’è‰²æ˜¯â€œæ ‡æ³¨å‘˜â€ï¼Œå› æ­¤ä»–åªæœ‰æ‰“æ ‡çš„æƒé™ï¼Œæ²¡æœ‰å¯¹é¡¹ç›®è¿›è¡Œå„é¡¹è®¾ç½®çš„æƒé™ï¼Œæ‰€ä»¥åœ¨å·¦ä¾§åˆ—è¡¨æ²¡æœ‰ç®¡ç†å‘˜ç”¨æˆ·çš„å„é¡¹è®¾ç½®é¡¹ç›®ã€‚ è¿™é‡Œæˆ‘ä»¬ç›´æ¥ç‚¹å‡»å·¦ä¸Šè§’çš„â€œå¼€å§‹æ ‡æ³¨â€è¿›è¡Œæ‰“æ ‡ã€‚ ä»¥NERä»»åŠ¡ä¸ºä¾‹ï¼Œåœ¨æ‰“æ ‡çš„ç•Œé¢ä¸‹ï¼Œæˆ‘ä»¬é€‰ä¸­å¥å­ä¸­çš„å®ä½“ï¼Œä¼šè‡ªåŠ¨å¼¹å‡ºä¸€ä¸ªä¸‹æ‹‰èœå•ï¼Œæˆ‘ä»¬å¯ä»¥ä»è¿™ä¸ªä¸‹æ‹‰èœå•ä¸­é€‰æ‹©ç›¸åº”çš„å®ä½“ç±»å‹Peopleï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨é”®ç›˜ä¸ŠæŒ‰ä¸‹pé”®ã€‚ è¿™æ˜¯æ·»åŠ æ ‡ç­¾ä¹‹åçš„æ ·å­ã€‚ ä¹ã€å¯¼å‡ºæ‰“æ ‡ç»“æœ å½“æˆ‘ä»¬è¦å¯¼å‡ºæ ‡æ³¨ç»“æœçš„æ—¶å€™ï¼Œæˆ‘ä»¬é‡æ–°ç”¨ç®¡ç†å‘˜ç”¨æˆ·ç™»é™†ï¼Œåœ¨â€œæ•°æ®é›†â€é¡µé¢ä¸‹ï¼Œç‚¹å‡»â€œæ“ä½œâ€â†’â€œå¯¼å‡ºæ•°æ®é›†â€ã€‚ åœ¨å¼¹å‡ºçš„çª—å£ä¸­ï¼Œæ ¹æ®æˆ‘ä»¬çš„éœ€è¦è¿›è¡Œè®¾ç½®åï¼Œç‚¹å‡»Exportï¼Œå³å¯å¯¼å‡ºæ ‡æ³¨ç»“æœã€‚ ä¿å­˜å¥½çš„æ–‡æœ¬æ˜¯å­—å…¸çš„æ ¼å¼ã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¿å­˜äº†å¥å­çš„IDã€å¥å­åŸæ–‡ã€å®ä½“çš„åœ¨å¥å­ä¸­çš„ä½ç½®ã€å®ä½“çš„ç±»å‹ã€‚","tags":[null,null,null],"categories":[null]},{"title":"Neo4jå›¾æ•°æ®åº“","path":"/wiki/tutorial/neo4j.html","content":"","tags":[null,null],"categories":[null]},{"title":"çŸ¥è¯†å­¦çˆ†","path":"/wiki/tutorial/index.html","content":"çŸ¥è¯†å›é¡¾å·¥å…·è¿™ä¹ˆå¤šï¼Œå‘½ä»¤è¿™ä¹ˆç¹ï¼Œä¸€æ®µæ—¶é—´ä¸ç”¨å°±ä¼šå¿˜è®°ï¼Œè¿™å¾ˆæ­£å¸¸ï¼Œéœ€è¦ç”¨æ—¶æ¥ç¿»ç¿»ã€‚æ‰³å¸ƒ"}]